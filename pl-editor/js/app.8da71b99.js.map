{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?0f16","webpack:///./src/components/Resource.vue?d11f","webpack:///./src/components/ResSelector.vue?fd8b","webpack:///./src/views/InjectPage.vue?e483","webpack:///./src/App.vue?2edb","webpack:///./src/views/ResourceManager.vue?9be3","webpack:///./src/components/Resource.vue?5d9b","webpack:///src/components/Resource.vue","webpack:///./src/components/Resource.vue?89c7","webpack:///./src/components/Resource.vue?b71d","webpack:///src/views/ResourceManager.vue","webpack:///./src/views/ResourceManager.vue?ddd2","webpack:///./src/views/ResourceManager.vue?624a","webpack:///./src/components/Role.vue?37c0","webpack:///./src/components/ResSelector.vue?6844","webpack:///src/components/ResSelector.vue","webpack:///./src/components/ResSelector.vue?94af","webpack:///./src/components/ResSelector.vue","webpack:///./src/utils/vue-util.js","webpack:///src/components/Role.vue","webpack:///./src/components/Role.vue?51cd","webpack:///./src/components/Role.vue","webpack:///./src/components/Chunk.vue?1dac","webpack:///./src/components/Section.vue?9ec7","webpack:///./src/components/RoleSelector.vue?96b3","webpack:///./src/components/RAvatar.vue?292d","webpack:///src/components/RAvatar.vue","webpack:///./src/components/RAvatar.vue?dbfc","webpack:///./src/components/RAvatar.vue","webpack:///src/components/RoleSelector.vue","webpack:///./src/components/RoleSelector.vue?1ef8","webpack:///./src/components/RoleSelector.vue","webpack:///src/components/Section.vue","webpack:///./src/components/Section.vue?0855","webpack:///./src/components/Section.vue","webpack:///src/components/Chunk.vue","webpack:///./src/components/Chunk.vue?0f20","webpack:///./src/components/Chunk.vue","webpack:///./src/components/BaseInfo.vue?7621","webpack:///src/components/BaseInfo.vue","webpack:///./src/components/BaseInfo.vue?859a","webpack:///./src/components/BaseInfo.vue","webpack:///./src/utils/objects.js","webpack:///src/App.vue","webpack:///./src/App.vue?3359","webpack:///./src/App.vue?2667","webpack:///./src/views/Home.vue?eb74","webpack:///./src/utils/storage.js","webpack:///./src/state.js","webpack:///./src/utils/actions.js","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?f458","webpack:///./src/views/Home.vue?1dce","webpack:///./src/views/RoleManager.vue?7e4d","webpack:///src/views/RoleManager.vue","webpack:///./src/views/RoleManager.vue?4560","webpack:///./src/views/RoleManager.vue","webpack:///./src/views/ChunkManager.vue?342b","webpack:///src/views/ChunkManager.vue","webpack:///./src/views/ChunkManager.vue?8eba","webpack:///./src/views/ChunkManager.vue?f9f6","webpack:///./src/views/InjectPage.vue?95e5","webpack:///src/views/InjectPage.vue","webpack:///./src/views/InjectPage.vue?f4b2","webpack:///./src/views/InjectPage.vue?99ee","webpack:///./src/views/Demonstration.vue?e82d","webpack:///src/views/Demonstration.vue","webpack:///./src/views/Demonstration.vue?bb6f","webpack:///./src/views/Demonstration.vue?cbd2","webpack:///./src/router/index.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/store/transfer.js","webpack:///./src/store/data-mutation.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/components/Role.vue?455f","webpack:///./src/views/Demonstration.vue?b0db","webpack:///./src/views/ChunkManager.vue?d0ab","webpack:///./src/views/RoleManager.vue?86cb","webpack:///./src/components/Section.vue?123a","webpack:///./src/views/Home.vue?fd99","webpack:///./src/components/Chunk.vue?7aff","webpack:///./src/views/ResourceManager.vue?feb8","webpack:///./src/components/RoleSelector.vue?f381"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","fn","ref","on","_g","_b","_v","downloadProject","script","downloadScript","cacheState","loadProjectFromCache","staticClass","$event","loadProjectFromFile","target","files","compile","open","proxy","_l","id","avatar","_s","createNewRole","title","createNewChunk","model","callback","$$v","tabIndex","expression","tab","index","getIcon","type","close","dirty","getComponent","refInFor","tag","content","markDirty","staticRenderFns","overlay","handleDrop","uid","inputFiles","res","src","errors","editName","handleEnter","removeResource","replaceRes","component","VBtn","VCard","VCardActions","VCardTitle","VIcon","VImg","VTextField","VCardSubtitle","VContainer","avatarUrl","pic","picUrl","label","messages","placeholder","noDataText","resList","handleInput","resId","VSelect","mutateWatcher","contentKey","keys","reduce","k","newVal","oldVal","$emit","VAvatar","backgroundUrl","openMenu","directives","rawName","deleteSelf","domProps","composing","subtitle","background","exit","$set","chunkList","deleteExit","addExit","sec","sections","addLine","deleteLine","focusOnSection","showBtnBar","speaker","handleInputKey","text","isOnly","_e","changingRole","roleList","roleUid","rolePicUrl","roleName","size","emptyIcon","VBtnToggle","VExpandXTransition","VTextarea","VAppBarNavIcon","VCol","VDivider","VRow","VSlideXReverseTransition","version","authors","VCombobox","deepCopy","obj","Array","isArray","map","entries","v","VApp","VAppBar","VList","VListGroup","VListItem","VListItemAvatar","VListItemSubtitle","VListItemTitle","VMain","VMenu","VNavigationDrawer","VTab","VTabItem","VTabs","VTabsItems","info","saveProject","loadProject","clearProject","_m","LS_KEY","cacheProject","project","JSON","stringify","localStorage","setItem","loadCachedProject","parse","getItem","prepareProject","chunks","roles","resources","addData","newData","uuidv4","state","chunkEditorBar","selectState","Set","primaryRoleUid","secondaryRoleUid","fillMode","clickMode","selectRange","fromIndex","toIndex","add","doDoanload","fileName","download","mapping","forEach","role","instructions","chunk","bgm","exits","e","ins","event","reader","FileReader","onload","fillProject","readAsText","proj","assign","projectTemplate","methods","roleIndex","getAvatarUrl","addRole","deleteRole","components","RAvatar","watch","computed","VAutocomplete","VInput","VListItemGroup","VSpacer","chunkIndex","chunkTitle","addChunk","toPrevPage","toNextPage","Chunk","chunkTitleList","hasPrevPage","hasNextPage","$forceUpdate","newChunk","chunkUid","inject","hasMessage","message","RoleSelector","VChip","VSnackbar","VSwitch","speakerPic","speakerName","option","handleClickOption","options","handleClickDefaultOption","modifiers","pointer","_n","forceRun","log","Vue","use","VueRouter","routes","path","Home","ResourceManager","RoleManager","ChunkManager","InjectPage","Demonstration","router","Vuetify","console","json","file","catalog","cb","genId","createResource","createRole","createChunk","remove","findIndex","removeRole","removeChunk","updateData","oldData","Vuex","Store","mutations","updateBaseInfo","actions","config","productionTip","vuetify","store","render","h","App","$mount"],"mappings":"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","file":"js/app.8da71b99.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/pl-editor/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resource.vue?vue&type=style&index=0&id=8c0dd874&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resource.vue?vue&type=style&index=0&id=8c0dd874&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResSelector.vue?vue&type=style&index=0&id=6df42ebf&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResSelector.vue?vue&type=style&index=0&id=6df42ebf&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InjectPage.vue?vue&type=style&index=0&id=65e8a157&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InjectPage.vue?vue&type=style&index=0&id=65e8a157&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"app\"}},[_c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"height\":\"32\",\"clipped-left\":\"\"}},[_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"dark\":\"\",\"text\":\"\",\"height\":\"32\",\"tile\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"文件\")])]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.downloadProject}},[_c('v-list-item-title',[_vm._v(\"下载工程\")])],1),_c('v-list-item',{attrs:{\"dense\":\"\",\"disabled\":!_vm.script},on:{\"click\":_vm.downloadScript}},[_c('v-list-item-title',[_vm._v(\"下载脚本\")])],1),_c('v-divider'),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.cacheState}},[_c('v-list-item-title',[_vm._v(\"缓存至浏览器\")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.loadProjectFromCache}},[_c('v-list-item-title',[_vm._v(\"从浏览器缓存载入工程\")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-title',{staticClass:\"p-relative\"},[_vm._v(\" 从文件载入工程 \"),_c('input',{staticClass:\"invisible-overlay\",attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.loadProjectFromFile($event.target.files[0])}}})])],1)],1)],1),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"dark\":\"\",\"text\":\"\",\"height\":\"32\",\"tile\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"工程\")])]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.compile}},[_c('v-list-item-title',[_vm._v(\"编译为测试版\")])],1),_c('v-list-item',{attrs:{\"dense\":\"\",\"disabled\":\"\"},on:{\"click\":_vm.compile}},[_c('v-list-item-title',[_vm._v(\"编译为发行版\")])],1)],1)],1),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"dark\":\"\",\"text\":\"\",\"height\":\"32\",\"tile\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"脚本\")])]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\",\"disabled\":!_vm.script},on:{\"click\":_vm.compile}},[_c('v-list-item-title',[_vm._v(\"测试脚本（需要先编译）\")])],1)],1)],1)],1),_c('v-navigation-drawer',{attrs:{\"app\":\"\",\"permanent\":\"\",\"clipped\":\"\"}},[_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){return _vm.open('base-info')}}},[_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-information-outline\")])],1),_c('v-list-item-title',[_vm._v(\"基础信息\")])],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.open('resource')}}},[_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-folder-outline\")])],1),_c('v-list-item-title',[_vm._v(\"资源管理器\")])],1),_c('v-list-group',{scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-account-outline\")])],1),_c('v-list-item-subtitle',[_vm._v(\"角色\")])]},proxy:true}])},[_vm._l((_vm.roles),function(id){return _c('v-list-item',{key:id,on:{\"click\":function($event){return _vm.open('role', id)}}},[_c('v-list-item-avatar',{attrs:{\"color\":\"grey lighten-2\"}},[_c('v-img',{attrs:{\"src\":_vm.data[_vm.data[id].avatar]}})],1),_c('v-list-item-title',[_vm._v(_vm._s(_vm.data[id].name))])],1)}),_c('v-list-item',[_c('v-btn',{staticClass:\"mx-auto\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.createNewRole}},[_vm._v(\"新建角色\")])],1)],2),_c('v-list-group',{scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-text\")])],1),_c('v-list-item-subtitle',[_vm._v(\"台词段\")])]},proxy:true}])},[_vm._l((_vm.chunks),function(id){return _c('v-list-item',{key:id,on:{\"click\":function($event){return _vm.open('chunk', id)}}},[_c('v-list-item-title',[_vm._v(_vm._s(_vm.data[id].title))])],1)}),_c('v-list-item',[_c('v-btn',{staticClass:\"mx-auto\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.createNewChunk}},[_vm._v(\"新建文本段\")])],1)],2)],1)],1),_c('v-main',{staticClass:\"fill-y\"},[_c('div',{staticClass:\"fill-y flex-grow-1 d-flex flex-column\"},[_c('v-tabs',{staticClass:\"flex-grow-0\",attrs:{\"height\":\"2em\"},model:{value:(_vm.tabIndex),callback:function ($$v) {_vm.tabIndex=$$v},expression:\"tabIndex\"}},_vm._l((_vm.tabs),function(tab,index){return _c('v-tab',{key:tab.id,attrs:{\"size\":\"small\"}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(_vm.getIcon(tab.type)))]),_c('span',{staticClass:\"mx-1\"},[_vm._v(_vm._s(tab.title))]),_c('v-btn',{attrs:{\"x-small\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.close(index)}}},[_c('v-icon',{attrs:{\"x-small\":\"\"}},[_vm._v(_vm._s(tab.dirty ? 'mdi-circle' : 'mdi-close'))])],1)],1)}),1),_c('v-divider'),_c('v-tabs-items',{staticClass:\"grey lighten-4 flex-grow-1\",attrs:{\"active-class\":\"\"},model:{value:(_vm.tabIndex),callback:function ($$v) {_vm.tabIndex=$$v},expression:\"tabIndex\"}},_vm._l((_vm.tabs),function(tab){return _c('v-tab-item',{key:tab.id,staticClass:\"fill-y grey lighten-4\"},[_c(_vm.getComponent(tab.type),{ref:\"tabs\",refInFor:true,tag:\"component\",staticClass:\"fill-y edit-area\",attrs:{\"content\":tab.content},on:{\"mutate\":function($event){return _vm.markDirty(tab)}}})],1)}),1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"resource-manager d-flex flex-wrap\",on:{\"dragover\":function($event){_vm.overlay = true},\"dragend\":function($event){_vm.overlay = false},\"drop\":_vm.handleDrop}},[_vm._l((_vm.resources),function(uid){return _c('Resouece',{key:uid,staticClass:\"resource ma-3\",attrs:{\"uid\":uid,\"res\":_vm.data[uid]}})}),_c('v-card',{staticClass:\"resource ma-3 d-flex flex-column\"},[_c('div',{staticClass:\"input-wrapper flex-grow-1 flex-shrink-1 d-flex justify-center align-center\"},[_c('v-icon',{attrs:{\"x-large\":\"\"}},[_vm._v(\"mdi-file-multiple\")]),_c('input',{attrs:{\"type\":\"file\",\"multiple\":\"\"},on:{\"change\":_vm.inputFiles}})],1),_c('v-card-subtitle',[_vm._v(\"拖拽或点击输入文件\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"d-flex flex-column\"},[_c('v-img',{staticClass:\"flex-shrink-1\",attrs:{\"src\":_vm.res.src,\"contain\":\"\"}}),_c('v-card-title',{staticClass:\"name\"},[(_vm.editName)?_c('v-text-field',{attrs:{\"hide-details\":\"auto\",\"dense\":\"\",\"error-messages\":_vm.errors},on:{\"blur\":function($event){_vm.editName = false},\"keydown\":_vm.handleEnter},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}):_c('span',{on:{\"click\":function($event){_vm.editName = true}}},[_vm._v(_vm._s(_vm.name))])],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.removeResource(_vm.id)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-share\")]),_c('input',{ref:\"btnReplace\",staticClass:\"fill\",attrs:{\"type\":\"file\"},on:{\"input\":_vm.replaceRes}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-card class=\"d-flex flex-column\">\r\n        <v-img class=\"flex-shrink-1\" :src=\"res.src\" contain />\r\n\r\n        <v-card-title class=\"name\">\r\n            <v-text-field \r\n                v-if=\"editName\"\r\n                hide-details=\"auto\"\r\n                dense \r\n                :error-messages=\"errors\"\r\n                v-model=\"name\"\r\n                @blur=\"editName = false\"\r\n                @keydown=\"handleEnter\"\r\n            />\r\n\r\n            <span v-else @click=\"editName = true\">{{ name }}</span>\r\n        </v-card-title>\r\n\r\n        <v-card-actions>\r\n            <v-btn icon @click=\"removeResource(id)\">\r\n                <v-icon>mdi-delete</v-icon>\r\n            </v-btn>\r\n\r\n            <v-btn icon>\r\n                <v-icon>mdi-share</v-icon>\r\n                <input ref=\"btnReplace\" class=\"fill\" type=\"file\" @input=\"replaceRes\" />\r\n            </v-btn>\r\n        </v-card-actions>\r\n    </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations } from 'vuex';\r\nexport default {\r\n    name: \"Resource\",\r\n\r\n    props: {\r\n        res: Object,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            id: this.res.id,\r\n            name: this.res.name,\r\n            src: this.res.src,\r\n            type: this.res.type,\r\n\r\n            editName: false,\r\n            errors: null,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        name(newVal, oldVal) {\r\n            this.errors = newVal.length === 0 ? \"名字不可为空\" : null;\r\n            if (newVal !== oldVal) {\r\n                this.$emit('mutate');\r\n            }\r\n        },\r\n\r\n        src(newVal, oldVal) {\r\n            if (newVal !== oldVal) {\r\n                this.updateData({ id: this.id, src: this.src, type: this.type })\r\n            }\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations(['removeResource', 'updateData']),\r\n\r\n        replaceRes(event) {\r\n            for (const file of event.target.files) {\r\n                const reader = new FileReader();\r\n                reader.onload = () => Object.assign(this, { src: reader.result, type: file.type });\r\n                reader.readAsDataURL(file);\r\n            }\r\n        },\r\n\r\n        handleEnter(event) {\r\n            if (event.key === 'Enter') {\r\n                this.editName = false;\r\n                this.updateData({ id: this.id, name: this.name });\r\n            }\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.name > * {\r\n    width: 100%;\r\n}\r\n\r\n.fill {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    opacity: 0;\r\n    cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resource.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resource.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Resource.vue?vue&type=template&id=8c0dd874&scoped=true&\"\nimport script from \"./Resource.vue?vue&type=script&lang=js&\"\nexport * from \"./Resource.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Resource.vue?vue&type=style&index=0&id=8c0dd874&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8c0dd874\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardTitle,VIcon,VImg,VTextField})\n","<template>\r\n    <v-container\r\n        class=\"resource-manager d-flex flex-wrap\"\r\n        @dragover=\"overlay = true\"\r\n        @dragend=\"overlay = false\"\r\n        @drop=\"handleDrop\"\r\n    >\r\n        <Resouece\r\n            class=\"resource ma-3\"\r\n            v-for=\"uid of resources\"\r\n            :key=\"uid\"\r\n            :uid=\"uid\"\r\n            :res=\"data[uid]\"\r\n        />\r\n\r\n        <v-card class=\"resource ma-3 d-flex flex-column\">\r\n            <div class=\"input-wrapper flex-grow-1 flex-shrink-1 d-flex justify-center align-center\">\r\n                <v-icon x-large>mdi-file-multiple</v-icon>\r\n\r\n                <input type=\"file\" multiple @change=\"inputFiles\" />\r\n            </div>\r\n\r\n            <v-card-subtitle>拖拽或点击输入文件</v-card-subtitle>\r\n        </v-card>\r\n\r\n        <!-- <v-overlay :value=\"false\" class=\"fill ma-auto\" absolute>\r\n            <div class=\"overlay input-wrapper d-flex flex-column justify-center align-center\">\r\n                <v-icon size=\"100\">mdi-file-multiple</v-icon>\r\n\r\n                <p class=\"mt-10\">松开鼠标以输入文件</p>\r\n\r\n                <input type=\"file\" multiple @change=\"inputFiles\" />\r\n            </div>\r\n        </v-overlay> -->\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nimport Resouece from \"@/components/Resource.vue\";\r\nimport { mapMutations, mapState } from \"vuex\";\r\n\r\nexport default {\r\n    name: \"ResourceManager\",\r\n\r\n    components: {\r\n        Resouece,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            overlay: false,\r\n        };\r\n    },\r\n    \r\n    computed: {\r\n        ...mapState([\"resources\", \"data\"]),\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations([\"createResource\"]),\r\n\r\n        inputFiles(event) {\r\n            for (const file of event.target.files) {\r\n                const dotIndex = file.name.lastIndexOf(\".\");\r\n                const name = dotIndex >= 0 ? file.name.slice(0, dotIndex) : file.name;\r\n\r\n                const reader = new FileReader();\r\n                reader.onload = () => this.createResource({ name, src: reader.result, type: file.type });\r\n                reader.readAsDataURL(file);\r\n            }\r\n        },\r\n\r\n        handleDrop() {\r\n            this.overlay = false;\r\n        },\r\n\r\n        save() {\r\n            // nop\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.resource-manager > * {\r\n    width: 10rem;\r\n    height: 16em;\r\n}\r\n\r\n.input-wrapper {\r\n    position: relative;\r\n}\r\n\r\n.input-wrapper > input[type=\"file\"] {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    opacity: 0;\r\n    user-select: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.fill {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.overlay {\r\n    width: 90vw;\r\n    height: 80vh;\r\n    border: #ffffff dashed 0.1em;\r\n    border-radius: 1em;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResourceManager.vue?vue&type=template&id=3dab9a01&scoped=true&\"\nimport script from \"./ResourceManager.vue?vue&type=script&lang=js&\"\nexport * from \"./ResourceManager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResourceManager.vue?vue&type=style&index=0&id=3dab9a01&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3dab9a01\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VCard,VCardSubtitle,VContainer,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pa-5 d-flex\"},[_c('div',{staticClass:\"form d-flex flex-column align-center\"},[_c('v-avatar',{attrs:{\"size\":\"160\",\"color\":\"grey\"}},[(_vm.avatar)?_c('img',{attrs:{\"src\":_vm.avatarUrl}}):_c('span',{staticClass:\"white--text text-h3\"},[_vm._v(_vm._s(_vm.name.slice(0, 2)))])]),_c('v-text-field',{staticClass:\"input flex-grow-0\",attrs:{\"label\":\"名字\",\"messages\":\"必填，最好不要超过三个中文\",\"placeholder\":\"角色的名字\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('ResSelector',{attrs:{\"label\":\"头像\",\"messages\":\"无实际用途，仅方便编辑\"},model:{value:(_vm.avatar),callback:function ($$v) {_vm.avatar=$$v},expression:\"avatar\"}}),_c('ResSelector',{attrs:{\"label\":\"立绘\"},model:{value:(_vm.pic),callback:function ($$v) {_vm.pic=$$v},expression:\"pic\"}})],1),_c('div',{staticClass:\"img-wrapper flex-grow-1\"},[_c('img',{attrs:{\"src\":_vm.picUrl}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-select',{attrs:{\"label\":_vm.label,\"messages\":_vm.messages,\"placeholder\":_vm.placeholder,\"no-data-text\":_vm.noDataText || '无可用资源',\"items\":_vm.resList,\"item-text\":\"name\",\"item-value\":\"id\"},on:{\"input\":_vm.handleInput},model:{value:(_vm.resId),callback:function ($$v) {_vm.resId=$$v},expression:\"resId\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-select\r\n        :label=\"label\"\r\n        :messages=\"messages\"\r\n        :placeholder=\"placeholder\"\r\n        :no-data-text=\"noDataText || '无可用资源'\"\r\n        :items=\"resList\"\r\n        v-model=\"resId\"\r\n        item-text=\"name\"\r\n        item-value=\"id\"\r\n        @input=\"handleInput\"\r\n    />\r\n</template>\r\n\r\n<script>\r\n\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n    name: 'ResSelector',\r\n\r\n    props: {\r\n        value: String,\r\n        messages: [Array, String],\r\n        label: String,\r\n        placeholder: String,\r\n        noDataText: String,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            resId: this.value,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        value(val) {\r\n            this.resId = val;\r\n        },\r\n    },\r\n\r\n    computed: {\r\n        ...mapState(['data', 'resources']),\r\n\r\n        resList() {\r\n            return this.resources.map(uid => this.data[uid]);\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        handleInput() {\r\n            this.$emit('input', this.resId);\r\n            this.changingRole = false;\r\n        },\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.role-input, \r\n.role {\r\n    width: 6em;\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResSelector.vue?vue&type=template&id=6df42ebf&scoped=true&\"\nimport script from \"./ResSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ResSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResSelector.vue?vue&type=style&index=0&id=6df42ebf&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6df42ebf\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VSelect})\n","function mutateWatcher(contentKey, ...keys) {\r\n    return keys.reduce((p, k) => (p[k] = function(newVal, oldVal) {\r\n        if (contentKey) {\r\n            this[contentKey][k] = newVal;\r\n        }\r\n        if (newVal !== oldVal) {\r\n            this.$emit('mutate');\r\n        }\r\n    }, p), {});\r\n}\r\n\r\nexport {\r\n    mutateWatcher,\r\n}","<template>\r\n    <!-- 角色展示 -->\r\n    <div class=\"pa-5 d-flex\">\r\n        <div class=\"form d-flex flex-column align-center\">\r\n            <!-- 头像预览 -->\r\n            <v-avatar \r\n                size=\"160\"\r\n                color=\"grey\"\r\n            >\r\n                <img v-if=\"avatar\" :src=\"avatarUrl\" />\r\n\r\n                <span v-else class=\"white--text text-h3\">{{ name.slice(0, 2) }}</span>\r\n            </v-avatar>\r\n\r\n            <!-- 角色名字 -->\r\n            <v-text-field\r\n                label=\"名字\"\r\n                class=\"input flex-grow-0\"\r\n                messages=\"必填，最好不要超过三个中文\"\r\n                placeholder=\"角色的名字\"\r\n                v-model=\"name\"\r\n            />\r\n\r\n            <!-- 角色头像 -->\r\n            <ResSelector label=\"头像\" messages=\"无实际用途，仅方便编辑\" v-model=\"avatar\" />\r\n\r\n            <!-- 角色的立绘 -->\r\n            <ResSelector label=\"立绘\" v-model=\"pic\" />\r\n        </div>\r\n\r\n        <!-- 立绘预览 -->\r\n        <div class=\"img-wrapper flex-grow-1\">\r\n            <img :src=\"picUrl\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport ResSelector from \"./ResSelector.vue\";\r\nimport { mapMutations, mapState } from \"vuex\";\r\nimport { mutateWatcher } from '../utils/vue-util'\r\n\r\n\r\nexport default {\r\n    name: \"Role\",\r\n\r\n    components: {\r\n        ResSelector,\r\n    },\r\n\r\n    props: {\r\n        content: Object,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            name: this.content.name,\r\n            avatar: this.content.avatar,\r\n            pic: this.content.pic,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        ...mutateWatcher('content', 'name', 'avatar', 'pic'),\r\n    },\r\n\r\n    computed: {\r\n        ...mapState([\"data\"]),\r\n\r\n        id() {\r\n            return this.content.id;\r\n        },\r\n\r\n        picUrl() {\r\n            const res = this.data[this.pic];\r\n            return res ? res.src : null;\r\n        },\r\n\r\n        avatarUrl() {\r\n            const res = this.data[this.avatar];\r\n            return res ? res.src : null;\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations(['updateData']),\r\n\r\n        save() {\r\n            this.updateData({\r\n                id: this.id,\r\n                name: this.name,\r\n                avatar: this.avatar,\r\n                pic: this.pic,\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.img-wrapper {\r\n    flex: 1;\r\n    text-align: center;\r\n\r\n    img {\r\n        max-width: 100%;\r\n        height: 100%;\r\n        object-fit: contain;\r\n        object-position: center;\r\n    }\r\n}\r\n\r\n.form {\r\n    > * {\r\n        width: 20em;\r\n        margin-top: 1.5em;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Role.vue?vue&type=template&id=5f927c0d&scoped=true&\"\nimport script from \"./Role.vue?vue&type=script&lang=js&\"\nexport * from \"./Role.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Role.vue?vue&type=style&index=0&id=5f927c0d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f927c0d\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAvatar,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chunk fill px-5\"},[_c('v-container',{staticClass:\"pa-0 d-flex flex-column\"},[_c('div',{staticClass:\"chunk-info pa-5\"},[_c('img',{staticClass:\"background\",attrs:{\"cover\":\"\",\"width\":\"100%\",\"gradient\":\"#ffffffaf 0%, #ffffffaf 50%, #fff 100%\",\"src\":_vm.backgroundUrl}}),_c('div',{staticClass:\"text-right ma-1\",on:{\"mouseleave\":function($event){_vm.openMenu = false}}},[_c('v-slide-x-reverse-transition',[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openMenu),expression:\"openMenu\"}]},[_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\",\"color\":\"warning\"},on:{\"click\":_vm.deleteSelf}},[_c('v-icon',[_vm._v(\"mdi-delete\")]),_vm._v(\"删除 \")],1)],1)]),_c('v-app-bar-nav-icon',{on:{\"click\":function($event){_vm.openMenu = !_vm.openMenu}}})],1),_c('v-row',{attrs:{\"align\":\"baseline\"}},[_c('v-col',{attrs:{\"cols\":\"2\"}},[_vm._v(\"标题\")]),_c('v-col',{attrs:{\"cols\":\"10\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"text-h4\",attrs:{\"type\":\"text\",\"placeholder\":\"此处输入标题\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}})])],1),_c('v-row',{attrs:{\"align\":\"baseline\"}},[_c('v-col',{attrs:{\"cols\":\"2\"}},[_vm._v(\"副标题\")]),_c('v-col',{attrs:{\"cols\":\"10\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.subtitle),expression:\"subtitle\"}],staticClass:\"text-subtitle-1\",attrs:{\"type\":\"text\",\"placeholder\":\"此处输入副标题\"},domProps:{\"value\":(_vm.subtitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.subtitle=$event.target.value}}})])],1),_c('v-row',{attrs:{\"align\":\"baseline\"}},[_c('v-col',{attrs:{\"cols\":\"2\"}},[_vm._v(\"背景\")]),_c('v-col',{attrs:{\"cols\":\"10\"}},[_c('ResSelector',{attrs:{\"placeholder\":\"选择背景\"},model:{value:(_vm.background),callback:function ($$v) {_vm.background=$$v},expression:\"background\"}})],1)],1),_c('v-container',[_vm._l((_vm.exits),function(exit,index){return _c('v-row',{key:index},[_c('v-col',{attrs:{\"cols\":\"1\"}},[_vm._v(_vm._s(index + 1))]),_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(exit.text),expression:\"exit.text\"}],domProps:{\"value\":(exit.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(exit, \"text\", $event.target.value)}}})]),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"hide-details\":\"\",\"items\":_vm.chunkList,\"item-text\":\"title\",\"item-value\":\"uid\"},model:{value:(exit.target),callback:function ($$v) {_vm.$set(exit, \"target\", $$v)},expression:\"exit.target\"}})],1),_c('v-col',{attrs:{\"cols\":\"1\"}},[_c('v-btn',{on:{\"click\":function($event){return _vm.deleteExit(index)}}},[_vm._v(\"删除\")])],1)],1)}),_c('v-row',[_c('v-btn',{attrs:{\"block\":\"\"},on:{\"click\":_vm.addExit}},[_vm._v(\"新分支\")])],1)],2)],1)]),_c('v-divider'),_c('div',{staticClass:\"content\"},_vm._l((_vm.sections),function(sec,index){return _c('Section',{key:index,ref:\"section\",refInFor:true,attrs:{\"index\":index,\"section\":sec,\"is-only\":_vm.sections.length === 1},on:{\"add-line\":_vm.addLine,\"delete-line\":_vm.deleteLine,\"focus\":_vm.focusOnSection,\"mutate\":function($event){return _vm.$emit('mutate')}}})}),1),_c('v-row',{staticClass:\"flex-grow-0 pa-2\"},[_c('v-btn',{ref:\"btnAdd\",staticClass:\"mx-auto\",attrs:{\"color\":\"primary\",\"elevation\":\"0\"},on:{\"click\":_vm.addLine}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\"新台词 \")],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section d-flex align-start\",attrs:{\"align\":\"start\"},on:{\"mouseenter\":function($event){_vm.showBtnBar = true},\"mouseleave\":function($event){_vm.showBtnBar = false}}},[_c('span',{staticClass:\"mt-2 d-flex align-center\"},[_c('span',{staticClass:\"line-number text-subtitle-2 mr-3\"},[_vm._v(_vm._s(_vm.index + 1))]),_c('span',{staticClass:\"speaker\"},[_c('RoleSelector',{model:{value:(_vm.speaker),callback:function ($$v) {_vm.speaker=$$v},expression:\"speaker\"}})],1),_c('span',[_vm._v(\":\")])]),_c('span',{staticClass:\"mx-2 flex-grow-1\"},[_c('v-textarea',{ref:\"textInput\",staticClass:\"text-input py-1\",attrs:{\"rows\":\"1\",\"auto-grow\":\"\",\"dense\":\"\",\"hide-details\":\"\"},on:{\"keyup\":_vm.handleInputKey},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),_c('v-expand-x-transition',[(_vm.showBtnBar)?_c('v-btn-toggle',{staticClass:\"btn-tgl mt-2\",attrs:{\"dense\":\"\",\"rounded\":\"\",\"borderless\":\"\"}},[_c('v-btn',{staticClass:\"delete-btn\",attrs:{\"icon\":\"\",\"height\":\"2em\",\"color\":\"green\"},on:{\"click\":function($event){return _vm.$emit('add-line', _vm.index)}}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1),(!_vm.isOnly)?_c('v-btn',{staticClass:\"delete-btn\",attrs:{\"icon\":\"\",\"height\":\"2em\",\"color\":\"red\"},on:{\"click\":function($event){return _vm.$emit('delete-line', _vm.index)}}},[_c('v-icon',[_vm._v(\"mdi-minus\")])],1):_vm._e()],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.changingRole)?_c('span',{staticClass:\"role\",on:{\"blur\":function($event){_vm.changingRole = false}}},[_c('v-select',{attrs:{\"dense\":\"\",\"hide-details\":\"\",\"items\":_vm.roleList,\"item-text\":\"name\",\"item-value\":\"id\",\"no-data-text\":\"无可用角色\"},on:{\"input\":_vm.handleInput},model:{value:(_vm.roleUid),callback:function ($$v) {_vm.roleUid=$$v},expression:\"roleUid\"}})],1):_c('span',{staticClass:\"role d-flex align-center\",on:{\"click\":function($event){_vm.changingRole = true}}},[_c('RAvatar',{attrs:{\"size\":\"2em\",\"contain\":\"\",\"src\":_vm.rolePicUrl}}),_c('span',[_vm._v(_vm._s(_vm.roleName))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-avatar',{attrs:{\"size\":_vm.size}},[(_vm.src)?_c('v-img',{attrs:{\"src\":_vm.src,\"contain\":\"\"}}):_c('v-icon',{attrs:{\"size\":\"normal\"}},[_vm._v(_vm._s(_vm.emptyIcon))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-avatar :size=\"size\">\r\n        <v-img\r\n            v-if=\"src\"\r\n            :src=\"src\"\r\n            contain\r\n        />\r\n        <v-icon \r\n            v-else\r\n            size=\"normal\"\r\n        >{{ emptyIcon }}</v-icon>\r\n    </v-avatar>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'RAvatar',\r\n\r\n    props: {\r\n        src: String,\r\n        size: {\r\n            type: [String, Number],\r\n            default: '1em'\r\n        },\r\n        emptyIcon: {\r\n            type: String,\r\n            default: 'mdi-account-alert-outline'\r\n        }\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            text: this.value,\r\n        };\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RAvatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RAvatar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RAvatar.vue?vue&type=template&id=651caef7&scoped=true&\"\nimport script from \"./RAvatar.vue?vue&type=script&lang=js&\"\nexport * from \"./RAvatar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"651caef7\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\ninstallComponents(component, {VAvatar,VIcon,VImg})\n","<template>\r\n    <span \r\n        v-if=\"changingRole\"\r\n        class=\"role\"\r\n        @blur=\"changingRole = false\"\r\n    >\r\n        <v-select\r\n            dense\r\n            hide-details\r\n            :items=\"roleList\"\r\n            v-model=\"roleUid\"\r\n            item-text=\"name\"\r\n            item-value=\"id\"\r\n            no-data-text=\"无可用角色\"\r\n            @input=\"handleInput\"\r\n        />\r\n    </span>\r\n\r\n    <span \r\n        v-else\r\n        class=\"role d-flex align-center\"\r\n        @click=\"changingRole = true\"\r\n    >\r\n        <RAvatar\r\n            size=\"2em\"\r\n            contain\r\n            :src=\"rolePicUrl\"\r\n        />\r\n        <span>{{ roleName }}</span>\r\n    </span>\r\n</template>\r\n\r\n<script>\r\n\r\nimport RAvatar from '@/components/RAvatar.vue'\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n    name: 'RoleSelector',\r\n\r\n    components: {\r\n        RAvatar\r\n    },\r\n\r\n    props: {\r\n        value: String,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            changingRole: false,\r\n            roleUid: this.value,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        value(val) {\r\n            this.roleUid = val;\r\n        },\r\n    },\r\n\r\n    computed: {\r\n        ...mapState(['roles', 'data', 'resources']),\r\n\r\n        roleList() {\r\n            return this.roles.map(uid => this.data[uid]);\r\n        },\r\n\r\n        roleName() {\r\n            if (this.roleUid) {\r\n                const role = this.data[this.roleUid];\r\n                return role.name;\r\n            }\r\n            return '';\r\n        },\r\n\r\n        rolePicUrl() {\r\n            if (this.roleUid) {\r\n                const role = this.data[this.roleUid];\r\n                if (role) {\r\n                    const res = this.data[role.avatar || role.pic];\r\n                    if (res) {\r\n                        return res.src;\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        handleInput() {\r\n            this.$emit('input', this.roleUid);\r\n            this.changingRole = false;\r\n        },\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.role-input, \r\n.role {\r\n    width: 6em;\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoleSelector.vue?vue&type=template&id=6dc2f815&scoped=true&\"\nimport script from \"./RoleSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./RoleSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoleSelector.vue?vue&type=style&index=0&id=6dc2f815&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6dc2f815\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VSelect})\n","<template>\r\n    <div\r\n        class=\"section d-flex align-start\"\r\n        align=\"start\"\r\n        @mouseenter=\"showBtnBar = true\"\r\n        @mouseleave=\"showBtnBar = false\"\r\n    >\r\n        <span class=\"mt-2 d-flex align-center\">\r\n            <!-- 行号 -->\r\n            <span class=\"line-number text-subtitle-2 mr-3\">{{ index + 1 }}</span>\r\n            \r\n            <span class=\"speaker\">\r\n                <RoleSelector v-model=\"speaker\"/>\r\n            </span>\r\n            \r\n            <span>:</span>\r\n        </span>\r\n\r\n        <!-- 文本输入 -->\r\n        <span class=\"mx-2 flex-grow-1\">\r\n            <v-textarea\r\n                rows=\"1\"\r\n                auto-grow\r\n                dense\r\n                hide-details\r\n                ref=\"textInput\"\r\n                class=\"text-input py-1\"\r\n                v-model=\"text\"\r\n                @keyup=\"handleInputKey\"\r\n            />\r\n        </span>\r\n\r\n        <!-- 增减工具 -->\r\n        <v-expand-x-transition>\r\n            <v-btn-toggle \r\n                v-if=\"showBtnBar\"\r\n                class=\"btn-tgl mt-2\"\r\n                dense\r\n                rounded\r\n                borderless\r\n            >\r\n                <!-- 在当前行之前插入一行 -->\r\n                <v-btn \r\n                    icon \r\n                    height=\"2em\"\r\n                    class=\"delete-btn\" \r\n                    color=\"green\"\r\n                    @click=\"$emit('add-line', index)\"\r\n                ><v-icon>mdi-plus</v-icon></v-btn>\r\n                \r\n                <!-- 删去该行 -->\r\n                <v-btn \r\n                    v-if=\"!isOnly\"\r\n                    icon \r\n                    height=\"2em\"\r\n                    class=\"delete-btn\" \r\n                    color=\"red\"\r\n                    @click=\"$emit('delete-line', index)\"\r\n                ><v-icon>mdi-minus</v-icon></v-btn>\r\n            </v-btn-toggle>\r\n        </v-expand-x-transition>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport RoleSelector from './RoleSelector.vue'\r\nimport { mutateWatcher } from '../utils/vue-util'\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n    name: 'Section',\r\n\r\n    components: {\r\n        RoleSelector,\r\n    },\r\n\r\n    props: {\r\n        index: Number,\r\n        section: Object,\r\n        isOnly: Boolean,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            speaker: null,\r\n            text: '',\r\n            \r\n            showBtnBar: false,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        ...mutateWatcher('section', 'speaker', 'text'),\r\n    },\r\n\r\n    computed: {\r\n        ...mapState(['data']),\r\n\r\n        speakerName() {\r\n            if (this.speaker) {\r\n                const role = this.data[this.speaker];\r\n                if (role && role.pic) {\r\n                    return role.name;\r\n                }\r\n            }\r\n            return '      ';\r\n        },\r\n\r\n        speakerPicUrl() {\r\n            if (this.speaker) {\r\n                const role = this.data[this.speaker];\r\n                if (role) {\r\n                    const res = this.data[role.avatar || role.pic];\r\n                    if (res) {\r\n                        return res.src;\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        focus() {\r\n            this.$refs.textInput.focus();\r\n        },\r\n\r\n        handleInputKey(event) {\r\n            let doPreventDefault = true;\r\n            if (!event.ctrlKey) {\r\n                return;\r\n            }\r\n            switch(event.key) {\r\n                case 'Enter': this.$emit('add-line', this.index + 1); break;\r\n                case 'ArrowUp': this.$emit('focus', this.index - 1); break;\r\n                case 'ArrowDown': this.$emit('focus', this.index + 1); break;\r\n                case 'Backspace': {\r\n                    if (/^\\s*$/.test(this.section.text)) {\r\n                        this.$emit('delete-line', this.index);\r\n                    }\r\n                } break;\r\n                default: doPreventDefault = false;\r\n            }\r\n\r\n            if (doPreventDefault) {\r\n                event.preventDefault();\r\n            }\r\n        }\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.section {\r\n    width: 100%;\r\n\r\n    * {\r\n        z-index: inherit;\r\n    }\r\n}\r\n\r\n.line-number {\r\n    width: 2.5em;\r\n    text-align: right;\r\n}\r\n\r\n.speaker-input, \r\n.speaker {\r\n    width: 6em;\r\n}\r\n\r\n.speaker {\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.inline {\r\n    display: inline;\r\n}\r\n\r\n.text-input {\r\n    width: 100%;\r\n    resize: none;\r\n    outline: none;\r\n}\r\n\r\n.selected {\r\n    background-color: #0000000F;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Section.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Section.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Section.vue?vue&type=template&id=4240e50d&scoped=true&\"\nimport script from \"./Section.vue?vue&type=script&lang=js&\"\nexport * from \"./Section.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Section.vue?vue&type=style&index=0&id=4240e50d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4240e50d\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VBtnToggle } from 'vuetify/lib/components/VBtnToggle';\nimport { VExpandXTransition } from 'vuetify/lib/components/transitions';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VBtnToggle,VExpandXTransition,VIcon,VTextarea})\n","<template>\r\n    <div class=\"chunk fill px-5\">\r\n        <v-container class=\"pa-0 d-flex flex-column\">\r\n            <div class=\"chunk-info pa-5\">\r\n                <!-- 背景预览 -->\r\n                <img\r\n                    class=\"background\"\r\n                    cover\r\n                    width=\"100%\"\r\n                    gradient=\"#ffffffaf 0%, #ffffffaf 50%, #fff 100%\"\r\n                    :src=\"backgroundUrl\"\r\n                />\r\n\r\n                <div class=\"text-right ma-1\" @mouseleave=\"openMenu = false\">\r\n                    <v-slide-x-reverse-transition>\r\n                        <span v-show=\"openMenu\">\r\n                            <v-btn small text color=\"warning\" @click=\"deleteSelf\">\r\n                                <v-icon>mdi-delete</v-icon>删除\r\n                            </v-btn>\r\n                        </span>\r\n                    </v-slide-x-reverse-transition>\r\n\r\n                    <v-app-bar-nav-icon \r\n                        @click=\"openMenu = !openMenu\"\r\n                    />\r\n                </div>\r\n\r\n                <!-- 输入标题 -->\r\n                <v-row align=\"baseline\">\r\n                    <v-col cols=\"2\">标题</v-col>\r\n                    <v-col cols=\"10\">\r\n                        <input\r\n                            class=\"text-h4\"\r\n                            type=\"text\"\r\n                            v-model=\"title\"\r\n                            placeholder=\"此处输入标题\"\r\n                        />\r\n                    </v-col>\r\n                </v-row>\r\n\r\n                <!-- 输入副标题 -->\r\n                <v-row align=\"baseline\">\r\n                    <v-col cols=\"2\">副标题</v-col>\r\n                    <v-col cols=\"10\">\r\n                        <input\r\n                            class=\"text-subtitle-1\"\r\n                            type=\"text\"\r\n                            v-model=\"subtitle\"\r\n                            placeholder=\"此处输入副标题\"\r\n                        />\r\n                    </v-col>\r\n                </v-row>\r\n\r\n                <!-- 选择背景 -->\r\n                <v-row align=\"baseline\">\r\n                    <v-col cols=\"2\">背景</v-col>\r\n                    <v-col cols=\"10\">\r\n                        <ResSelector \r\n                            placeholder=\"选择背景\"\r\n                            v-model=\"background\"\r\n                        />\r\n                    </v-col>\r\n                </v-row>\r\n\r\n                <v-container>\r\n                    <v-row v-for=\"(exit, index) of exits\" :key=\"index\">\r\n                        <v-col cols=\"1\">{{ index + 1 }}</v-col>\r\n                        <v-col cols=\"8\">\r\n                            <input v-model=\"exit.text\" />\r\n                        </v-col>\r\n                        <v-col cols=\"2\">\r\n                            <v-select\r\n                                dense\r\n                                hide-details\r\n                                v-model=\"exit.target\"\r\n                                :items=\"chunkList\"\r\n                                item-text=\"title\"\r\n                                item-value=\"uid\"\r\n                            />\r\n                        </v-col>\r\n                        <v-col cols=\"1\">\r\n                            <v-btn @click=\"deleteExit(index)\">删除</v-btn>\r\n                        </v-col>\r\n                    </v-row>\r\n                    <v-row>\r\n                        <v-btn block @click=\"addExit\">新分支</v-btn>\r\n                    </v-row>\r\n                </v-container>\r\n            </div>\r\n        </v-container>\r\n\r\n        <v-divider />\r\n\r\n        <!-- 具体段落 -->\r\n        <div class=\"content\">\r\n            <Section\r\n                ref=\"section\"\r\n                v-for=\"(sec, index) of sections\"\r\n                :key=\"index\"\r\n                :index=\"index\"\r\n                :section=\"sec\"\r\n                :is-only=\"sections.length === 1\"\r\n                @add-line=\"addLine\"\r\n                @delete-line=\"deleteLine\"\r\n                @focus=\"focusOnSection\"\r\n                @mutate=\"$emit('mutate')\"\r\n            />\r\n        </div>\r\n        <!-- <v-virtual-scroll \r\n            class=\"content overflow-auto ma-0 px-15 py-2 flex-grow-1\"\r\n            item-height=\"35\"\r\n            :items=\"sections\"\r\n        >\r\n            <template v-slot=\"{ item, index }\">\r\n                <Section\r\n                    ref=\"section\"\r\n                    :index=\"index\"\r\n                    :section=\"item\"\r\n                    :is-only=\"sections.length === 1\"\r\n                    @add-line=\"addLine\"\r\n                    @delete-line=\"deleteLine\"\r\n                    @focus=\"focusOnSection\"\r\n                />\r\n            </template>\r\n            </v-virtual-scroll>-->\r\n\r\n        <v-row class=\"flex-grow-0 pa-2\">\r\n            <v-btn \r\n                class=\"mx-auto\"\r\n                ref=\"btnAdd\" \r\n                color=\"primary\" \r\n                @click=\"addLine\" \r\n                elevation=\"0\"\r\n            >\r\n                <v-icon>mdi-plus</v-icon>新台词\r\n            </v-btn>\r\n        </v-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState } from \"vuex\";\r\nimport { mutateWatcher } from '../utils/vue-util'\r\nimport ResSelector from './ResSelector'\r\n\r\nimport Section from \"./Section.vue\";\r\n\r\nexport default {\r\n    name: \"Chunk\",\r\n\r\n    components: {\r\n        Section,\r\n        ResSelector\r\n    },\r\n\r\n    props: {\r\n        content: Object,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            id: this.content.id,\r\n            title: this.content.title,\r\n            subtitle: this.content.subtitle,\r\n            background: this.content.background,\r\n            // bgm: null,\r\n            sections: this.content.sections,\r\n            exits: this.content.exits,\r\n\r\n            openMenu: false,\r\n        };\r\n    },\r\n    \r\n\r\n    watch: {\r\n        ...mutateWatcher('content', 'title', 'subtitle', 'background'),\r\n    },\r\n\r\n    computed: {\r\n        ...mapState([\"data\", \"chunks\"]),\r\n\r\n        chunkList() {\r\n            return this.chunks.map((uid) => this.data[uid]);\r\n        },\r\n\r\n        backgroundUrl() {\r\n            if (this.background) {\r\n                const res = this.data[this.background];\r\n                return res ? res.src : null;\r\n            }\r\n            return null;\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations([\"removeChunk\", 'updateData']),\r\n\r\n        addLine(index) {\r\n            if (\"number\" !== typeof index || index < 0 || index > this.sections.length) {\r\n                index = this.sections.length;\r\n            }\r\n            const speaker = index ? this.sections[index - 1].speaker : null;\r\n            const section = { speaker, text: \"\" };\r\n            this.sections.splice(index, 0, section);\r\n            this.$emit('mutate');\r\n            this.$nextTick(() => this.focusOnSection(index));\r\n        },\r\n\r\n        deleteLine(index) {\r\n            this.sections.splice(index, 1);\r\n            this.$emit('mutate');\r\n            this.$nextTick(() => this.focusOnSection(index - 1));\r\n        },\r\n\r\n        addExit() {\r\n            this.exits.push({\r\n                text: \"\",\r\n                target: null,\r\n            });\r\n            this.$emit('mutate');\r\n        },\r\n\r\n        deleteExit(index) {\r\n            this.exits.splice(index, 1);\r\n            this.$emit('mutate');\r\n        },\r\n\r\n        deleteSelf() {\r\n            this.removeChunk(this.id);\r\n        },\r\n\r\n        focusOnSection(index) {\r\n            index = Math.max(0, Math.min(index, this.sections.length - 1));\r\n            const list = this.$refs.section;\r\n            if (list.length && index < list.length) {\r\n                list[index].focus();\r\n            }\r\n        },\r\n\r\n        save() {\r\n            this.updateData({\r\n                id: this.content.id,\r\n                title: this.title,\r\n                subtitle: this.subtitle,\r\n                background: this.background,\r\n                // bgm: null,\r\n                sections: this.sections,\r\n                exits: this.exits,\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.chunk {\r\n    z-index: 1;\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\n.chunk-info {\r\n    background-color: #ffffff80;\r\n    position: relative;\r\n    overflow: hidden;\r\n    z-index: 2;\r\n\r\n    * {\r\n        z-index: 2;\r\n    }\r\n\r\n    .background {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        z-index: 0;\r\n        filter: opacity(20%);\r\n    }\r\n}\r\n\r\ninput {\r\n    width: 100%;\r\n}\r\n\r\np {\r\n    padding: 0;\r\n    margin: 0;\r\n}\r\n\r\n.fill {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.overflow-auto {\r\n    overflow: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chunk.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chunk.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chunk.vue?vue&type=template&id=6f8e05fd&scoped=true&\"\nimport script from \"./Chunk.vue?vue&type=script&lang=js&\"\nexport * from \"./Chunk.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Chunk.vue?vue&type=style&index=0&id=6f8e05fd&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f8e05fd\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBarNavIcon } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSlideXReverseTransition } from 'vuetify/lib/components/transitions';\ninstallComponents(component, {VAppBarNavIcon,VBtn,VCol,VContainer,VDivider,VIcon,VRow,VSelect,VSlideXReverseTransition})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-text-field',{attrs:{\"label\":\"剧本名称\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('v-text-field',{attrs:{\"label\":\"版本\"},model:{value:(_vm.version),callback:function ($$v) {_vm.version=$$v},expression:\"version\"}}),_c('v-combobox',{attrs:{\"chips\":\"\",\"multiple\":\"\",\"deletable-chips\":\"\",\"label\":\"作者\"},model:{value:(_vm.authors),callback:function ($$v) {_vm.authors=$$v},expression:\"authors\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-container>\r\n        <v-text-field\r\n            label=\"剧本名称\"\r\n            v-model=\"name\"\r\n        />\r\n\r\n        <v-text-field\r\n            label=\"版本\"\r\n            v-model=\"version\"\r\n        />\r\n\r\n        <v-combobox\r\n            chips\r\n            multiple\r\n            deletable-chips\r\n            label=\"作者\"\r\n            v-model=\"authors\"\r\n        />\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations } from 'vuex';\r\nimport { mutateWatcher } from '../utils/vue-util.js'\r\n\r\nexport default {\r\n    name: \"BaseInfo\",\r\n\r\n    data() {\r\n        return {\r\n            name: this.$store.state.name,\r\n            version: this.$store.state.version,\r\n            authors: this.$store.state.authors,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        ...mutateWatcher(null, 'name', 'version', 'authors'),\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations(['updateBaseInfo']),\r\n\r\n        save() {\r\n            this.updateBaseInfo({\r\n                name: this.name, \r\n                version: this.version,\r\n                authors: this.authors,\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseInfo.vue?vue&type=template&id=0a60b531&\"\nimport script from \"./BaseInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCombobox,VContainer,VTextField})\n","const Objects = {\r\n    /**\r\n     * 使用填充内容覆盖原始对象，若一个属性只存在于填充内容中，而不存在原始对象中，则忽略\r\n     * @param {Object} oldObj 原始对象 \r\n     * @param {Object} filler 填充内容\r\n     * @returns {Object} 返回原始对象\r\n     */\r\n    cover(oldObj, filler) {\r\n        for (let key of Object.keys(oldObj)) {\r\n            if (filler[key] !== undefined) {\r\n                oldObj[key] = filler[key];\r\n            }\r\n        }\r\n        return oldObj;\r\n    }\r\n};\r\n\r\nconst Arrays = {\r\n\r\n    /**\r\n     * 找出一个对象数组中相同键对应的不唯一的值\r\n     * @param {Array<Object>} array 数组\r\n     * @param {String} key ID的键\r\n     * @returns {Array<String>} 冲突键的值\r\n     */\r\n    conflict(array, key) {\r\n        const set = new Set();\r\n        const result = new Set();\r\n        for (let elem of array) {\r\n            if (set.has(elem[key])) {\r\n                result.add(elem[key]);\r\n            }\r\n            set.add(elem[key]);\r\n        }\r\n        return [...result];\r\n    }\r\n};\r\n\r\nfunction deepCopy(obj) {\r\n    if (Array.isArray(obj)) {\r\n        return obj.map(deepCopy);\r\n    } else if ('object' === typeof obj && obj !== null) {\r\n        return Object.entries(obj).reduce((p, [k, v]) => (p[k] = deepCopy(v), p), {});\r\n    } else {\r\n        return obj;\r\n    }\r\n}\r\n\r\nexport {\r\n    Objects,\r\n    Arrays,\r\n    deepCopy,\r\n}\r\n","<template>\r\n    <v-app id=\"app\">\r\n        <v-app-bar app color=\"primary\" height=\"32\" clipped-left>\r\n            <v-menu offset-y>\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-btn\r\n                        dark\r\n                        v-bind=\"attrs\"\r\n                        v-on=\"on\"\r\n                        text\r\n                        height=\"32\"\r\n                        tile\r\n                    >文件</v-btn>\r\n                </template>\r\n\r\n                <v-list>\r\n                    <v-list-item dense @click=\"downloadProject\">\r\n                        <v-list-item-title>下载工程</v-list-item-title>\r\n                    </v-list-item>\r\n\r\n                    <v-list-item dense @click=\"downloadScript\" :disabled=\"!script\">\r\n                        <v-list-item-title>下载脚本</v-list-item-title>\r\n                    </v-list-item>\r\n\r\n                    <v-divider/>\r\n\r\n                    <v-list-item dense @click=\"cacheState\">\r\n                        <v-list-item-title>缓存至浏览器</v-list-item-title>\r\n                    </v-list-item>\r\n\r\n                    <v-list-item dense @click=\"loadProjectFromCache\">\r\n                        <v-list-item-title>从浏览器缓存载入工程</v-list-item-title>\r\n                    </v-list-item>\r\n\r\n                    <v-list-item dense>\r\n                        <v-list-item-title class=\"p-relative\">\r\n                            从文件载入工程\r\n                            <input class=\"invisible-overlay\" type=\"file\" @change=\"loadProjectFromFile($event.target.files[0])\"/>\r\n                        </v-list-item-title>\r\n                    </v-list-item>\r\n                </v-list>\r\n            </v-menu>\r\n\r\n            \r\n            <v-menu offset-y>\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-btn\r\n                        dark\r\n                        v-bind=\"attrs\"\r\n                        v-on=\"on\"\r\n                        text\r\n                        height=\"32\"\r\n                        tile\r\n                    >工程</v-btn>\r\n                </template>\r\n\r\n                <v-list>\r\n                    <v-list-item dense @click=\"compile\">\r\n                        <v-list-item-title>编译为测试版</v-list-item-title>\r\n                    </v-list-item>\r\n                    \r\n                    <v-list-item dense @click=\"compile\" disabled>\r\n                        <v-list-item-title>编译为发行版</v-list-item-title>\r\n                    </v-list-item>\r\n                </v-list>\r\n            </v-menu>\r\n            \r\n            <v-menu offset-y>\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-btn\r\n                        dark\r\n                        v-bind=\"attrs\"\r\n                        v-on=\"on\"\r\n                        text\r\n                        height=\"32\"\r\n                        tile\r\n                    >脚本</v-btn>\r\n                </template>\r\n\r\n                <v-list>\r\n                    <v-list-item dense @click=\"compile\" :disabled=\"!script\">\r\n                        <v-list-item-title>测试脚本（需要先编译）</v-list-item-title>\r\n                    </v-list-item>\r\n                </v-list>\r\n            </v-menu>\r\n        </v-app-bar>\r\n\r\n        <!-- 侧边栏或者叫目录 -->\r\n        <v-navigation-drawer app permanent clipped>\r\n            <v-list>\r\n                <v-list-item @click=\"open('base-info')\">\r\n                        <v-list-item-avatar>\r\n                            <v-icon>mdi-information-outline</v-icon>\r\n                        </v-list-item-avatar>\r\n\r\n                    <v-list-item-title>基础信息</v-list-item-title>\r\n                </v-list-item>\r\n\r\n                <v-list-item @click=\"open('resource')\">\r\n                        <v-list-item-avatar>\r\n                            <v-icon>mdi-folder-outline</v-icon>\r\n                        </v-list-item-avatar>\r\n                    \r\n                    <v-list-item-title>资源管理器</v-list-item-title>\r\n                </v-list-item>\r\n\r\n                <v-list-group>\r\n                    <template v-slot:activator>\r\n                        <v-list-item-avatar>\r\n                            <v-icon>mdi-account-outline</v-icon>\r\n                        </v-list-item-avatar>\r\n                        \r\n                        <v-list-item-subtitle>角色</v-list-item-subtitle>\r\n                    </template>\r\n\r\n                    <v-list-item v-for=\"id of roles\" :key=\"id\" @click=\"open('role', id)\">\r\n                        <v-list-item-avatar color=\"grey lighten-2\">\r\n                            <v-img :src=\"data[data[id].avatar]\"/>\r\n                        </v-list-item-avatar>\r\n\r\n                        <v-list-item-title>{{ data[id].name }}</v-list-item-title>\r\n                    </v-list-item>\r\n\r\n                    <v-list-item>\r\n                        <v-btn \r\n                            text \r\n                            class=\"mx-auto\" \r\n                            color=\"primary\"\r\n                            @click=\"createNewRole\"\r\n                        >新建角色</v-btn>\r\n                    </v-list-item>\r\n                </v-list-group>\r\n\r\n                <v-list-group>\r\n                    <template v-slot:activator>\r\n                        <v-list-item-avatar>\r\n                            <v-icon>mdi-text</v-icon>\r\n                        </v-list-item-avatar>\r\n\r\n                        <v-list-item-subtitle>台词段</v-list-item-subtitle>\r\n                    </template>\r\n\r\n                    <v-list-item v-for=\"id of chunks\" :key=\"id\" @click=\"open('chunk', id)\">\r\n                        <v-list-item-title>{{ data[id].title }}</v-list-item-title>\r\n                    </v-list-item>\r\n\r\n                    <v-list-item>\r\n                        <v-btn \r\n                            text \r\n                            class=\"mx-auto\" \r\n                            color=\"primary\"\r\n                            @click=\"createNewChunk\"\r\n                        >新建文本段</v-btn>\r\n                    </v-list-item>\r\n                </v-list-group>\r\n            </v-list>\r\n        </v-navigation-drawer>\r\n\r\n        <v-main class=\"fill-y\">\r\n            <!-- 正文 -->\r\n            <div class=\"fill-y flex-grow-1 d-flex flex-column\">\r\n                <v-tabs class=\"flex-grow-0\" v-model=\"tabIndex\" height=\"2em\">\r\n                    <v-tab \r\n                        v-for=\"(tab, index) of tabs\" \r\n                        :key=\"tab.id\" \r\n                        size=\"small\"\r\n                    >\r\n                        <v-icon small>{{ getIcon(tab.type) }}</v-icon>\r\n\r\n                        <span class=\"mx-1\">{{ tab.title }}</span>\r\n\r\n                        <v-btn x-small icon @click=\"close(index)\">\r\n                            <v-icon x-small>{{ tab.dirty ? 'mdi-circle' : 'mdi-close' }}</v-icon>\r\n                        </v-btn>\r\n                    </v-tab>\r\n                </v-tabs>\r\n\r\n                <v-divider />\r\n\r\n                <v-tabs-items \r\n                    class=\"grey lighten-4 flex-grow-1\" \r\n                    v-model=\"tabIndex\"\r\n                    active-class=\"\"\r\n                >\r\n                    <v-tab-item \r\n                        v-for=\"tab of tabs\" \r\n                        :key=\"tab.id\"\r\n                        class=\"fill-y grey lighten-4\"\r\n                    >\r\n                        <component \r\n                            class=\"fill-y edit-area\"\r\n                            :is=\"getComponent(tab.type)\" \r\n                            :content=\"tab.content\" \r\n                            @mutate=\"markDirty(tab)\"\r\n                            ref=\"tabs\"\r\n                        />\r\n                    </v-tab-item>\r\n                </v-tabs-items>\r\n            </div>\r\n        </v-main>\r\n    </v-app>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState } from \"vuex\";\r\nimport ResourceManager from \"./views/ResourceManager\";\r\nimport Role from \"./components/Role.vue\";\r\nimport Chunk from \"./components/Chunk.vue\";\r\nimport BaseInfo from \"./components/BaseInfo.vue\";\r\nimport { deepCopy } from \"./utils/objects\";\r\n\r\nconst tabTypeIconMap = {\r\n    'resource': \"mdi-folder-outline\",\r\n    'role': \"mdi-account-outline\",\r\n    'chunk': \"mdi-text\",\r\n    'base-info': \"mdi-information-outline\",\r\n}\r\n\r\nexport default {\r\n    name: \"App\",\r\n\r\n    components: {\r\n        ResourceManager,\r\n        Role,\r\n        Chunk,\r\n        BaseInfo,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            tabIndex: null,\r\n            tabs: [],\r\n        };\r\n    },\r\n\r\n    computed: {\r\n        ...mapState([\"resources\", \"roles\", \"chunks\", \"data\", 'script']),\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations(['updateData', 'cacheState', 'createRole', 'createChunk',\r\n            'downloadProject', 'downloadScript', 'compile', 'loadProjectFromFile', 'loadProjectFromCache']),\r\n\r\n        createNewRole() {\r\n            this.createRole({cb: role => this.open('role', role.id)});\r\n        },\r\n\r\n        createNewChunk() {\r\n            this.createChunk({cb: role => this.open('chunk', role.id)});\r\n        },\r\n\r\n        getIcon(type) {\r\n            return tabTypeIconMap[type] || 'mdi-help';\r\n        },\r\n\r\n        getComponent(type) {\r\n            switch (type) {\r\n                case \"resource\":\r\n                    return \"ResourceManager\";\r\n                case \"role\":\r\n                    return \"Role\";\r\n                case \"chunk\":\r\n                    return \"Chunk\";\r\n                default:\r\n                    return \"BaseInfo\";\r\n            }\r\n        },\r\n\r\n        open(type, id) {\r\n            if (type === \"resource\" || type === 'base-info') {\r\n                id = type;\r\n            }\r\n            const index = this.tabs.findIndex((t) => t.id === id);\r\n            if (index >= 0) {\r\n                this.tabIndex = index;\r\n                return;\r\n            }\r\n            let tab = null;\r\n            if (type === \"resource\" || type === 'base-info') {\r\n                tab = {\r\n                    title: \"资源管理器\",\r\n                    type,\r\n                    id,\r\n                    dirty: false,\r\n                };\r\n            } else {\r\n                const data = deepCopy(this.data[id]);\r\n                tab = {\r\n                    title: null,\r\n                    type,\r\n                    id,\r\n                    content: data,\r\n                    dirty: false,\r\n                };\r\n                switch (type) {\r\n                    case \"role\": tab.title = data.name; break;\r\n                    case \"chunk\": tab.title = data.title; break;\r\n                }\r\n            }\r\n            this.tabs.push(tab);\r\n            this.tabIndex = this.tabs.length - 1;\r\n        },\r\n\r\n        close(index) {\r\n            const tab = this.tabs[index];\r\n            if (tab) {\r\n                if (!tab.dirty || confirm(`${tab.title}还未保存，确定关闭？`)) {\r\n                    this.tabs.splice(index, 1);\r\n                }\r\n            }\r\n        },\r\n\r\n        saveTab(tab, index) {\r\n            if (tab) {\r\n                this.$refs.tabs[index].save();\r\n                tab.dirty = false;\r\n            }\r\n        },\r\n\r\n        markDirty(tab) {\r\n            tab.dirty = true;\r\n        },\r\n    },\r\n\r\n    created() {\r\n        window.addEventListener(\"keydown\", (event) => {\r\n            if ((event.key === 'S' || event.key ==='s') && event.ctrlKey) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                if (event.shiftKey) {\r\n                    this.tabs.forEach((tab, index) => this.saveTab(tab, index));\r\n                } else {\r\n                    this.saveTab(this.tabs[this.tabIndex], this.tabIndex);\r\n                }\r\n                this.cacheState();\r\n                this.$forceUpdate();\r\n            }\r\n        });\r\n        this.open('base-info');\r\n    },\r\n};\r\n</script>\r\n\r\n<style>\r\nhtml,\r\nbody,\r\n#app {\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: auto;\r\n}\r\n\r\n.width-fit {\r\n    width: fit-content;\r\n}\r\n\r\n.fill-y,\r\n.inner-fill-y > * {\r\n    height: 100%;\r\n}\r\n\r\ninput[type=\"text\"] {\r\n    padding: 5px;\r\n}\r\n\r\n.edit-area {\r\n    width: 100%;\r\n    max-width: 64em;\r\n    margin: 0 auto;\r\n}\r\n\r\n.p-relative {\r\n    position: relative;\r\n}\r\n\r\n.invisible-overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    opacity: 0;\r\n    cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=51e46531&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VApp,VAppBar,VBtn,VDivider,VIcon,VImg,VList,VListGroup,VListItem,VListItemAvatar,VListItemSubtitle,VListItemTitle,VMain,VMenu,VNavigationDrawer,VTab,VTabItem,VTabs,VTabsItems})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home d-flex flex-column justify-space-around align-center\"},[_c('v-card',{staticClass:\"script-info pa-5\"},[_c('v-text-field',{attrs:{\"label\":\"剧本名：\"},model:{value:(_vm.info.name),callback:function ($$v) {_vm.$set(_vm.info, \"name\", $$v)},expression:\"info.name\"}}),_c('v-text-field',{attrs:{\"label\":\"版本：\"},model:{value:(_vm.info.version),callback:function ($$v) {_vm.$set(_vm.info, \"version\", $$v)},expression:\"info.version\"}}),_c('v-combobox',{attrs:{\"label\":\"创作者：\",\"chips\":\"\",\"multiple\":\"\",\"clearable\":\"\",\"deletable-chips\":\"\",\"disable-lookup\":\"\"},model:{value:(_vm.info.authors),callback:function ($$v) {_vm.$set(_vm.info, \"authors\", $$v)},expression:\"info.authors\"}})],1),_c('div',[_c('v-btn',{on:{\"click\":_vm.saveProject}},[_c('v-icon',[_vm._v(\"mdi-download\")]),_vm._v(\"保存项目 \")],1),_c('v-btn',{on:{\"click\":_vm.compile}},[_c('v-icon',[_vm._v(\"mdi-arrow-right\")]),_vm._v(\"编译 \")],1),_c('v-btn',{on:{\"click\":_vm.compile}},[_c('v-icon',[_vm._v(\"mdi-download\")]),_vm._v(\"下载脚本 \")],1),_c('v-btn',[_c('v-icon',[_vm._v(\"mdi-upload\")]),_c('span',[_vm._v(\"导入项目\")]),_c('input',{staticClass:\"fill\",attrs:{\"type\":\"file\"},on:{\"input\":_vm.loadProject}})],1),_c('v-btn',{on:{\"click\":_vm.clearProject}},[_c('v-icon',[_vm._v(\"mdi-clear\")]),_vm._v(\"清空项目 \")],1)],1),_c('article',[_c('h1',[_vm._v(\"江奶奶的Galgame编辑器\")]),_c('h2',[_vm._v(\"食用方法\")]),_c('h3',[_vm._v(\"开始项目\")]),_c('ol',[_c('li',[_vm._v(\"首先在顶部导航栏点击“资源”，上传所需的各种资源（主要是图片），其它资源暂时不支持预览。\")]),_c('li',[_vm._v(\"然后再顶部导航栏点击“角色”，在左侧列表中点击“+新角色”按键，然后填充名字、头像、立绘。其中头像只是方便后续文本编辑，并不会对编译后的脚本呢产生影响。\")]),_c('li',[_vm._v(\"然后在顶部导航栏点击“台词”，在左侧列表中点击“+新文本段”按键，点击右边面板左上角的三条横杠（\"),_c('v-app-bar-nav-icon'),_vm._v(\"）按钮，填充该文本段所需的信息，而后即可收起信息面板，编辑台词\")],1),_vm._m(0),_c('li',[_vm._v(\"点击“编译”生成脚本，而后可以选择“下载脚本”或者到“演示面板”开始测试。\")])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_vm._v(\"回到“主页”，点击“保存项目”\"),_c('del',[_vm._v(\"（或者在任何页面按下 \"),_c('em',[_vm._v(\"ctrl\")]),_vm._v(\" + \"),_c('em',[_vm._v(\"S\")]),_vm._v(\"缓存，或者\"),_c('em',[_vm._v(\"ctrl\")]),_vm._v(\" + \"),_c('em',[_vm._v(\"shift\")]),_vm._v(\" + \"),_c('em',[_vm._v(\"S\")]),_vm._v(\"下载）\")]),_vm._v(\"。\")])}]\n\nexport { render, staticRenderFns }","\r\nconst LS_KEY = \"river-galgame-project\";\r\n\r\nfunction cacheProject(project) {\r\n    if (project) {\r\n        const data = JSON.stringify(project);\r\n        localStorage.setItem(LS_KEY, data);\r\n        return data;\r\n    }\r\n}\r\n\r\nfunction loadCachedProject() {\r\n    return JSON.parse(localStorage.getItem(LS_KEY));\r\n}\r\n\r\n\r\nexport {\r\n    LS_KEY,\r\n    cacheProject,\r\n    loadCachedProject,\r\n}","import { v4 as uuidv4 } from 'uuid'\r\nimport { loadCachedProject } from '@/utils/storage.js'\r\n\r\nfunction prepareProject(project) {\r\n    if (!project) {\r\n        project = {\r\n            info: {\r\n                name: '未命名剧本',\r\n                version: '1.0.0',\r\n                authors: ['RiverElder'],\r\n            },\r\n        \r\n            data: {},\r\n            \r\n            chunks: [],\r\n            roles: [],\r\n            resources: [],\r\n        \r\n            addData(newData) {\r\n                const uid = uuidv4();\r\n                this.data[uid] = newData;\r\n                return uid;\r\n            }\r\n        };\r\n    }\r\n    project.addData = function addData(newData) {\r\n        const uid = uuidv4();\r\n        this.data[uid] = newData;\r\n        return uid;\r\n    };\r\n    return project;\r\n}\r\n\r\nconst state = {\r\n\r\n    project: prepareProject(loadCachedProject()),\r\n\r\n    script: null,\r\n\r\n    chunkEditorBar: {\r\n        selectState: new Set(),\r\n        primaryRoleUid: null,\r\n        secondaryRoleUid: null,\r\n        fillMode: 'all', // or 'alternate'\r\n        clickMode: 'fill', // or select\r\n\r\n        selectRange(fromIndex, toIndex) {\r\n            for(let i = fromIndex; i <= toIndex; i++) {\r\n                this.selectState.add(i);\r\n            }\r\n        },\r\n    },\r\n\r\n    messages: [\"打开新世界的大门\"],\r\n};\r\n\r\nexport default state;","\r\n\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport state from '@/state.js'\r\nimport download from \"downloadjs\";\r\nimport { cacheProject } from \"@/utils/storage.js\";\r\n\r\nconst project = state.project;\r\n\r\nfunction saveProject(doDoanload = false) {\r\n    const data = cacheProject(project);\r\n    state.messages.push(\"已缓存工程\");\r\n    if (doDoanload) {\r\n        if (data) {\r\n            const fileName = state.project.info.name + '.proj.json';\r\n            state.messages.push(\"开始下载工程文件：\" + fileName);\r\n            download(data, fileName, 'application/json');\r\n        } else {\r\n            state.messages.push(\"未下载工程文件\");\r\n        }\r\n    }\r\n}\r\n\r\nfunction compile() {\r\n    const mapping = {};\r\n\r\n    const resources = project.resources.map(uid => project.data[uid].src);\r\n    project.resources.forEach((uid, index) => mapping[uid] = index);\r\n\r\n    const roles = project.roles.map(uid => {\r\n        const role = project.data[uid]\r\n        return {\r\n            name: role.name,\r\n            avatar: mapping[role.avatar],\r\n            pic: mapping[role.pic],\r\n        };\r\n    });\r\n    project.roles.forEach((uid, index) => mapping[uid] = index);\r\n\r\n\r\n    const instructions = [];\r\n    project.chunks.map(uid => {\r\n        const chunk = project.data[uid];\r\n        mapping[uid] = instructions.length;\r\n        instructions.push(\r\n            ['bg', mapping[chunk.background]],\r\n            ['bgm', mapping[chunk.bgm]],\r\n            ...chunk.sections.map(s => ['line', s.text, mapping[s.speaker]]),\r\n            ...chunk.exits.map(e => ['exit', e.text, mapping[e.target]]),\r\n        );\r\n    });\r\n\r\n    instructions.forEach(ins => {\r\n        if (ins[0] === 'exit') {\r\n            ins[2] = mapping[ins[2]];\r\n        }\r\n    });\r\n\r\n    const data = {\r\n        info: project.info,\r\n        instructions,\r\n        resources,\r\n        roles,\r\n    };\r\n\r\n    state.script = data;\r\n    state.messages.push(\"编译完成，可以演示或者下载脚本\");\r\n}\r\n\r\nfunction downloadScript() {\r\n    if (state.script) {\r\n        const fileName = state.script.info.name + '.json'\r\n        state.messages.push(\"开始下载：\" + fileName);\r\n        download(JSON.stringify(state.script), fileName, 'application/json');\r\n    } else {\r\n        state.messages.push(\"无可用的编译后脚本\");\r\n    }\r\n}\r\n\r\nfunction loadProject(event) {\r\n    const reader = new FileReader();\r\n    reader.onload = () => fillProject(JSON.parse(reader.result));\r\n    reader.readAsText(event.target.files[0]);\r\n}\r\n\r\nfunction fillProject(proj) {\r\n    if (proj) {\r\n        Object.assign(project, proj);\r\n    }\r\n}\r\n\r\nconst projectTemplate = {\r\n    info: {\r\n        name: '未命名剧本',\r\n        version: '1.0.0',\r\n        authors: ['RiverElder'],\r\n    },\r\n\r\n    data: {},\r\n    \r\n    chunks: [],\r\n    roles: [],\r\n    resources: [],\r\n\r\n    addData(newData) {\r\n        const uid = uuidv4();\r\n        this.data[uid] = newData;\r\n        return uid;\r\n    }\r\n};\r\n\r\nfunction clearProject() {\r\n    Object.assign(project, projectTemplate);\r\n}\r\n\r\nexport {\r\n    saveProject,\r\n    compile,\r\n    downloadScript,\r\n    loadProject,\r\n    fillProject,\r\n    clearProject,\r\n}","<template>\r\n  <div class=\"home d-flex flex-column justify-space-around align-center\">\r\n    <v-card class=\"script-info pa-5\">\r\n      <v-text-field \r\n        label=\"剧本名：\"\r\n        v-model=\"info.name\"\r\n      />\r\n\r\n      <v-text-field \r\n        label=\"版本：\"\r\n        v-model=\"info.version\" \r\n      />\r\n\r\n      <v-combobox\r\n        label=\"创作者：\"\r\n        chips\r\n        multiple\r\n        clearable\r\n        deletable-chips\r\n        disable-lookup\r\n        v-model=\"info.authors\"\r\n      />\r\n    </v-card>\r\n\r\n    <div>\r\n      <v-btn @click=\"saveProject\">\r\n        <v-icon>mdi-download</v-icon>保存项目\r\n      </v-btn>\r\n\r\n      <v-btn @click=\"compile\">\r\n        <v-icon>mdi-arrow-right</v-icon>编译\r\n      </v-btn>\r\n\r\n      <v-btn @click=\"compile\">\r\n        <v-icon>mdi-download</v-icon>下载脚本\r\n      </v-btn>\r\n\r\n      <v-btn>\r\n        <v-icon>mdi-upload</v-icon>\r\n\r\n        <span>导入项目</span>\r\n\r\n        <input class=\"fill\" type=\"file\" @input=\"loadProject\" />\r\n      </v-btn>\r\n\r\n      <v-btn @click=\"clearProject\">\r\n        <v-icon>mdi-clear</v-icon>清空项目\r\n      </v-btn>\r\n    </div>\r\n\r\n    <article>\r\n      <h1>江奶奶的Galgame编辑器</h1>\r\n\r\n      <h2>食用方法</h2>\r\n      \r\n      <h3>开始项目</h3>\r\n\r\n      <ol>\r\n        <li>首先在顶部导航栏点击“资源”，上传所需的各种资源（主要是图片），其它资源暂时不支持预览。</li>\r\n\r\n        <li>然后再顶部导航栏点击“角色”，在左侧列表中点击“+新角色”按键，然后填充名字、头像、立绘。其中头像只是方便后续文本编辑，并不会对编译后的脚本呢产生影响。</li>\r\n\r\n        <li>然后在顶部导航栏点击“台词”，在左侧列表中点击“+新文本段”按键，点击右边面板左上角的三条横杠（<v-app-bar-nav-icon/>）按钮，填充该文本段所需的信息，而后即可收起信息面板，编辑台词</li>\r\n\r\n        <li>回到“主页”，点击“保存项目”<del>（或者在任何页面按下 <em>ctrl</em> + <em>S</em>缓存，或者<em>ctrl</em> + <em>shift</em> + <em>S</em>下载）</del>。</li>\r\n\r\n        <li>点击“编译”生成脚本，而后可以选择“下载脚本”或者到“演示面板”开始测试。</li>\r\n      </ol>\r\n    </article>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport state from '@/state.js'\r\n\r\nimport {\r\n  saveProject,\r\n  compile,\r\n  downloadScript,\r\n  loadProject,\r\n  fillProject,\r\n  clearProject,\r\n} from \"@/utils/actions.js\";\r\n\r\nexport default {\r\n  name: \"Home\",\r\n\r\n  data: () => state.project,\r\n\r\n  methods: {\r\n    saveProject,\r\n    compile,\r\n    downloadScript,\r\n    loadProject,\r\n    fillProject,\r\n    clearProject,\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.home {\r\n  height: 100%;\r\n  overflow: auto;\r\n}\r\n\r\n.script-info {\r\n  width: 80%;\r\n}\r\n\r\n.fill {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  opacity: 0;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=b269a8ce&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=b269a8ce&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b269a8ce\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBarNavIcon } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAppBarNavIcon,VBtn,VCard,VCombobox,VIcon,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fill d-flex\"},[_c('v-navigation-drawer',{staticClass:\"role-list\",attrs:{\"permanent\":\"\"}},[_c('v-list',[_c('v-list-item-group',{model:{value:(_vm.roleIndex),callback:function ($$v) {_vm.roleIndex=$$v},expression:\"roleIndex\"}},_vm._l((_vm.roles),function(roleUid){return _c('v-list-item',{key:roleUid},[_c('RAvatar',{staticClass:\"mr-5\",attrs:{\"src\":_vm.getAvatarUrl(roleUid),\"size\":\"2em\"}}),_vm._v(\" \"+_vm._s(_vm.data[roleUid].name)+\" \")],1)}),1)],1),_c('div',{staticClass:\"mx-5\"},[_c('v-btn',{attrs:{\"block\":\"\"},on:{\"click\":_vm.addRole}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\" 新角色 \")],1)],1)],1),(_vm.role)?_c('div',{staticClass:\"role ma-5 d-flex flex-column align-center\"},[_c('div',{staticClass:\"input d-flex align-start\"},[_c('label',{staticClass:\"mr-2\"},[_vm._v(\"名字:\")]),_c('v-input',{staticClass:\"input flex-grow-0\",attrs:{\"messages\":\"必填，最好不要超过三个中文\",\"placeholder\":\"角色的名字\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.role.name),expression:\"role.name\"}],ref:\"nameInput\",attrs:{\"autofocus\":\"\"},domProps:{\"value\":(_vm.role.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.role, \"name\", $event.target.value)}}})]),_c('v-spacer'),_c('label',{staticClass:\"mr-2\"},[_vm._v(\"头像:\")]),_c('div',{staticClass:\"input flex-grow-0\"},[_c('v-autocomplete',{staticClass:\"ma-0\",attrs:{\"dense\":\"\",\"messages\":\"无实际用途，仅方便编辑\",\"placeholder\":\"角色的头像\",\"no-data-text\":\"无可用资源\",\"items\":_vm.resList,\"item-text\":\"name\",\"item-value\":\"uid\"},model:{value:(_vm.role.avatar),callback:function ($$v) {_vm.$set(_vm.role, \"avatar\", $$v)},expression:\"role.avatar\"}})],1),_c('RAvatar',{staticClass:\"ml-3\",attrs:{\"src\":_vm.avatarUrl,\"size\":\"3em\"}})],1),_c('v-input',{staticClass:\"input flex-grow-0\"},[_c('label',{staticClass:\"mr-2\"},[_vm._v(\"立绘:\")]),_c('v-autocomplete',{attrs:{\"placeholder\":\"角色的立绘\",\"no-data-text\":\"无可用资源\",\"items\":_vm.resources.map(function (uid) { return (Object.assign({}, _vm.data[uid], {uid: uid})); }),\"item-text\":\"name\",\"item-value\":\"uid\"},model:{value:(_vm.role.pic),callback:function ($$v) {_vm.$set(_vm.role, \"pic\", $$v)},expression:\"role.pic\"}})],1),_c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":_vm.picUrl}})]),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"red\"},on:{\"click\":_vm.deleteRole}},[_c('v-icon',[_vm._v(\"mdi-minus\")]),_vm._v(\" 删除该角色 \")],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"fill d-flex\"\r\n  >\r\n      <!-- 侧边角色列表 -->\r\n      <v-navigation-drawer \r\n        class=\"role-list\"\r\n        permanent\r\n      >\r\n        <v-list>\r\n          <v-list-item-group v-model=\"roleIndex\">\r\n            <v-list-item\r\n              v-for=\"roleUid of roles\"\r\n              :key=\"roleUid\"\r\n            >\r\n              <RAvatar\r\n                class=\"mr-5\"\r\n                :src=\"getAvatarUrl(roleUid)\"\r\n                size=\"2em\"\r\n              />\r\n              {{ data[roleUid].name }}\r\n            </v-list-item>\r\n          </v-list-item-group>\r\n        </v-list>\r\n\r\n        <!-- 添加新角色的按键 -->\r\n        <div class=\"mx-5\">\r\n          <v-btn\r\n            block\r\n            @click=\"addRole\"\r\n          >\r\n            <v-icon>mdi-plus</v-icon>\r\n            新角色\r\n          </v-btn>\r\n        </div>\r\n      </v-navigation-drawer>\r\n\r\n      <!-- 角色展示 -->\r\n      <div\r\n        v-if=\"role\"\r\n        class=\"role ma-5 d-flex flex-column align-center\"\r\n      >\r\n        <div class=\"input d-flex align-start\">\r\n          <!-- 角色名字 -->\r\n          <label class=\"mr-2\">名字:</label>\r\n          <v-input \r\n            class=\"input flex-grow-0\"\r\n            messages=\"必填，最好不要超过三个中文\"\r\n            placeholder=\"角色的名字\"\r\n          >\r\n            <input \r\n              ref=\"nameInput\"\r\n              v-model=\"role.name\"\r\n              autofocus\r\n            />\r\n          </v-input>\r\n\r\n          <v-spacer/>\r\n\r\n          <!-- 角色头像 -->\r\n          <label class=\"mr-2\">头像:</label>\r\n          <div class=\"input flex-grow-0\">\r\n            <v-autocomplete \r\n              class=\"ma-0\"\r\n              dense\r\n              messages=\"无实际用途，仅方便编辑\"\r\n              placeholder=\"角色的头像\"\r\n              no-data-text=\"无可用资源\"\r\n              v-model=\"role.avatar\"\r\n              :items=\"resList\"\r\n              item-text=\"name\"\r\n              item-value=\"uid\"\r\n            />\r\n          </div>\r\n\r\n          <RAvatar \r\n            class=\"ml-3\"\r\n            :src=\"avatarUrl\"\r\n            size=\"3em\"\r\n          />\r\n        </div>\r\n\r\n        <!-- 角色的立绘 -->\r\n        <v-input class=\"input flex-grow-0\">\r\n          <label class=\"mr-2\">立绘:</label>\r\n          <v-autocomplete \r\n            placeholder=\"角色的立绘\"\r\n            no-data-text=\"无可用资源\"\r\n            v-model=\"role.pic\"\r\n            :items=\"resources.map(uid => ({...data[uid], uid}))\"\r\n            item-text=\"name\"\r\n            item-value=\"uid\"\r\n          />\r\n        </v-input>\r\n        \r\n        <!-- 立绘预览 -->\r\n        <div class=\"img-wrapper\">\r\n          <img :src=\"picUrl\"/>\r\n        </div>\r\n\r\n        <v-btn \r\n          color=\"red\"\r\n          class=\"white--text\"\r\n          @click=\"deleteRole\"\r\n        >\r\n          <v-icon>mdi-minus</v-icon>\r\n          删除该角色\r\n        </v-btn>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RAvatar from '@/components/RAvatar.vue'\r\n\r\nimport state from '@/state.js'\r\n\r\nconst project = state.project;\r\n\r\nexport default {\r\n  name: 'RoleManager',\r\n\r\n  components: {\r\n    RAvatar\r\n  },\r\n\r\n  data: () => ({\r\n    roleIndex: null,\r\n    data: project.data,\r\n    resources: project.resources,\r\n    roles: project.roles,\r\n    role: null,\r\n  }),\r\n\r\n  watch: {\r\n    roleIndex(index) {\r\n      const uid = project.roles[index];\r\n      this.role = uid ? project.data[uid] : null;\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    resList() {\r\n      return project.resources.map(uid => ({uid, ...this.data[uid]}));\r\n    },\r\n\r\n    picUrl() {\r\n      const role = this.role;\r\n      if (role && role.pic) {\r\n        const res = project.data[role.pic];\r\n        return res ? res.src : null;\r\n      }\r\n      return null;\r\n    },\r\n\r\n    avatarUrl() {\r\n      const role = this.role;\r\n      if (role && role.avatar) {\r\n        const res = project.data[role.avatar];\r\n        return res ? res.src : null;\r\n      }\r\n      return null;\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    addRole() {\r\n      project.roles.push(project.addData({\r\n        name: '未命名角色',\r\n        avatar: null,\r\n        pic: null,\r\n      }));\r\n      this.roleIndex = project.roles.length - 1;\r\n    },\r\n\r\n    deleteRole() {\r\n      if (('number' === typeof this.roleIndex) && this.roleIndex >= 0) {\r\n        const uid = project.roles[this.roleIndex];\r\n        project.roles.splice(this.roleIndex, 1);\r\n        delete project.data[uid];\r\n        this.roleIndex = null;\r\n      }\r\n    },\r\n\r\n    getAvatarUrl(uid) {\r\n      const role = project.data[uid];\r\n      if (role) {\r\n        const res = project.data[role.avatar || role.pic];\r\n        return res ? res.src : null;\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n\r\n.fill {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.role {\r\n  flex: 1;\r\n  overflow-y: hidden;\r\n}\r\n\r\n.input {\r\n  width: 50%;\r\n\r\n  input {\r\n    width: 100%;\r\n    padding-top: 0;;\r\n  }\r\n\r\n  label {\r\n    word-break: keep-all;\r\n  }\r\n}\r\n\r\n.img-wrapper {\r\n  width: 100%;\r\n  height: 10rem;\r\n  flex: 1;\r\n  text-align: center;\r\n  \r\n  img {\r\n    max-width: 100%;\r\n    height: 100%;\r\n    object-fit: contain;\r\n    object-position: center;\r\n  }\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoleManager.vue?vue&type=template&id=2b1cc075&scoped=true&\"\nimport script from \"./RoleManager.vue?vue&type=script&lang=js&\"\nexport * from \"./RoleManager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoleManager.vue?vue&type=style&index=0&id=2b1cc075&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b1cc075\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VInput } from 'vuetify/lib/components/VInput';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAutocomplete,VBtn,VIcon,VInput,VList,VListItem,VListItemGroup,VNavigationDrawer,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fill d-flex\"},[_c('v-navigation-drawer',{attrs:{\"permanent\":\"\"}},[_c('v-list',[_c('v-list-item-group',{model:{value:(_vm.chunkIndex),callback:function ($$v) {_vm.chunkIndex=$$v},expression:\"chunkIndex\"}},_vm._l((_vm.chunkTitleList),function(chunkTitle){return _c('v-list-item',{key:chunkTitle.uid},[_vm._v(_vm._s(chunkTitle.title))])}),1)],1),_c('div',{staticClass:\"mx-5\"},[_c('v-btn',{attrs:{\"block\":\"\"},on:{\"click\":_vm.addChunk}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\" 新文本段 \")],1)],1)],1),_c('div',{staticClass:\"content flex-grow-1 d-flex flex-column\"},[_c('div',{staticClass:\"chunk-wrapper flex-grow-1\"},[(_vm.chunk)?_c('Chunk',{staticClass:\"chunk\",attrs:{\"chunk\":_vm.chunk,\"index\":_vm.chunkIndex}}):_vm._e()],1),(_vm.hasPrevPage)?_c('div',{staticClass:\"page-changer prev-page px-2 d-flex align-center\",on:{\"click\":_vm.toPrevPage}},[_c('v-icon',[_vm._v(\"mdi-arrow-left\")])],1):_vm._e(),(_vm.hasNextPage)?_c('div',{staticClass:\"page-changer next-page px-2 d-flex align-center\",on:{\"click\":_vm.toNextPage}},[_c('v-icon',[_vm._v(\"mdi-arrow-right\")])],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"fill d-flex\">\r\n\r\n    <!-- 左侧文本段列表 -->\r\n    <v-navigation-drawer permanent>\r\n      <v-list>\r\n        <v-list-item-group v-model=\"chunkIndex\">\r\n          <v-list-item\r\n            v-for=\"chunkTitle of chunkTitleList\"\r\n            :key=\"chunkTitle.uid\"\r\n          >{{ chunkTitle.title }}</v-list-item>\r\n        </v-list-item-group>\r\n      </v-list>\r\n\r\n      <!-- 添加新文本段的按键 -->\r\n      <div class=\"mx-5\">\r\n          <v-btn\r\n            block\r\n            @click=\"addChunk\"\r\n          >\r\n            <v-icon>mdi-plus</v-icon>\r\n            新文本段\r\n          </v-btn>\r\n        </div>\r\n    </v-navigation-drawer>\r\n    \r\n\r\n    <div class=\"content flex-grow-1 d-flex flex-column\">\r\n      <!-- 文本段主体 -->\r\n      <div class=\"chunk-wrapper flex-grow-1\">\r\n        <Chunk \r\n          v-if=\"chunk\"\r\n          class=\"chunk\"\r\n          :chunk=\"chunk\"\r\n          :index=\"chunkIndex\"\r\n        />\r\n      </div>\r\n      \r\n      <!-- 上一页 -->\r\n      <div \r\n        v-if=\"hasPrevPage\"\r\n        class=\"page-changer prev-page px-2 d-flex align-center\"\r\n        @click=\"toPrevPage\"\r\n      >\r\n        <v-icon>mdi-arrow-left</v-icon>\r\n      </div>\r\n\r\n      <!-- 下一页 -->\r\n      <div \r\n        v-if=\"hasNextPage\"\r\n        class=\"page-changer next-page px-2 d-flex align-center\"\r\n        @click=\"toNextPage\"\r\n      >\r\n        <v-icon>mdi-arrow-right</v-icon>\r\n      </div>\r\n\r\n      <!-- 编辑器工具栏 -->\r\n      <!-- <ChunkEditorBar\r\n        v-if=\"chunkIndex !== null\"\r\n        class=\"chunk-editor-bar pa-2\"\r\n      /> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Chunk from '@/components/Chunk.vue'\r\n// import ChunkEditorBar from '@/components/ChunkEditorBar.vue'\r\n\r\nimport state from '@/state.js'\r\n\r\nconst project = state.project;\r\n\r\nexport default {\r\n  name: 'ChunkManager',\r\n\r\n  components: {\r\n    Chunk,\r\n    // ChunkEditorBar\r\n  },\r\n\r\n  data:() => ({\r\n    chunkIndex: null,\r\n    chunk: null,\r\n    chunks: project.chunks,\r\n    data: project.data,\r\n  }),\r\n\r\n  watch: {\r\n    chunkIndex(index) {\r\n      if ('number' === typeof index) {\r\n        const uid = project.chunks[index];\r\n        if (uid) {\r\n          this.chunk = project.data[uid];\r\n          return;\r\n        }\r\n      }\r\n      this.chunk = null;\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    chunkTitleList() {\r\n      return this.chunks.map(uid => ({uid, title: this.data[uid].title}));\r\n    },\r\n\r\n    hasPrevPage() {\r\n      return 'number' === typeof this.chunkIndex && this.chunkIndex > 0;\r\n    },\r\n\r\n    hasNextPage() {\r\n      return 'number' === typeof this.chunkIndex && this.chunkIndex < project.chunks.length - 1;\r\n    },\r\n  },\r\n\r\n  methods: {\r\n\r\n    addChunk() {\r\n      this.chunks.push(project.addData({\r\n        title: '文本段标题',\r\n        subtitle: '',\r\n        background: null,\r\n        bgm: null,\r\n        sections: [{speaker: null, text: ''}],\r\n        exits: [],\r\n      }));\r\n      this.$forceUpdate();\r\n    },\r\n\r\n    toPrevPage() {\r\n      this.chunkIndex--;\r\n    },\r\n\r\n    toNextPage() {\r\n      this.chunkIndex++;\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.fill {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.content {\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.content > .chunk-wrapper {\r\n  width: 100%;\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n}\r\n\r\n.content > .chunk-wrapper > * {\r\n  width: 100%;\r\n}\r\n\r\n.page-changer {\r\n  height: 75%;\r\n  position: absolute;\r\n  top: 5em;\r\n  z-index: 2;\r\n  cursor: pointer;\r\n  transition: background-color 500ms;\r\n}\r\n\r\n.page-changer:hover {\r\n  background-color: #0000000F;\r\n}\r\n\r\n.prev-page {\r\n  left: 0;\r\n}\r\n\r\n.next-page {\r\n  right: 0;\r\n}\r\n\r\n.chunk-editor-bar {\r\n  z-index: 4;\r\n  background-color: #FFFFFF;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChunkManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChunkManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChunkManager.vue?vue&type=template&id=62f02815&scoped=true&\"\nimport script from \"./ChunkManager.vue?vue&type=script&lang=js&\"\nexport * from \"./ChunkManager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChunkManager.vue?vue&type=style&index=0&id=62f02815&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62f02815\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\ninstallComponents(component, {VBtn,VIcon,VList,VListItem,VListItemGroup,VNavigationDrawer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"overflow-hidden fill d-flex flex-column\"},[_c('div',{staticClass:\"d-flex align-center pa-5\"},[_c('v-chip',{staticClass:\"mx-2\"},[_c('span',{staticClass:\"text-subtitle-1 mx-2\"},[_vm._v(\"初选角色\")]),_c('RoleSelector',{model:{value:(_vm.primaryRoleUid),callback:function ($$v) {_vm.primaryRoleUid=$$v},expression:\"primaryRoleUid\"}})],1),_c('v-chip',{staticClass:\"mx-2\"},[_c('span',{staticClass:\"text-subtitle-1 mx-2\"},[_vm._v(\"次选角色\")]),_c('RoleSelector',{model:{value:(_vm.secondaryRoleUid),callback:function ($$v) {_vm.secondaryRoleUid=$$v},expression:\"secondaryRoleUid\"}})],1),_c('v-chip',{staticClass:\"mx-2\"},[_c('span',[_vm._v(\"新文本段\")]),_c('v-switch',{model:{value:(_vm.newChunk),callback:function ($$v) {_vm.newChunk=$$v},expression:\"newChunk\"}})],1),_c('v-chip',{staticClass:\"mx-2\"},[_c('span',{staticClass:\"text-subtitle-1 mx-2\"},[_vm._v(\"插入章节\")]),_c('v-select',{attrs:{\"items\":_vm.chunkList,\"item-text\":\"title\",\"item-value\":\"uid\",\"no-data-text\":\"无可用章节\",\"disabled\":_vm.newChunk},model:{value:(_vm.chunkUid),callback:function ($$v) {_vm.chunkUid=$$v},expression:\"chunkUid\"}})],1),_c('v-btn-toggle',{attrs:{\"dense\":\"\",\"rounded\":\"\"}},[_c('v-btn',{on:{\"click\":_vm.inject}},[_vm._v(\"注入\")]),_c('v-btn',{on:{\"click\":function($event){_vm.text = ''}}},[_vm._v(\"清空\")])],1)],1),_c('div',{staticClass:\"overflow-auto flex-grow-1 px-5\"},[_c('v-textarea',{staticClass:\"fill ma-0\",attrs:{\"height\":\"100%\",\"auto-grow\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"no-resize\":\"\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),_c('v-snackbar',{attrs:{\"timeout\":2000},model:{value:(_vm.hasMessage),callback:function ($$v) {_vm.hasMessage=$$v},expression:\"hasMessage\"}},[_vm._v(_vm._s(_vm.message))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"overflow-hidden fill d-flex flex-column\">\r\n\r\n    <div class=\"d-flex align-center pa-5\">\r\n      <v-chip class=\"mx-2\">\r\n          <span class=\"text-subtitle-1 mx-2\">初选角色</span>\r\n          <RoleSelector v-model=\"primaryRoleUid\"/>\r\n      </v-chip>\r\n\r\n      <v-chip class=\"mx-2\">\r\n          <span class=\"text-subtitle-1 mx-2\">次选角色</span>\r\n          <RoleSelector v-model=\"secondaryRoleUid\"/>\r\n      </v-chip>\r\n\r\n      <v-chip class=\"mx-2\">\r\n        <span>新文本段</span>\r\n        <v-switch\r\n          v-model=\"newChunk\"\r\n        />\r\n      </v-chip>\r\n\r\n      <v-chip class=\"mx-2\">\r\n          <span class=\"text-subtitle-1 mx-2\">插入章节</span>\r\n          <v-select \r\n            v-model=\"chunkUid\"\r\n            :items=\"chunkList\"\r\n            item-text=\"title\"\r\n            item-value=\"uid\"\r\n            no-data-text=\"无可用章节\"\r\n            :disabled=\"newChunk\"\r\n          />\r\n      </v-chip>\r\n      \r\n      <v-btn-toggle dense rounded>\r\n          <v-btn @click=\"inject\">注入</v-btn>\r\n          <v-btn @click=\"text = ''\">清空</v-btn>\r\n      </v-btn-toggle>\r\n    </div>\r\n\r\n    <div class=\"overflow-auto flex-grow-1 px-5\">\r\n      <v-textarea\r\n        class=\"fill ma-0\"\r\n          height=\"100%\"\r\n          auto-grow\r\n          hide-details\r\n          dense\r\n          v-model=\"text\"\r\n          no-resize\r\n      />\r\n    </div>\r\n\r\n    <v-snackbar \r\n      v-model=\"hasMessage\"\r\n      :timeout=\"2000\"\r\n    >{{ message }}</v-snackbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RoleSelector from '@/components/RoleSelector.vue'\r\n\r\nimport state from '@/state.js'\r\n\r\nexport default {\r\n  name: 'InjectPage',\r\n\r\n  components: {\r\n    RoleSelector\r\n  },\r\n\r\n  data: () => ({\r\n      text: '',\r\n      hasMessage: false,\r\n      message: null,\r\n      newChunk: false,\r\n      chunkUid: null,\r\n      primaryRoleUid: null,\r\n      secondaryRoleUid: null,\r\n  }),\r\n\r\n  computed: {\r\n    chunkList() {\r\n      const data = state.project.data;\r\n      return state.project.chunks.map(uid => ({uid, title: data[uid].title}));\r\n    },\r\n  },\r\n\r\n  methods: {\r\n      inject() {\r\n          if (/^\\s*$/g.test(this.text)) {\r\n            this.showMessage('输入文本不可为空!');\r\n            return;\r\n          }\r\n\r\n          const sections = this.text\r\n          .split(/[\\n\\r](\\s*[\\n\\r])?/)\r\n          .filter(s => s && s.length)\r\n          .map((s, i) => ({speaker: (i % 2) ? this.secondaryRoleUid : this.primaryRoleUid, text: s}))\r\n          ;\r\n\r\n          if (this.newChunk) {\r\n            state.project.chunks.push(state.project.addData({\r\n              title: '注入文本',\r\n              subtitle: '',\r\n              background: null,\r\n              bgm: null,\r\n              sections,\r\n              exits: [],\r\n            }));\r\n          } else {\r\n            const chunk = state.project.data[this.chunkUid];\r\n            if (chunk) {\r\n              chunk.sections.push(...sections);\r\n            } else {\r\n              this.showMessage('不存在指定文本段');\r\n              return;\r\n            }\r\n          }\r\n\r\n          this.showMessage(`向【${this.newChunk ? '新文本段' : state.project.data[this.chunkUid].title}】注入文本${sections.length}条`);\r\n      },\r\n\r\n      showMessage(msg) {\r\n        this.message = msg;\r\n        this.hasMessage = true;\r\n      },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.fill {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.overflow-hidden {\r\n  overflow: hidden;\r\n}\r\n\r\n.overflow-auto {\r\n  overflow: auto;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InjectPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InjectPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InjectPage.vue?vue&type=template&id=65e8a157&scoped=true&\"\nimport script from \"./InjectPage.vue?vue&type=script&lang=js&\"\nexport * from \"./InjectPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InjectPage.vue?vue&type=style&index=0&id=65e8a157&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65e8a157\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VBtnToggle } from 'vuetify/lib/components/VBtnToggle';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VBtnToggle,VChip,VSelect,VSnackbar,VSwitch,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"relative fill\"},[_c('img',{staticClass:\"background fill absolute\",attrs:{\"src\":_vm.background}}),_c('audio',{ref:\"bgm\",attrs:{\"src\":_vm.bgm,\"loop\":\"\"}}),_c('img',{staticClass:\"speaker fill absolute\",attrs:{\"src\":_vm.speakerPic}}),_c('div',{staticClass:\"content fill pa-3 d-flex flex-column justify-end\"},[_c('div',{staticClass:\"text oculus mb-3 pa-2\"},[_vm._v(\" \"+_vm._s(_vm.speakerName)+\"：\"+_vm._s(_vm.text)+\" \")]),_c('ul',{staticClass:\"options oculus pa-2\"},[_vm._l((_vm.options),function(option,index){return _c('li',{key:index,staticClass:\"option pa-2\",on:{\"click\":_vm.handleClickOption}},[_vm._v(\" \"+_vm._s(option.text)+\" \")])}),(!_vm.options.length)?_c('li',{staticClass:\"option\",on:{\"click\":_vm.handleClickDefaultOption}},[_vm._v(\"...\")]):_vm._e()],2)]),_c('div',{staticClass:\"debug-panel absolute pa-3\"},[_c('div',{staticClass:\"d-flex justify-center\"},[_c('v-input',{attrs:{\"label\":\"指针：\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.pointer),expression:\"pointer\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\",\"min\":0,\"max\":_vm.script.instructions.length - 1},domProps:{\"value\":(_vm.pointer)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.pointer=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('v-btn',{on:{\"click\":_vm.forceRun}},[_vm._v(\"执行\")])],1),_c('ul',_vm._l((_vm.logger),function(log,index){return _c('li',{key:index},[_vm._v(_vm._s(log))])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"relative fill\">\r\n        <img \r\n            class=\"background fill absolute\"\r\n            :src=\"background\"\r\n        />\r\n\r\n        <audio \r\n            ref=\"bgm\"\r\n            :src=\"bgm\"\r\n            loop\r\n        />\r\n\r\n        <img \r\n            class=\"speaker fill absolute\"\r\n            :src=\"speakerPic\"\r\n        />\r\n\r\n        <div class=\"content fill pa-3 d-flex flex-column justify-end\">\r\n            <div class=\"text oculus mb-3 pa-2\">\r\n                {{ speakerName }}：{{ text }}\r\n            </div>\r\n\r\n            <ul class=\"options oculus pa-2\">\r\n                <li \r\n                    class=\"option pa-2\"\r\n                    v-for=\"(option, index) of options\"\r\n                    :key=\"index\"\r\n                    @click=\"handleClickOption\"\r\n                >\r\n                   {{ option.text }}\r\n                </li> \r\n\r\n                <li \r\n                    v-if=\"!options.length\" \r\n                    class=\"option\"\r\n                    @click=\"handleClickDefaultOption\"\r\n                >...</li>\r\n            </ul>\r\n\r\n        </div>\r\n\r\n        <div class=\"debug-panel absolute pa-3\">\r\n            <div class=\"d-flex justify-center\">\r\n                <v-input\r\n                    label=\"指针：\"\r\n                >\r\n                    <input\r\n                        type=\"number\"\r\n                        :min=\"0\"\r\n                        :max=\"script.instructions.length - 1\"\r\n                        v-model.number=\"pointer\"\r\n                    />\r\n                </v-input>\r\n\r\n                <v-btn @click=\"forceRun\">执行</v-btn>\r\n            </div>\r\n\r\n            <ul>\r\n                <li\r\n                    v-for=\"(log, index) of logger\"\r\n                    :key=\"index\"\r\n                >{{ log }}</li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport state from '@/state.js'\r\n\r\nexport default {\r\n    name: 'Demonstration',\r\n\r\n    data() {\r\n        return {\r\n            pointer: 0,\r\n            background: null,\r\n            bgm: null,\r\n            speakerPic: null,\r\n            speakerName: '',\r\n            line: '',\r\n            options: [],\r\n            hasSetText: false,\r\n            logger: [],\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        bgm(nv, ov) {\r\n            if (nv !== ov && 'string' === typeof nv && nv.length > 0) {\r\n                this.$refs.bgm.play();\r\n            }\r\n        }\r\n    },\r\n\r\n    computed: {\r\n        script: () => state.script,\r\n    },\r\n\r\n    methods: {\r\n        run() {\r\n            while (this.pointer < this.script.instructions.length && this.canStepIn(this.script.instructions[this.pointer])) {\r\n                this.apply(this.script.instructions[this.pointer]);\r\n                this.pointer++;\r\n            }\r\n        },\r\n\r\n        forceRun() {\r\n            this.hasSetText = false;\r\n            this.run();\r\n        },\r\n\r\n        apply(instruction) {\r\n            this.log(instruction.join(' '));\r\n            switch (instruction[0]) {\r\n                case 'bg': \r\n                    this.background = this.script.resources[instruction[1]];\r\n                    break;\r\n                case 'bgm': \r\n                    this.bgm = this.script.resources[instruction[1]];\r\n                    break;\r\n                case 'line': {\r\n                    this.text = instruction[1];\r\n                    const role = this.script.roles[instruction[2]];\r\n                    this.speakerPic = this.script.resources[role.pic];\r\n                    this.speakerName = role.name;\r\n                    this.options = [];\r\n                    this.hasSetText = true;\r\n                } break;\r\n                case 'option': \r\n                    this.options.push({\r\n                        text: instruction[1],\r\n                        target: instruction[2],\r\n                    });\r\n                    break;\r\n            }\r\n        },\r\n\r\n        canStepIn(instruction) {\r\n            switch (instruction[0]) {\r\n                case 'bg': return true;\r\n                case 'bgm': return true;\r\n                case 'line': return !this.hasSetText;\r\n                case 'option': return this.hasSetText;\r\n            }\r\n        },\r\n\r\n        jumpTo(target) {\r\n            this.pointer = target;\r\n        },\r\n\r\n        handleClickOption(optIndex) {\r\n            this.hasSetText = false;\r\n            const option = this.options[optIndex];\r\n            this.jumpTo(option.target);\r\n            this.run();\r\n        },\r\n\r\n        handleClickDefaultOption() {\r\n            this.hasSetText = false;\r\n            this.run();\r\n        },\r\n\r\n        log(msg) {\r\n            if (this.logger.length >= 10) {\r\n                this.logger.shift();\r\n            }\r\n            this.logger.push(msg);\r\n        },\r\n    },\r\n\r\n    created() {\r\n        this.run();\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.relative {\r\n    position: relative;\r\n}\r\n\r\n.fill {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.absolute {\r\n    position: absolute;\r\n}\r\n\r\n.background {\r\n    z-index: 1;\r\n    object-fit: cover;\r\n}\r\n\r\n.absolute * {\r\n    z-index: inherit;\r\n}\r\n\r\n.speaker {\r\n    z-index: 2;\r\n    object-fit: contain;\r\n}\r\n\r\n.content {\r\n    z-index: 5;\r\n}\r\n\r\n.content * {\r\n    z-index: 5;\r\n}\r\n\r\n.oculus {\r\n    background-color: #FFFFFFE0;\r\n}\r\n\r\n.text {\r\n    max-height: 5em;\r\n    min-height: 1em;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n}\r\n\r\n.options {\r\n    height: 35%;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n}\r\n\r\n.option {\r\n    user-select: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.option:hover {\r\n    background-color: #FFFFFF;\r\n}\r\n\r\n.debug-panel {\r\n    top: 0;\r\n    z-index: 10;\r\n    width: 100%;\r\n    max-height: 50%;\r\n    background-color: #FFFFFF80;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demonstration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demonstration.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Demonstration.vue?vue&type=template&id=7d3e8764&scoped=true&\"\nimport script from \"./Demonstration.vue?vue&type=script&lang=js&\"\nexport * from \"./Demonstration.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Demonstration.vue?vue&type=style&index=0&id=7d3e8764&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d3e8764\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VInput } from 'vuetify/lib/components/VInput';\ninstallComponents(component, {VBtn,VInput})\n","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Home from '@/views/Home.vue'\r\nimport ResourceManager from '@/views/ResourceManager.vue'\r\nimport RoleManager from '@/views/RoleManager.vue'\r\nimport ChunkManager from '@/views/ChunkManager.vue'\r\nimport InjectPage from '@/views/InjectPage.vue'\r\nimport Demonstration from '@/views/Demonstration.vue'\r\n\r\nVue.use(VueRouter)\r\n\r\n  const routes = [\r\n  {\r\n    path: '/',\r\n    name: 'Home',\r\n    component: Home\r\n  },\r\n  {\r\n    path: '/resource-manager',\r\n    name: 'ResourceManager',\r\n    component: ResourceManager\r\n  },\r\n  {\r\n    path: '/role-manager',\r\n    name: 'RoleManager',\r\n    component: RoleManager\r\n  },\r\n  {\r\n    path: '/chunk-manager',\r\n    name: 'ChunkManager',\r\n    component: ChunkManager\r\n  },\r\n  {\r\n    path: '/inject-page',\r\n    name: 'InjectPage',\r\n    component: InjectPage\r\n  },\r\n  {\r\n    path: '/demonstration',\r\n    name: 'Demonstration',\r\n    component: Demonstration\r\n  }\r\n]\r\n\r\nconst router = new VueRouter({\r\n  routes\r\n})\r\n\r\nexport default router\r\n","import Vue from 'vue';\r\nimport Vuetify from 'vuetify/lib';\r\n\r\nVue.use(Vuetify);\r\n\r\nexport default new Vuetify({\r\n});\r\n","import download from 'downloadjs'\r\n\r\nconst LS_KEY = 'pl-editor-project';\r\n\r\n// 编译剧本\r\nfunction compile(state) {\r\n    console.log(state);\r\n}\r\n\r\n// 缓存工程\r\nfunction cacheState(state) {\r\n    localStorage.setItem(LS_KEY, JSON.stringify(state));\r\n}\r\n\r\n// 下载工程\r\nfunction downloadProject(state) {\r\n    const data = {\r\n        name: state.name,\r\n        version: state.version,\r\n        authors: state.authors,\r\n        resources: state.resources,\r\n        roles: state.roles,\r\n        chunks: state.chunks,\r\n        data: state.data,\r\n    };\r\n    download(JSON.stringify(data), data.name + '.egg.proj.json', 'application/json');\r\n}\r\n\r\n// 从本地文件缓存读取工程\r\nfunction loadProjectFromCache(state) {\r\n    const json = localStorage.getItem(LS_KEY);\r\n    if (json) {\r\n        Object.assign(state, JSON.parse(json));\r\n    }\r\n}\r\n\r\n// 从浏览器缓存读取工程\r\nfunction loadProjectFromFile(state, file) {\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n        Object.assign(state, JSON.parse(reader.result));\r\n    }\r\n    reader.readAsText(file);\r\n}\r\n\r\n// 下载剧本\r\nfunction downloadScript(state) {\r\n    const script = state.script;\r\n    if (script) {\r\n        download(JSON.stringify(script), (script.name || '未命名') + '.egg.json', 'application/json');\r\n    }\r\n}\r\n\r\nexport {\r\n    compile,\r\n    cacheState,\r\n    downloadProject,\r\n    downloadScript,\r\n    loadProjectFromFile,\r\n    loadProjectFromCache,\r\n}","\r\nimport { v4 as genId } from 'uuid'\r\n\r\nfunction create(state, catalog, data, cb) {\r\n    const newData = { id: genId(), ...data };\r\n    state.data[newData.id] = newData;\r\n    state[catalog].push(newData.id);\r\n    if (cb) {\r\n        cb(newData);\r\n    }\r\n}\r\n\r\n// 增加资源\r\nfunction createResource(state, {\r\n    name = '未命名资源',\r\n    src = null,\r\n    type = 'image/*',\r\n    cb,\r\n} = {}) {\r\n    create(state, 'resources', { name, src, type }, cb);\r\n}\r\n\r\n// 增加角色\r\nfunction createRole(state, {\r\n    name = '未命名角色',\r\n    avatar = null,\r\n    pic = null,\r\n    cb,\r\n} = {}) {\r\n    create(state, 'roles', { name, avatar, pic }, cb);\r\n}\r\n\r\n// 增加文本段\r\nfunction createChunk(state, {\r\n    title = '未命名文本段',\r\n    subtitle = '',\r\n    background = null,\r\n    // bgm: null,\r\n    sections = [{ speaker: null, text: '' }],\r\n    exits = [],\r\n    cb,\r\n} = {}) {\r\n    create(state, 'chunks', { title, subtitle, background, sections, exits }, cb);\r\n}\r\n\r\n\r\nfunction remove(state, catalog, id) {\r\n    delete state.data[id];\r\n    const c = state[catalog];\r\n    const index = c.findIndex(e => e === id);\r\n    if (index >= 0) {\r\n        c.splice(index, 1);\r\n    }\r\n}\r\n\r\nfunction removeResource(state, id) {\r\n    remove(state, 'resources', id);\r\n}\r\n\r\nfunction removeRole(state, id) {\r\n    remove(state, 'roles', id);\r\n}\r\n\r\nfunction removeChunk(state, id) {\r\n    remove(state, 'chunks', id);\r\n}\r\n\r\n\r\n// 更新数据\r\nfunction updateData(state, newData) {\r\n  let oldData = state.data[newData.id];\r\n  if (oldData) {\r\n    Object.assign(oldData, newData);\r\n  } else {\r\n    state.data[newData.id] = newData;\r\n  }\r\n}\r\n\r\nexport {\r\n    createResource,\r\n    createRole,\r\n    createChunk,\r\n\r\n    removeResource,\r\n    removeRole,\r\n    removeChunk,\r\n\r\n    updateData,\r\n}","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport { \n    cacheState, \n    compile, \n    downloadProject, \n    downloadScript,\n    loadProjectFromFile,\n    loadProjectFromCache,\n} from './transfer'\nimport { \n    createResource, \n    createRole, \n    createChunk, \n    removeResource, \n    removeRole, \n    removeChunk, \n    updateData, \n} from './data-mutation'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n\n    name: '未命名', // 剧本的名称\n    \n    version: '1.0.0', // 版本\n\n    authors: [], // 作者\n\n    data: {\n      'res-1': { id: 'res-1', src: null, name: 'Unnamed' },\n      'role-1': { id: 'role-1', name: '内啥', avatar: null, pic: null },\n      'chunk-1': { id: 'chunk-1', title: '未命名章节', subtitle: '', background: null, sections: [], exits: [] },\n    }, // 所有数据的存储地点\n\n    resources: ['res-1'], // 资源列表\n\n    roles: ['role-1'], // 角色列表\n\n    chunks: ['chunk-1'], // 台词段\n\n    script: null, // 缓存编译好的剧本\n\n  },\n  mutations: {\n    cacheState,\n    compile,\n    downloadProject,\n    downloadScript,\n    loadProjectFromFile,\n    loadProjectFromCache,\n\n\n    createResource,\n    createRole,\n    createChunk,\n\n    removeResource,\n    removeRole,\n    removeChunk,\n\n    updateData,\n\n    updateBaseInfo(state, { name, version, authors }) {\n      state.name = name || state.name;\n      state.version = version || state.version;\n      state.authors = authors || state.authors;\n    },\n\n  },\n  actions: {\n  },\n})\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport vuetify from './plugins/vuetify';\r\nimport store from './store'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  vuetify,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=style&index=0&id=5f927c0d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=style&index=0&id=5f927c0d&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demonstration.vue?vue&type=style&index=0&id=7d3e8764&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demonstration.vue?vue&type=style&index=0&id=7d3e8764&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChunkManager.vue?vue&type=style&index=0&id=62f02815&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChunkManager.vue?vue&type=style&index=0&id=62f02815&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleManager.vue?vue&type=style&index=0&id=2b1cc075&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleManager.vue?vue&type=style&index=0&id=2b1cc075&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Section.vue?vue&type=style&index=0&id=4240e50d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Section.vue?vue&type=style&index=0&id=4240e50d&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=b269a8ce&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=b269a8ce&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chunk.vue?vue&type=style&index=0&id=6f8e05fd&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chunk.vue?vue&type=style&index=0&id=6f8e05fd&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceManager.vue?vue&type=style&index=0&id=3dab9a01&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceManager.vue?vue&type=style&index=0&id=3dab9a01&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleSelector.vue?vue&type=style&index=0&id=6dc2f815&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleSelector.vue?vue&type=style&index=0&id=6dc2f815&lang=scss&scoped=true&\""],"sourceRoot":""}