{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?0f16","webpack:///./src/components/ResSelector.vue?fd8b","webpack:///./src/components/Section.vue?39f1","webpack:///./src/components/Role.vue?905e","webpack:///./src/App.vue?3d5b","webpack:///./src/views/ResourceManager.vue?06f0","webpack:///./src/components/Resource.vue?d80e","webpack:///src/components/Resource.vue","webpack:///./src/components/Resource.vue?89c7","webpack:///./src/components/Resource.vue?b71d","webpack:///src/views/ResourceManager.vue","webpack:///./src/views/ResourceManager.vue?ddd2","webpack:///./src/views/ResourceManager.vue?624a","webpack:///./src/components/Role.vue?0a32","webpack:///./src/components/ResSelector.vue?be98","webpack:///src/components/ResSelector.vue","webpack:///./src/components/ResSelector.vue?94af","webpack:///./src/components/ResSelector.vue","webpack:///./src/utils/vue-util.js","webpack:///src/components/Role.vue","webpack:///./src/components/Role.vue?51cd","webpack:///./src/components/Role.vue","webpack:///./src/components/Chunk.vue?11d3","webpack:///./src/components/Section.vue?304a","webpack:///./src/components/RoleSelector.vue?1a00","webpack:///./src/components/RAvatar.vue?6f03","webpack:///src/components/RAvatar.vue","webpack:///./src/components/RAvatar.vue?dbfc","webpack:///./src/components/RAvatar.vue","webpack:///src/components/RoleSelector.vue","webpack:///./src/components/RoleSelector.vue?1ef8","webpack:///./src/components/RoleSelector.vue","webpack:///src/components/Section.vue","webpack:///./src/components/Section.vue?0855","webpack:///./src/components/Section.vue","webpack:///src/components/Chunk.vue","webpack:///./src/components/Chunk.vue?0f20","webpack:///./src/components/Chunk.vue","webpack:///./src/components/BaseInfo.vue?f7c9","webpack:///src/components/BaseInfo.vue","webpack:///./src/components/BaseInfo.vue?859a","webpack:///./src/components/BaseInfo.vue","webpack:///./src/components/Doc.vue?c597","webpack:///./src/components/Doc.vue","webpack:///./src/views/Demonstration.vue?8024","webpack:///src/views/Demonstration.vue","webpack:///./src/views/Demonstration.vue?bb6f","webpack:///./src/views/Demonstration.vue?cbd2","webpack:///src/App.vue","webpack:///./src/App.vue?3359","webpack:///./src/App.vue?2667","webpack:///./src/plugins/vuetify.js","webpack:///./src/store/transfer.js","webpack:///./src/store/data-mutation.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/views/Demonstration.vue?0146","webpack:///./src/components/Chunk.vue?c809","webpack:///./src/views/ResourceManager.vue?feb8","webpack:///./src/components/RoleSelector.vue?f381","webpack:///./src/components/Resource.vue?8a37"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","fn","ref","on","_g","_b","_v","tabs","$event","saveTab","tabIndex","saveAllTabs","downloadProject","script","downloadScript","cacheState","loadProjectFromCache","staticClass","loadProjectFromFile","target","files","compile","open","showNav","closeAll","proxy","_l","id","avatar","_s","createNewRole","title","createNewChunk","_e","model","callback","$$v","expression","tab","index","icon","close","dirty","component","refInFor","tag","markDirty","staticRenderFns","overlay","handleDrop","uid","inputFiles","res","src","errors","editName","handleEnter","removeResource","replaceRes","VBtn","VCard","VCardActions","VCardTitle","VIcon","VImg","VTextField","VCardSubtitle","VContainer","avatarUrl","pic","deleteSelf","picUrl","label","messages","placeholder","noDataText","resList","handleInput","resId","VSelect","mutateWatcher","contentKey","keys","reduce","k","newVal","oldVal","$emit","VAvatar","VSpacer","backgroundUrl","openMenu","directives","rawName","domProps","composing","subtitle","background","exit","$set","chunkList","deleteExit","addExit","openExits","sec","sections","addLine","deleteLine","focusOnSection","showBtnBar","speaker","focus","handleInputKey","editText","text","line","isOnly","changingRole","roleList","roleUid","rolePicUrl","roleName","size","emptyIcon","VBtnToggle","VExpandXTransition","VTextarea","VAppBarNavIcon","VCol","VDivider","VExpandTransition","VRow","VSlideXReverseTransition","VSubheader","version","authors","VCombobox","_m","bgm","speakerPic","speakerName","option","handleClickOption","options","handleClickDefaultOption","modifiers","instructions","pointer","_n","$forceUpdate","forceRun","log","VInput","VApp","VAppBar","VList","VListGroup","VListItem","VListItemAvatar","VListItemSubtitle","VListItemTitle","VMain","VMenu","VNavigationDrawer","VTab","VTabItem","VTabs","VTabsItems","Vue","use","Vuetify","LS_KEY","state","mapping","resources","map","forEach","roles","role","chunks","chunk","split","filter","test","exits","e","ins","verion","localStorage","setItem","JSON","stringify","download","json","getItem","assign","parse","file","reader","FileReader","onload","readAsText","catalog","cb","newData","genId","createResource","type","createRole","createChunk","remove","findIndex","removeRole","removeChunk","updateData","oldData","Vuex","Store","mutations","updateBaseInfo","actions","config","productionTip","vuetify","store","render","h","App","$mount"],"mappings":"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","file":"js/app.2adcf321.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/pl-editor/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResSelector.vue?vue&type=style&index=0&id=6df42ebf&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResSelector.vue?vue&type=style&index=0&id=6df42ebf&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Section.vue?vue&type=style&index=0&id=4550ed76&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Section.vue?vue&type=style&index=0&id=4550ed76&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=style&index=0&id=79fd9c71&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=style&index=0&id=79fd9c71&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"app\"}},[_c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"height\":\"32\",\"clipped-left\":\"\"}},[_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"dark\":\"\",\"text\":\"\",\"height\":\"32\",\"tile\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"文件\")])]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\",\"disabled\":!_vm.tabs.length},on:{\"click\":function($event){return _vm.saveTab(_vm.tabIndex)}}},[_c('v-list-item-title',[_vm._v(\"保存当前项目\")])],1),_c('v-list-item',{attrs:{\"dense\":\"\",\"disabled\":!_vm.tabs.length},on:{\"click\":_vm.saveAllTabs}},[_c('v-list-item-title',[_vm._v(\"保存所有项目\")])],1),_c('v-divider'),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.downloadProject}},[_c('v-list-item-title',[_vm._v(\"下载工程\")])],1),_c('v-list-item',{attrs:{\"dense\":\"\",\"disabled\":!_vm.script},on:{\"click\":_vm.downloadScript}},[_c('v-list-item-title',[_vm._v(\"下载脚本\")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.cacheState}},[_c('v-list-item-title',[_vm._v(\"缓存至浏览器\")])],1),_c('v-divider'),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.loadProjectFromCache}},[_c('v-list-item-title',[_vm._v(\"从浏览器缓存载入工程\")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-title',{staticClass:\"p-relative\"},[_vm._v(\" 从文件载入工程 \"),_c('input',{staticClass:\"invisible-overlay\",attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.loadProjectFromFile($event.target.files[0])}}})])],1)],1)],1),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"dark\":\"\",\"text\":\"\",\"height\":\"32\",\"tile\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"工程\")])]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.compile}},[_c('v-list-item-title',[_vm._v(\"编译为测试版\")])],1),_c('v-list-item',{attrs:{\"dense\":\"\",\"disabled\":\"\"},on:{\"click\":_vm.compile}},[_c('v-list-item-title',[_vm._v(\"编译为发行版\")])],1)],1)],1),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"dark\":\"\",\"text\":\"\",\"height\":\"32\",\"tile\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"脚本\")])]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\",\"disabled\":!_vm.script},on:{\"click\":function($event){return _vm.open('demo')}}},[_c('v-list-item-title',[_vm._v(\"开始测试\")])],1)],1)],1),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"dark\":\"\",\"text\":\"\",\"height\":\"32\",\"tile\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"窗口\")])]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){_vm.showNav = !_vm.showNav}}},[_c('v-list-item-title',[_vm._v(\"开关导航栏\")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.closeAll}},[_c('v-list-item-title',[_vm._v(\"关闭所有标签\")])],1)],1)],1),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"dark\":\"\",\"text\":\"\",\"height\":\"32\",\"tile\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"帮助\")])]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.open('doc')}}},[_c('v-list-item-title',[_vm._v(\"帮助文档\")])],1)],1)],1)],1),(_vm.showNav)?_c('v-navigation-drawer',{attrs:{\"app\":\"\",\"permanent\":\"\",\"clipped\":\"\"}},[_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){return _vm.open('base-info')}}},[_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-information-outline\")])],1),_c('v-list-item-title',[_vm._v(\"基础信息\")])],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.open('res-manager')}}},[_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-folder-outline\")])],1),_c('v-list-item-title',[_vm._v(\"资源管理器\")])],1),_c('v-list-group',{scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-account-outline\")])],1),_c('v-list-item-subtitle',[_vm._v(\"角色\")])]},proxy:true}],null,false,3000131414)},[_vm._l((_vm.roles),function(id){return _c('v-list-item',{key:id,on:{\"click\":function($event){return _vm.open('role', id)}}},[_c('v-list-item-avatar',{attrs:{\"color\":\"grey lighten-2\"}},[_c('v-img',{attrs:{\"src\":_vm.data[_vm.data[id].avatar]}})],1),_c('v-list-item-title',[_vm._v(_vm._s(_vm.data[id].name))])],1)}),_c('v-list-item',[_c('v-btn',{staticClass:\"mx-auto\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.createNewRole}},[_vm._v(\"新建角色\")])],1)],2),_c('v-list-group',{scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-text\")])],1),_c('v-list-item-subtitle',[_vm._v(\"台词段\")])]},proxy:true}],null,false,2461098671)},[_vm._l((_vm.chunks),function(id){return _c('v-list-item',{key:id,on:{\"click\":function($event){return _vm.open('chunk', id)}}},[_c('v-list-item-title',[_vm._v(_vm._s(_vm.data[id].title))])],1)}),_c('v-list-item',[_c('v-btn',{staticClass:\"mx-auto\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.createNewChunk}},[_vm._v(\"新建文本段\")])],1)],2)],1)],1):_vm._e(),_c('v-main',{staticClass:\"fill-y\"},[_c('div',{staticClass:\"fill-y flex-grow-1 d-flex flex-column\"},[_c('v-tabs',{staticClass:\"flex-grow-0\",attrs:{\"height\":\"2em\"},model:{value:(_vm.tabIndex),callback:function ($$v) {_vm.tabIndex=$$v},expression:\"tabIndex\"}},_vm._l((_vm.tabs),function(tab,index){return _c('v-tab',{key:tab.id,attrs:{\"size\":\"small\"}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(tab.icon))]),_c('span',{staticClass:\"mx-1\"},[_vm._v(_vm._s(tab.title))]),_c('v-btn',{attrs:{\"x-small\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.close(index)}}},[_c('v-icon',{attrs:{\"x-small\":\"\"}},[_vm._v(_vm._s(tab.dirty ? 'mdi-circle' : 'mdi-close'))])],1)],1)}),1),_c('v-divider'),_c('v-tabs-items',{staticClass:\"fill-y inner-fill-y overflow-hidden inner-overflow-auto grey lighten-4 flex-grow-1\",attrs:{\"active-class\":\"\"},model:{value:(_vm.tabIndex),callback:function ($$v) {_vm.tabIndex=$$v},expression:\"tabIndex\"}},_vm._l((_vm.tabs),function(tab,index){return _c('v-tab-item',{key:tab.id,staticClass:\"fill-y grey lighten-4\"},[_c(tab.component,{ref:\"tabs\",refInFor:true,tag:\"component\",staticClass:\"edit-area\",attrs:{\"id\":tab.id},on:{\"mutate\":function($event){return _vm.markDirty(tab)},\"delete\":function($event){return _vm.close(index)}}})],1)}),1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"resource-manager d-flex flex-wrap\",on:{\"dragover\":function($event){_vm.overlay = true},\"dragend\":function($event){_vm.overlay = false},\"drop\":_vm.handleDrop}},[_vm._l((_vm.resources),function(uid){return _c('Resouece',{key:uid,staticClass:\"resource ma-3\",attrs:{\"uid\":uid,\"res\":_vm.data[uid]}})}),_c('v-card',{staticClass:\"resource ma-3 d-flex flex-column\"},[_c('div',{staticClass:\"input-wrapper flex-grow-1 flex-shrink-1 d-flex justify-center align-center\"},[_c('v-icon',{attrs:{\"x-large\":\"\"}},[_vm._v(\"mdi-file-multiple\")]),_c('input',{attrs:{\"type\":\"file\",\"multiple\":\"\"},on:{\"change\":_vm.inputFiles}})],1),_c('v-card-subtitle',[_vm._v(\"拖拽或点击输入文件\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"d-flex flex-column\"},[_c('v-img',{staticClass:\"flex-shrink-1\",attrs:{\"src\":_vm.res.src,\"contain\":\"\"}}),_c('v-card-title',{staticClass:\"name\"},[(_vm.editName)?_c('v-text-field',{attrs:{\"hide-details\":\"auto\",\"dense\":\"\",\"error-messages\":_vm.errors},on:{\"blur\":function($event){_vm.editName = false},\"keydown\":_vm.handleEnter},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}):_c('span',{on:{\"click\":function($event){_vm.editName = true}}},[_vm._v(_vm._s(_vm.name))])],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.removeResource(_vm.id)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-share\")]),_c('input',{ref:\"btnReplace\",staticClass:\"fill\",attrs:{\"type\":\"file\"},on:{\"input\":_vm.replaceRes}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-card class=\"d-flex flex-column\">\r\n        <v-img class=\"flex-shrink-1\" :src=\"res.src\" contain />\r\n\r\n        <v-card-title class=\"name\">\r\n            <v-text-field \r\n                v-if=\"editName\"\r\n                hide-details=\"auto\"\r\n                dense \r\n                :error-messages=\"errors\"\r\n                v-model=\"name\"\r\n                @blur=\"editName = false\"\r\n                @keydown=\"handleEnter\"\r\n            />\r\n\r\n            <span v-else @click=\"editName = true\">{{ name }}</span>\r\n        </v-card-title>\r\n\r\n        <v-card-actions>\r\n            <v-btn icon @click=\"removeResource(id)\">\r\n                <v-icon>mdi-delete</v-icon>\r\n            </v-btn>\r\n\r\n            <v-btn icon>\r\n                <v-icon>mdi-share</v-icon>\r\n                <input ref=\"btnReplace\" class=\"fill\" type=\"file\" @input=\"replaceRes\" />\r\n            </v-btn>\r\n        </v-card-actions>\r\n    </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations } from 'vuex';\r\nexport default {\r\n    name: \"Resource\",\r\n\r\n    props: {\r\n        res: Object,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            id: this.res.id,\r\n            name: this.res.name,\r\n            src: this.res.src,\r\n            type: this.res.type,\r\n\r\n            editName: false,\r\n            errors: null,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        name(newVal, oldVal) {\r\n            this.errors = newVal.length === 0 ? \"名字不可为空\" : null;\r\n            if (newVal !== oldVal && newVal) {\r\n                this.updateData({ id: this.id, name: newVal })\r\n            }\r\n        },\r\n\r\n        src(newVal, oldVal) {\r\n            if (newVal !== oldVal) {\r\n                this.updateData({ id: this.id, src: this.src, type: this.type })\r\n            }\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations(['removeResource', 'updateData']),\r\n\r\n        replaceRes(event) {\r\n            for (const file of event.target.files) {\r\n                const reader = new FileReader();\r\n                reader.onload = () => Object.assign(this, { src: reader.result, type: file.type });\r\n                reader.readAsDataURL(file);\r\n            }\r\n        },\r\n\r\n        handleEnter(event) {\r\n            if (event.key === 'Enter') {\r\n                this.editName = false;\r\n                this.updateData({ id: this.id, name: this.name });\r\n            }\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.name > * {\r\n    width: 100%;\r\n}\r\n\r\n.fill {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    opacity: 0;\r\n    cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resource.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resource.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Resource.vue?vue&type=template&id=df95f3c8&scoped=true&\"\nimport script from \"./Resource.vue?vue&type=script&lang=js&\"\nexport * from \"./Resource.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Resource.vue?vue&type=style&index=0&id=df95f3c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df95f3c8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardTitle,VIcon,VImg,VTextField})\n","<template>\r\n    <v-container\r\n        class=\"resource-manager d-flex flex-wrap\"\r\n        @dragover=\"overlay = true\"\r\n        @dragend=\"overlay = false\"\r\n        @drop=\"handleDrop\"\r\n    >\r\n        <Resouece\r\n            class=\"resource ma-3\"\r\n            v-for=\"uid of resources\"\r\n            :key=\"uid\"\r\n            :uid=\"uid\"\r\n            :res=\"data[uid]\"\r\n        />\r\n\r\n        <v-card class=\"resource ma-3 d-flex flex-column\">\r\n            <div class=\"input-wrapper flex-grow-1 flex-shrink-1 d-flex justify-center align-center\">\r\n                <v-icon x-large>mdi-file-multiple</v-icon>\r\n\r\n                <input type=\"file\" multiple @change=\"inputFiles\" />\r\n            </div>\r\n\r\n            <v-card-subtitle>拖拽或点击输入文件</v-card-subtitle>\r\n        </v-card>\r\n\r\n        <!-- <v-overlay :value=\"false\" class=\"fill ma-auto\" absolute>\r\n            <div class=\"overlay input-wrapper d-flex flex-column justify-center align-center\">\r\n                <v-icon size=\"100\">mdi-file-multiple</v-icon>\r\n\r\n                <p class=\"mt-10\">松开鼠标以输入文件</p>\r\n\r\n                <input type=\"file\" multiple @change=\"inputFiles\" />\r\n            </div>\r\n        </v-overlay> -->\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nimport Resouece from \"@/components/Resource.vue\";\r\nimport { mapMutations, mapState } from \"vuex\";\r\n\r\nexport default {\r\n    name: \"ResourceManager\",\r\n\r\n    components: {\r\n        Resouece,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            overlay: false,\r\n        };\r\n    },\r\n    \r\n    computed: {\r\n        ...mapState([\"resources\", \"data\"]),\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations([\"createResource\"]),\r\n\r\n        inputFiles(event) {\r\n            for (const file of event.target.files) {\r\n                const dotIndex = file.name.lastIndexOf(\".\");\r\n                const name = dotIndex >= 0 ? file.name.slice(0, dotIndex) : file.name;\r\n\r\n                const reader = new FileReader();\r\n                reader.onload = () => this.createResource({ name, src: reader.result, type: file.type });\r\n                reader.readAsDataURL(file);\r\n            }\r\n        },\r\n\r\n        handleDrop() {\r\n            this.overlay = false;\r\n        },\r\n\r\n        save() {\r\n            // nop\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.resource-manager > * {\r\n    width: 10rem;\r\n    height: 16em;\r\n}\r\n\r\n.input-wrapper {\r\n    position: relative;\r\n}\r\n\r\n.input-wrapper > input[type=\"file\"] {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    opacity: 0;\r\n    user-select: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.fill {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.overlay {\r\n    width: 90vw;\r\n    height: 80vh;\r\n    border: #ffffff dashed 0.1em;\r\n    border-radius: 1em;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResourceManager.vue?vue&type=template&id=3dab9a01&scoped=true&\"\nimport script from \"./ResourceManager.vue?vue&type=script&lang=js&\"\nexport * from \"./ResourceManager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResourceManager.vue?vue&type=style&index=0&id=3dab9a01&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3dab9a01\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VCard,VCardSubtitle,VContainer,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fill-y max-width-64em pa-5 d-flex\"},[_c('div',{staticClass:\"form d-flex flex-column align-center\"},[_c('v-avatar',{attrs:{\"size\":\"160\",\"color\":\"grey\"}},[(_vm.avatar)?_c('img',{attrs:{\"src\":_vm.avatarUrl}}):_c('span',{staticClass:\"white--text text-h3\"},[_vm._v(_vm._s(_vm.name.slice(0, 2)))])]),_c('v-text-field',{staticClass:\"input flex-grow-0\",attrs:{\"label\":\"名字\",\"messages\":\"必填，最好不要超过三个中文\",\"placeholder\":\"角色的名字\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('ResSelector',{staticClass:\"flex-grow-0\",attrs:{\"label\":\"头像\",\"messages\":\"无实际用途，仅方便编辑\"},model:{value:(_vm.avatar),callback:function ($$v) {_vm.avatar=$$v},expression:\"avatar\"}}),_c('ResSelector',{staticClass:\"flex-grow-0\",attrs:{\"label\":\"立绘\"},model:{value:(_vm.pic),callback:function ($$v) {_vm.pic=$$v},expression:\"pic\"}}),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"warning\"},on:{\"click\":_vm.deleteSelf}},[_c('v-icon',[_vm._v(\"mdi-delete\")]),_vm._v(\" 删除该角色 \")],1)],1),_c('div',{staticClass:\"img-wrapper flex-grow-1\"},[_c('img',{attrs:{\"src\":_vm.picUrl}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-select',{attrs:{\"label\":_vm.label,\"messages\":_vm.messages,\"placeholder\":_vm.placeholder,\"no-data-text\":_vm.noDataText || '无可用资源',\"items\":_vm.resList,\"item-text\":\"name\",\"item-value\":\"id\"},on:{\"input\":_vm.handleInput},model:{value:(_vm.resId),callback:function ($$v) {_vm.resId=$$v},expression:\"resId\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-select\r\n        :label=\"label\"\r\n        :messages=\"messages\"\r\n        :placeholder=\"placeholder\"\r\n        :no-data-text=\"noDataText || '无可用资源'\"\r\n        :items=\"resList\"\r\n        v-model=\"resId\"\r\n        item-text=\"name\"\r\n        item-value=\"id\"\r\n        @input=\"handleInput\"\r\n    />\r\n</template>\r\n\r\n<script>\r\n\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n    name: 'ResSelector',\r\n\r\n    props: {\r\n        value: String,\r\n        messages: [Array, String],\r\n        label: String,\r\n        placeholder: String,\r\n        noDataText: String,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            resId: this.value,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        value(val) {\r\n            this.resId = val;\r\n        },\r\n    },\r\n\r\n    computed: {\r\n        ...mapState(['data', 'resources']),\r\n\r\n        resList() {\r\n            return this.resources.map(uid => this.data[uid]);\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        handleInput() {\r\n            this.$emit('input', this.resId);\r\n            this.changingRole = false;\r\n        },\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.role-input, \r\n.role {\r\n    width: 6em;\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResSelector.vue?vue&type=template&id=6df42ebf&scoped=true&\"\nimport script from \"./ResSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ResSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResSelector.vue?vue&type=style&index=0&id=6df42ebf&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6df42ebf\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VSelect})\n","function mutateWatcher(contentKey, ...keys) {\r\n    return keys.reduce((p, k) => (p[k] = function(newVal, oldVal) {\r\n        if (contentKey) {\r\n            this[contentKey][k] = newVal;\r\n        }\r\n        if (newVal !== oldVal) {\r\n            this.$emit('mutate');\r\n        }\r\n    }, p), {});\r\n}\r\n\r\nexport {\r\n    mutateWatcher,\r\n}","<template>\r\n    <!-- 角色展示 -->\r\n    <div class=\"fill-y max-width-64em pa-5 d-flex\">\r\n        <div class=\"form d-flex flex-column align-center\">\r\n            <!-- 头像预览 -->\r\n            <v-avatar \r\n                size=\"160\"\r\n                color=\"grey\"\r\n            >\r\n                <img v-if=\"avatar\" :src=\"avatarUrl\" />\r\n\r\n                <span v-else class=\"white--text text-h3\">{{ name.slice(0, 2) }}</span>\r\n            </v-avatar>\r\n\r\n            <!-- 角色名字 -->\r\n            <v-text-field\r\n                label=\"名字\"\r\n                class=\"input flex-grow-0\"\r\n                messages=\"必填，最好不要超过三个中文\"\r\n                placeholder=\"角色的名字\"\r\n                v-model=\"name\"\r\n            />\r\n\r\n            <!-- 角色头像 -->\r\n            <ResSelector class=\"flex-grow-0\" label=\"头像\" messages=\"无实际用途，仅方便编辑\" v-model=\"avatar\" />\r\n\r\n            <!-- 角色的立绘 -->\r\n            <ResSelector class=\"flex-grow-0\" label=\"立绘\" v-model=\"pic\" />\r\n\r\n            <v-spacer/>\r\n\r\n            <!-- 删除按钮 -->\r\n            <v-btn color=\"warning\" @click=\"deleteSelf\">\r\n                <v-icon>mdi-delete</v-icon>\r\n                删除该角色\r\n            </v-btn>\r\n        </div>\r\n\r\n        <!-- 立绘预览 -->\r\n        <div class=\"img-wrapper flex-grow-1\">\r\n            <img :src=\"picUrl\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport ResSelector from \"./ResSelector.vue\";\r\nimport { mapMutations, mapState } from \"vuex\";\r\nimport { mutateWatcher } from '../utils/vue-util'\r\n\r\n\r\nexport default {\r\n    name: \"Role\",\r\n\r\n    components: {\r\n        ResSelector,\r\n    },\r\n\r\n    props: {\r\n        id: String,\r\n    },\r\n\r\n    data() {\r\n        const role = this.$store.state.data[this.id];\r\n        return {\r\n            name: role.name,\r\n            avatar: role.avatar,\r\n            pic: role.pic,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        ...mutateWatcher(null, 'name', 'avatar', 'pic'),\r\n    },\r\n\r\n    computed: {\r\n        ...mapState([\"data\"]),\r\n\r\n        picUrl() {\r\n            const res = this.data[this.pic];\r\n            return res ? res.src : null;\r\n        },\r\n\r\n        avatarUrl() {\r\n            const res = this.data[this.avatar];\r\n            return res ? res.src : null;\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations(['updateData', 'removeRole']),\r\n\r\n        deleteSelf() {\r\n            this.removeRole(this.id);\r\n            this.$emit('delete', this.id);\r\n        },\r\n\r\n        save() {\r\n            this.updateData({\r\n                id: this.id,\r\n                name: this.name,\r\n                avatar: this.avatar,\r\n                pic: this.pic,\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.img-wrapper {\r\n    flex: 1;\r\n    text-align: center;\r\n\r\n    img {\r\n        max-width: 100%;\r\n        height: 100%;\r\n        object-fit: contain;\r\n        object-position: center;\r\n    }\r\n}\r\n\r\n.form {\r\n    > * {\r\n        width: 20em;\r\n        margin-top: 1.5em;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Role.vue?vue&type=template&id=79fd9c71&scoped=true&\"\nimport script from \"./Role.vue?vue&type=script&lang=js&\"\nexport * from \"./Role.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Role.vue?vue&type=style&index=0&id=79fd9c71&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79fd9c71\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAvatar,VBtn,VIcon,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chunk max-width-64em px-5\"},[_c('v-container',{staticClass:\"pa-0 d-flex flex-column\"},[_c('div',{staticClass:\"chunk-info px-5 pt-5 pb-0\"},[_c('img',{staticClass:\"background\",attrs:{\"cover\":\"\",\"width\":\"100%\",\"gradient\":\"#ffffffaf 0%, #ffffffaf 50%, #fff 100%\",\"src\":_vm.backgroundUrl}}),_c('div',{staticClass:\"text-right ma-1\",on:{\"mouseleave\":function($event){_vm.openMenu = false}}},[_c('v-slide-x-reverse-transition',[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openMenu),expression:\"openMenu\"}]},[_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\",\"color\":\"warning\"},on:{\"click\":_vm.deleteSelf}},[_c('v-icon',[_vm._v(\"mdi-delete\")]),_vm._v(\"删除 \")],1)],1)]),_c('v-app-bar-nav-icon',{on:{\"click\":function($event){_vm.openMenu = !_vm.openMenu}}})],1),_c('v-row',{attrs:{\"align\":\"baseline\"}},[_c('v-col',{attrs:{\"cols\":\"2\"}},[_vm._v(\"标题\")]),_c('v-col',{attrs:{\"cols\":\"10\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"text-h4\",attrs:{\"type\":\"text\",\"placeholder\":\"此处输入标题\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}})])],1),_c('v-row',{attrs:{\"align\":\"baseline\"}},[_c('v-col',{attrs:{\"cols\":\"2\"}},[_vm._v(\"副标题\")]),_c('v-col',{attrs:{\"cols\":\"10\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.subtitle),expression:\"subtitle\"}],staticClass:\"text-subtitle-1\",attrs:{\"type\":\"text\",\"placeholder\":\"此处输入副标题\"},domProps:{\"value\":(_vm.subtitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.subtitle=$event.target.value}}})])],1),_c('v-row',{attrs:{\"align\":\"baseline\"}},[_c('v-col',{attrs:{\"cols\":\"2\"}},[_vm._v(\"背景\")]),_c('v-col',{attrs:{\"cols\":\"10\"}},[_c('ResSelector',{attrs:{\"placeholder\":\"选择背景\"},model:{value:(_vm.background),callback:function ($$v) {_vm.background=$$v},expression:\"background\"}})],1)],1),_c('v-expand-transition',[(_vm.openExits)?_c('v-container',{staticClass:\"py-0\"},[_c('v-subheader',[_vm._v(\"出口列表\")]),_vm._l((_vm.exits),function(exit,index){return _c('v-row',{key:index},[_c('v-col',{attrs:{\"cols\":\"1\"}},[_vm._v(_vm._s(index + 1))]),_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('v-text-field',{attrs:{\"label\":\"选项文本\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(exit.text),callback:function ($$v) {_vm.$set(exit, \"text\", $$v)},expression:\"exit.text\"}})],1),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-select',{attrs:{\"label\":\"目标\",\"dense\":\"\",\"hide-details\":\"\",\"items\":_vm.chunkList,\"item-text\":\"title\",\"item-value\":\"uid\"},model:{value:(exit.target),callback:function ($$v) {_vm.$set(exit, \"target\", $$v)},expression:\"exit.target\"}})],1),_c('v-col',{attrs:{\"cols\":\"1\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"warning\",\"text\":\"\"},on:{\"click\":function($event){return _vm.deleteExit(index)}}},[_vm._v(\"删除\")])],1)],1)}),_c('v-row',[_c('v-btn',{staticClass:\"mx-auto\",attrs:{\"text\":\"\"},on:{\"click\":_vm.addExit}},[_vm._v(\"新出口\")])],1)],2):_vm._e()],1),_c('v-btn',{attrs:{\"text\":\"\",\"bottom\":\"\",\"block\":\"\"},on:{\"click\":function($event){_vm.openExits = !_vm.openExits}}},[_c('v-icon',[_vm._v(_vm._s(_vm.openExits ? 'mdi-chevron-up' : 'mdi-chevron-down'))])],1)],1)]),_c('v-divider'),_c('div',{staticClass:\"content\"},_vm._l((_vm.sections),function(sec,index){return _c('Section',{key:index,ref:\"section\",refInFor:true,attrs:{\"index\":index,\"section\":sec,\"is-only\":_vm.sections.length === 1},on:{\"add-line\":_vm.addLine,\"delete-line\":_vm.deleteLine,\"focus\":_vm.focusOnSection,\"mutate\":function($event){return _vm.$emit('mutate')}}})}),1),_c('v-row',{staticClass:\"flex-grow-0 pa-2\"},[_c('v-btn',{ref:\"btnAdd\",staticClass:\"mx-auto\",attrs:{\"color\":\"primary\",\"elevation\":\"0\"},on:{\"click\":_vm.addLine}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\"新小节 \")],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section d-flex align-start\",attrs:{\"align\":\"start\"},on:{\"mouseenter\":function($event){_vm.showBtnBar = true},\"mouseleave\":function($event){_vm.showBtnBar = false}}},[_c('span',{staticClass:\"mt-2 d-flex align-center\"},[_c('span',{staticClass:\"line-number text-subtitle-2 mr-3\"},[_vm._v(_vm._s(_vm.index + 1))]),_c('span',{staticClass:\"speaker\"},[_c('RoleSelector',{model:{value:(_vm.speaker),callback:function ($$v) {_vm.speaker=$$v},expression:\"speaker\"}})],1),_c('span',[_vm._v(\":\")])]),_c('span',{staticClass:\"text mx-2 flex-grow-1\",on:{\"click\":_vm.focus}},[(_vm.editText)?_c('v-textarea',{ref:\"textInput\",staticClass:\"text-input py-1\",attrs:{\"rows\":\"1\",\"auto-grow\":\"\",\"dense\":\"\",\"hide-details\":\"\"},on:{\"keyup\":_vm.handleInputKey,\"blur\":function($event){_vm.editText = false}},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}}):_vm._l((_vm.lines),function(line,index){return _c('p',{key:index,staticClass:\"pt-2 mb-0\"},[_vm._v(_vm._s(line))])})],2),_c('v-expand-x-transition',[(_vm.showBtnBar && !_vm.editText)?_c('v-btn-toggle',{staticClass:\"btn-tgl mt-2\",attrs:{\"dense\":\"\",\"rounded\":\"\",\"borderless\":\"\"}},[_c('v-btn',{staticClass:\"delete-btn\",attrs:{\"icon\":\"\",\"height\":\"2em\",\"color\":\"green\"},on:{\"click\":function($event){return _vm.$emit('add-line', _vm.index)}}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1),(!_vm.isOnly)?_c('v-btn',{staticClass:\"delete-btn\",attrs:{\"icon\":\"\",\"height\":\"2em\",\"color\":\"red\"},on:{\"click\":function($event){return _vm.$emit('delete-line', _vm.index)}}},[_c('v-icon',[_vm._v(\"mdi-minus\")])],1):_vm._e()],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.changingRole)?_c('span',{staticClass:\"role\",on:{\"blur\":function($event){_vm.changingRole = false}}},[_c('v-select',{attrs:{\"dense\":\"\",\"hide-details\":\"\",\"items\":_vm.roleList,\"item-text\":\"name\",\"item-value\":\"id\",\"no-data-text\":\"无可用角色\"},on:{\"input\":_vm.handleInput},model:{value:(_vm.roleUid),callback:function ($$v) {_vm.roleUid=$$v},expression:\"roleUid\"}})],1):_c('span',{staticClass:\"role d-flex align-center\",on:{\"click\":function($event){_vm.changingRole = true}}},[_c('RAvatar',{attrs:{\"size\":\"2em\",\"contain\":\"\",\"src\":_vm.rolePicUrl}}),_c('span',[_vm._v(_vm._s(_vm.roleName))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-avatar',{attrs:{\"size\":_vm.size}},[(_vm.src)?_c('v-img',{attrs:{\"src\":_vm.src,\"contain\":\"\"}}):_c('v-icon',{attrs:{\"size\":\"normal\"}},[_vm._v(_vm._s(_vm.emptyIcon))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-avatar :size=\"size\">\r\n        <v-img\r\n            v-if=\"src\"\r\n            :src=\"src\"\r\n            contain\r\n        />\r\n        <v-icon \r\n            v-else\r\n            size=\"normal\"\r\n        >{{ emptyIcon }}</v-icon>\r\n    </v-avatar>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'RAvatar',\r\n\r\n    props: {\r\n        src: String,\r\n        size: {\r\n            type: [String, Number],\r\n            default: '1em'\r\n        },\r\n        emptyIcon: {\r\n            type: String,\r\n            default: 'mdi-account-alert-outline'\r\n        }\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            text: this.value,\r\n        };\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RAvatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RAvatar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RAvatar.vue?vue&type=template&id=651caef7&scoped=true&\"\nimport script from \"./RAvatar.vue?vue&type=script&lang=js&\"\nexport * from \"./RAvatar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"651caef7\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\ninstallComponents(component, {VAvatar,VIcon,VImg})\n","<template>\r\n    <span \r\n        v-if=\"changingRole\"\r\n        class=\"role\"\r\n        @blur=\"changingRole = false\"\r\n    >\r\n        <v-select\r\n            dense\r\n            hide-details\r\n            :items=\"roleList\"\r\n            v-model=\"roleUid\"\r\n            item-text=\"name\"\r\n            item-value=\"id\"\r\n            no-data-text=\"无可用角色\"\r\n            @input=\"handleInput\"\r\n        />\r\n    </span>\r\n\r\n    <span \r\n        v-else\r\n        class=\"role d-flex align-center\"\r\n        @click=\"changingRole = true\"\r\n    >\r\n        <RAvatar\r\n            size=\"2em\"\r\n            contain\r\n            :src=\"rolePicUrl\"\r\n        />\r\n        <span>{{ roleName }}</span>\r\n    </span>\r\n</template>\r\n\r\n<script>\r\n\r\nimport RAvatar from '@/components/RAvatar.vue'\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n    name: 'RoleSelector',\r\n\r\n    components: {\r\n        RAvatar\r\n    },\r\n\r\n    props: {\r\n        value: String,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            changingRole: false,\r\n            roleUid: this.value,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        value(val) {\r\n            this.roleUid = val;\r\n        },\r\n    },\r\n\r\n    computed: {\r\n        ...mapState(['roles', 'data', 'resources']),\r\n\r\n        roleList() {\r\n            return this.roles.map(uid => this.data[uid]);\r\n        },\r\n\r\n        roleName() {\r\n            if (this.roleUid) {\r\n                const role = this.data[this.roleUid];\r\n                return role.name;\r\n            }\r\n            return '';\r\n        },\r\n\r\n        rolePicUrl() {\r\n            if (this.roleUid) {\r\n                const role = this.data[this.roleUid];\r\n                if (role) {\r\n                    const res = this.data[role.avatar || role.pic];\r\n                    if (res) {\r\n                        return res.src;\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        handleInput() {\r\n            this.$emit('input', this.roleUid);\r\n            this.changingRole = false;\r\n        },\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.role-input, \r\n.role {\r\n    width: 6em;\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoleSelector.vue?vue&type=template&id=6dc2f815&scoped=true&\"\nimport script from \"./RoleSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./RoleSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoleSelector.vue?vue&type=style&index=0&id=6dc2f815&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6dc2f815\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VSelect})\n","<template>\r\n    <div\r\n        class=\"section d-flex align-start\"\r\n        align=\"start\"\r\n        @mouseenter=\"showBtnBar = true\"\r\n        @mouseleave=\"showBtnBar = false\"\r\n    >\r\n        <span class=\"mt-2 d-flex align-center\">\r\n            <!-- 行号 -->\r\n            <span class=\"line-number text-subtitle-2 mr-3\">{{ index + 1 }}</span>\r\n            \r\n            <span class=\"speaker\">\r\n                <RoleSelector v-model=\"speaker\"/>\r\n            </span>\r\n            \r\n            <span>:</span>\r\n        </span>\r\n\r\n        <!-- 文本输入 -->\r\n        <span class=\"text mx-2 flex-grow-1\" @click=\"focus\">\r\n            <v-textarea\r\n                v-if=\"editText\"\r\n                rows=\"1\"\r\n                auto-grow\r\n                dense\r\n                hide-details\r\n                ref=\"textInput\"\r\n                class=\"text-input py-1\"\r\n                v-model=\"text\"\r\n                @keyup=\"handleInputKey\"\r\n                @blur=\"editText = false\"\r\n            />\r\n\r\n            <p \r\n                v-else \r\n                class=\"pt-2 mb-0\"\r\n                v-for=\"(line, index) of lines\"\r\n                :key=\"index\"\r\n            >{{ line }}</p>\r\n        </span>\r\n\r\n        <!-- 增减工具 -->\r\n        <v-expand-x-transition>\r\n            <v-btn-toggle \r\n                v-if=\"showBtnBar && !editText\"\r\n                class=\"btn-tgl mt-2\"\r\n                dense\r\n                rounded\r\n                borderless\r\n            >\r\n                <!-- 在当前行之前插入一行 -->\r\n                <v-btn \r\n                    icon \r\n                    height=\"2em\"\r\n                    class=\"delete-btn\" \r\n                    color=\"green\"\r\n                    @click=\"$emit('add-line', index)\"\r\n                ><v-icon>mdi-plus</v-icon></v-btn>\r\n                \r\n                <!-- 删去该行 -->\r\n                <v-btn \r\n                    v-if=\"!isOnly\"\r\n                    icon \r\n                    height=\"2em\"\r\n                    class=\"delete-btn\" \r\n                    color=\"red\"\r\n                    @click=\"$emit('delete-line', index)\"\r\n                ><v-icon>mdi-minus</v-icon></v-btn>\r\n            </v-btn-toggle>\r\n        </v-expand-x-transition>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport RoleSelector from './RoleSelector.vue'\r\nimport { mutateWatcher } from '../utils/vue-util'\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n    name: 'Section',\r\n\r\n    components: {\r\n        RoleSelector,\r\n    },\r\n\r\n    props: {\r\n        index: Number,\r\n        section: Object,\r\n        isOnly: Boolean,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            speaker: this.section.speaker,\r\n            text: this.section.text,\r\n            \r\n            showBtnBar: false,\r\n            editText: false,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        ...mutateWatcher('section', 'speaker', 'text'),\r\n    },\r\n\r\n    computed: {\r\n        ...mapState(['data']),\r\n\r\n        lines() {\r\n            return this.text.split('\\n').filter(l => !/^\\s*$/.test(l)).map(l => l.trim());\r\n        },\r\n\r\n        speakerName() {\r\n            if (this.speaker) {\r\n                const role = this.data[this.speaker];\r\n                if (role && role.pic) {\r\n                    return role.name;\r\n                }\r\n            }\r\n            return '      ';\r\n        },\r\n\r\n        speakerPicUrl() {\r\n            if (this.speaker) {\r\n                const role = this.data[this.speaker];\r\n                if (role) {\r\n                    const res = this.data[role.avatar || role.pic];\r\n                    if (res) {\r\n                        return res.src;\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        focus() {\r\n            if (this.editText) {\r\n                this.$refs.textInput.focus()\r\n            } else {\r\n                this.editText = true;\r\n                this.$nextTick(() => this.$refs.textInput.focus());\r\n            }\r\n        },\r\n\r\n        handleInputKey(event) {\r\n            let doPreventDefault = true;\r\n            if (!event.ctrlKey) {\r\n                return;\r\n            }\r\n            switch(event.key) {\r\n                case 'Enter': this.$emit('add-line', this.index + 1); break;\r\n                case 'ArrowUp': this.$emit('focus', this.index - 1); break;\r\n                case 'ArrowDown': this.$emit('focus', this.index + 1); break;\r\n                case 'Backspace': {\r\n                    if (/^\\s*$/.test(this.section.text)) {\r\n                        this.$emit('delete-line', this.index);\r\n                    }\r\n                } break;\r\n                default: doPreventDefault = false;\r\n            }\r\n\r\n            if (doPreventDefault) {\r\n                event.preventDefault();\r\n            }\r\n        }\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.section {\r\n    width: 100%;\r\n\r\n    * {\r\n        z-index: inherit;\r\n    }\r\n}\r\n\r\n.line-number {\r\n    width: 2.5em;\r\n    text-align: right;\r\n}\r\n\r\n.speaker-input, \r\n.speaker {\r\n    width: 6em;\r\n}\r\n\r\n.speaker {\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.inline {\r\n    display: inline;\r\n}\r\n\r\n.text-input {\r\n    width: 100%;\r\n    resize: none;\r\n    outline: none;\r\n}\r\n\r\n.selected {\r\n    background-color: #0000000F;\r\n}\r\n\r\n.text {\r\n    min-height: 2.5em;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Section.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Section.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Section.vue?vue&type=template&id=4550ed76&scoped=true&\"\nimport script from \"./Section.vue?vue&type=script&lang=js&\"\nexport * from \"./Section.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Section.vue?vue&type=style&index=0&id=4550ed76&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4550ed76\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VBtnToggle } from 'vuetify/lib/components/VBtnToggle';\nimport { VExpandXTransition } from 'vuetify/lib/components/transitions';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VBtnToggle,VExpandXTransition,VIcon,VTextarea})\n","<template>\r\n    <div class=\"chunk max-width-64em px-5\">\r\n        <v-container class=\"pa-0 d-flex flex-column\">\r\n            <div class=\"chunk-info px-5 pt-5 pb-0\">\r\n                <!-- 背景预览 -->\r\n                <img\r\n                    class=\"background\"\r\n                    cover\r\n                    width=\"100%\"\r\n                    gradient=\"#ffffffaf 0%, #ffffffaf 50%, #fff 100%\"\r\n                    :src=\"backgroundUrl\"\r\n                />\r\n\r\n                <div class=\"text-right ma-1\" @mouseleave=\"openMenu = false\">\r\n                    <v-slide-x-reverse-transition>\r\n                        <span v-show=\"openMenu\">\r\n                            <v-btn small text color=\"warning\" @click=\"deleteSelf\">\r\n                                <v-icon>mdi-delete</v-icon>删除\r\n                            </v-btn>\r\n                        </span>\r\n                    </v-slide-x-reverse-transition>\r\n\r\n                    <v-app-bar-nav-icon @click=\"openMenu = !openMenu\" />\r\n                </div>\r\n\r\n                <!-- 输入标题 -->\r\n                <v-row align=\"baseline\">\r\n                    <v-col cols=\"2\">标题</v-col>\r\n                    <v-col cols=\"10\">\r\n                        <input class=\"text-h4\" type=\"text\" v-model=\"title\" placeholder=\"此处输入标题\" />\r\n                    </v-col>\r\n                </v-row>\r\n\r\n                <!-- 输入副标题 -->\r\n                <v-row align=\"baseline\">\r\n                    <v-col cols=\"2\">副标题</v-col>\r\n                    <v-col cols=\"10\">\r\n                        <input\r\n                            class=\"text-subtitle-1\"\r\n                            type=\"text\"\r\n                            v-model=\"subtitle\"\r\n                            placeholder=\"此处输入副标题\"\r\n                        />\r\n                    </v-col>\r\n                </v-row>\r\n\r\n                <!-- 选择背景 -->\r\n                <v-row align=\"baseline\">\r\n                    <v-col cols=\"2\">背景</v-col>\r\n                    <v-col cols=\"10\">\r\n                        <ResSelector placeholder=\"选择背景\" v-model=\"background\" />\r\n                    </v-col>\r\n                </v-row>\r\n\r\n                <v-expand-transition>\r\n                    <v-container v-if=\"openExits\" class=\"py-0\">\r\n                        <v-subheader>出口列表</v-subheader>\r\n\r\n                        <v-row v-for=\"(exit, index) of exits\" :key=\"index\">\r\n                            <v-col cols=\"1\">{{ index + 1 }}</v-col>\r\n\r\n                            <v-col cols=\"8\">\r\n                                <v-text-field label=\"选项文本\" dense hide-details v-model=\"exit.text\" />\r\n                            </v-col>\r\n\r\n                            <v-col cols=\"2\">\r\n                                <v-select\r\n                                    label=\"目标\"\r\n                                    dense\r\n                                    hide-details\r\n                                    v-model=\"exit.target\"\r\n                                    :items=\"chunkList\"\r\n                                    item-text=\"title\"\r\n                                    item-value=\"uid\"\r\n                                />\r\n                            </v-col>\r\n\r\n                            <v-col cols=\"1\">\r\n                                <v-btn small color=\"warning\" text @click=\"deleteExit(index)\">删除</v-btn>\r\n                            </v-col>\r\n                        </v-row>\r\n\r\n                        <v-row>\r\n                            <v-btn text class=\"mx-auto\" @click=\"addExit\">新出口</v-btn>\r\n                        </v-row>\r\n                    </v-container>\r\n                </v-expand-transition>\r\n\r\n                <v-btn text bottom block @click=\"openExits = !openExits\">\r\n                    <v-icon>{{ openExits ? 'mdi-chevron-up' : 'mdi-chevron-down' }}</v-icon>\r\n                </v-btn>\r\n            </div>\r\n        </v-container>\r\n\r\n        <v-divider />\r\n\r\n        <!-- 具体段落 -->\r\n        <div class=\"content\">\r\n            <Section\r\n                ref=\"section\"\r\n                v-for=\"(sec, index) of sections\"\r\n                :key=\"index\"\r\n                :index=\"index\"\r\n                :section=\"sec\"\r\n                :is-only=\"sections.length === 1\"\r\n                @add-line=\"addLine\"\r\n                @delete-line=\"deleteLine\"\r\n                @focus=\"focusOnSection\"\r\n                @mutate=\"$emit('mutate')\"\r\n            />\r\n        </div>\r\n        <!-- <v-virtual-scroll \r\n            class=\"content overflow-auto ma-0 px-15 py-2 flex-grow-1\"\r\n            item-height=\"35\"\r\n            :items=\"sections\"\r\n        >\r\n            <template v-slot=\"{ item, index }\">\r\n                <Section\r\n                    ref=\"section\"\r\n                    :index=\"index\"\r\n                    :section=\"item\"\r\n                    :is-only=\"sections.length === 1\"\r\n                    @add-line=\"addLine\"\r\n                    @delete-line=\"deleteLine\"\r\n                    @focus=\"focusOnSection\"\r\n                />\r\n            </template>\r\n        </v-virtual-scroll>-->\r\n\r\n        <v-row class=\"flex-grow-0 pa-2\">\r\n            <v-btn class=\"mx-auto\" ref=\"btnAdd\" color=\"primary\" @click=\"addLine\" elevation=\"0\">\r\n                <v-icon>mdi-plus</v-icon>新小节\r\n            </v-btn>\r\n        </v-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState } from \"vuex\";\r\nimport { mutateWatcher } from \"../utils/vue-util\";\r\nimport ResSelector from \"./ResSelector\";\r\n\r\nimport Section from \"./Section.vue\";\r\n\r\nexport default {\r\n    name: \"Chunk\",\r\n\r\n    components: {\r\n        Section,\r\n        ResSelector,\r\n    },\r\n\r\n    props: {\r\n        id: String,\r\n    },\r\n\r\n    data() {\r\n        const chunk = this.$store.state.data[this.id];\r\n        return {\r\n            title: chunk.title,\r\n            subtitle: chunk.subtitle,\r\n            background: chunk.background,\r\n            // bgm: null,\r\n            sections: chunk.sections,\r\n            exits: chunk.exits,\r\n\r\n            openMenu: false,\r\n            openExits: false,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        ...mutateWatcher(null, \"title\", \"subtitle\", \"background\"),\r\n    },\r\n\r\n    computed: {\r\n        ...mapState([\"data\", \"chunks\"]),\r\n\r\n        chunkList() {\r\n            return this.chunks.map((uid) => this.data[uid]);\r\n        },\r\n\r\n        backgroundUrl() {\r\n            if (this.background) {\r\n                const res = this.data[this.background];\r\n                return res ? res.src : null;\r\n            }\r\n            return null;\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations([\"removeChunk\", \"updateData\"]),\r\n\r\n        addLine(index) {\r\n            if (\r\n                \"number\" !== typeof index ||\r\n                index < 0 ||\r\n                index > this.sections.length\r\n            ) {\r\n                index = this.sections.length;\r\n            }\r\n            const speaker = index ? this.sections[index - 1].speaker : null;\r\n            const section = { speaker, text: \"\" };\r\n            this.sections.splice(index, 0, section);\r\n            this.$emit(\"mutate\");\r\n            this.$nextTick(() => this.focusOnSection(index));\r\n        },\r\n\r\n        deleteLine(index) {\r\n            this.sections.splice(index, 1);\r\n            this.$emit(\"mutate\");\r\n            this.$nextTick(() => this.focusOnSection(index - 1));\r\n        },\r\n\r\n        addExit() {\r\n            this.exits.push({\r\n                text: \"\",\r\n                target: null,\r\n            });\r\n            this.$emit(\"mutate\");\r\n        },\r\n\r\n        deleteExit(index) {\r\n            this.exits.splice(index, 1);\r\n            this.$emit(\"mutate\");\r\n        },\r\n\r\n        deleteSelf() {\r\n            this.removeChunk(this.id);\r\n            this.$emit(\"delete\", this.id);\r\n        },\r\n\r\n        focusOnSection(index) {\r\n            index = Math.max(0, Math.min(index, this.sections.length - 1));\r\n            const list = this.$refs.section;\r\n            if (list.length && index < list.length) {\r\n                // this.$vuetify.goTo(list[index].$el);\r\n                list[index].focus();\r\n            }\r\n        },\r\n\r\n        save() {\r\n            this.updateData({\r\n                id: this.id,\r\n                title: this.title,\r\n                subtitle: this.subtitle,\r\n                background: this.background,\r\n                // bgm: null,\r\n                sections: this.sections,\r\n                exits: this.exits,\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.chunk {\r\n    z-index: 1;\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\n.chunk-info {\r\n    background-color: #ffffff80;\r\n    position: relative;\r\n    overflow: hidden;\r\n    z-index: 2;\r\n\r\n    * {\r\n        z-index: 2;\r\n    }\r\n\r\n    .background {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        z-index: 0;\r\n        filter: opacity(20%);\r\n    }\r\n}\r\n\r\ninput {\r\n    width: 100%;\r\n}\r\n\r\np {\r\n    padding: 0;\r\n    margin: 0;\r\n}\r\n\r\n.fill {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.overflow-auto {\r\n    overflow: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chunk.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chunk.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chunk.vue?vue&type=template&id=66b31754&scoped=true&\"\nimport script from \"./Chunk.vue?vue&type=script&lang=js&\"\nexport * from \"./Chunk.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Chunk.vue?vue&type=style&index=0&id=66b31754&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66b31754\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBarNavIcon } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VExpandTransition } from 'vuetify/lib/components/transitions';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSlideXReverseTransition } from 'vuetify/lib/components/transitions';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAppBarNavIcon,VBtn,VCol,VContainer,VDivider,VExpandTransition,VIcon,VRow,VSelect,VSlideXReverseTransition,VSubheader,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-text-field',{attrs:{\"label\":\"剧本名称\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('v-text-field',{attrs:{\"label\":\"版本\"},model:{value:(_vm.version),callback:function ($$v) {_vm.version=$$v},expression:\"version\"}}),_c('v-combobox',{attrs:{\"chips\":\"\",\"multiple\":\"\",\"deletable-chips\":\"\",\"label\":\"作者\"},model:{value:(_vm.authors),callback:function ($$v) {_vm.authors=$$v},expression:\"authors\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-container>\r\n        <v-text-field\r\n            label=\"剧本名称\"\r\n            v-model=\"name\"\r\n        />\r\n\r\n        <v-text-field\r\n            label=\"版本\"\r\n            v-model=\"version\"\r\n        />\r\n\r\n        <v-combobox\r\n            chips\r\n            multiple\r\n            deletable-chips\r\n            label=\"作者\"\r\n            v-model=\"authors\"\r\n        />\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState } from 'vuex';\r\nimport { mutateWatcher } from '../utils/vue-util.js'\r\n\r\nexport default {\r\n    name: \"BaseInfo\",\r\n\r\n    data() {\r\n        return {\r\n            name: this.$store.state.name,\r\n            version: this.$store.state.version,\r\n            authors: this.$store.state.authors,\r\n        };\r\n    },\r\n\r\n    computed: {\r\n        ...mapState(['id']),\r\n    },\r\n\r\n    watch: {\r\n        ...mutateWatcher(null, 'name', 'version', 'authors'),\r\n\r\n        id() {\r\n            this.update();\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations(['updateBaseInfo']),\r\n\r\n        save() {\r\n            this.updateBaseInfo({\r\n                name: this.name, \r\n                version: this.version,\r\n                authors: this.authors,\r\n            });\r\n        },\r\n\r\n        update() {\r\n            this.name = this.$store.state.name;\r\n            this.version = this.$store.state.version;\r\n            this.authors = this.$store.state.authors;\r\n        },\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseInfo.vue?vue&type=template&id=2e41945b&\"\nimport script from \"./BaseInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCombobox,VContainer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"pa-5\"},[_c('div',{attrs:{\"id\":\"write\"}},[_c('h1',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"江奶奶的galgame编辑器食用指南\"}}),_c('span',[_vm._v(\"江奶奶的Galgame编辑器食用指南\")])]),_c('h2',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"基本概念\"}}),_c('span',[_vm._v(\"基本概念\")])]),_c('p',[_c('span',[_vm._v(\"首先，与该编辑器与播放器（虽然还没完成）的用户有三个身份：开发者、作者、玩家：\")])]),_c('ul',[_c('li',[_c('strong',[_c('span',[_vm._v(\"开发者\")])]),_c('span',[_vm._v(\"：顾名思义，就是开发这个编辑器的人，当前只有江奶奶；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"作者\")])]),_c('span',[_vm._v(\"：编辑剧本的作者，一般用的是编辑器；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"玩家\")])]),_c('span',[_vm._v(\"：当一个作者完成一个剧本之后，游玩剧本的人，用的一般是播放器。\")])])]),_c('p',[_c('span',[_vm._v(\"在本编辑器，工程由三种主要数据构成：资源、角色、文本段。\")])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"资源\"}}),_c('span',[_vm._v(\"资源\")])]),_c('p',[_c('span',[_vm._v(\"这里的资源，指的主要是多媒体资源，如：\")])]),_c('ul',[_c('li',[_c('span',[_vm._v(\"以\")]),_c('code',[_vm._v(\".png\")]),_c('span',[_vm._v(\"或\")]),_c('code',[_vm._v(\".jpg\")]),_c('span',[_vm._v(\"等结尾的图片文件，\")])]),_c('li',[_c('span',[_vm._v(\"以\")]),_c('code',[_vm._v(\".ogg\")]),_c('span',[_vm._v(\"或\")]),_c('code',[_vm._v(\".mp3\")]),_c('span',[_vm._v(\"等结尾的音频文件，\")])]),_c('li',[_c('span',[_vm._v(\"以\")]),_c('code',[_vm._v(\".mp4\")]),_c('span',[_vm._v(\"或\")]),_c('code',[_vm._v(\".wmv\")]),_c('span',[_vm._v(\"等结尾的视频文件。\")])])]),_c('p',[_c('span',[_vm._v(\"该数据包含了三个主要字段：\")])]),_c('ul',[_c('li',[_c('strong',[_c('span',[_vm._v(\"名字\")])]),_c('span',[_vm._v(\"：一个资源的名字，但是这只是用于作者识别的，对于程序来说识别的标识是其ID，这在编译过程中会被舍弃；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"内容\")])]),_c('span',[_vm._v(\"：这一般是作者从本地上传的上述多媒体文件的内容，要注意，如果文件过大，会导致内存占用过多。\")])])]),_c('p',[_c('span',[_vm._v(\"对于已有资源，其名字是可以改变的，其内容也是可以改变的。但是要知道，如果一个资源被删除，而后又新建了一个相同名字的资源的话，哪怕内容是一样的，也会\")]),_c('strong',[_c('span',[_vm._v(\"被认为是不同的资源\")])]),_c('span',[_vm._v(\"！所以删除资源前请三思。\")])]),_c('p',[_c('strong',[_c('span',[_vm._v(\"注意\")])]),_c('span',[_vm._v(\"：\")])]),_c('ol',{attrs:{\"start\":\"\"}},[_c('li',[_c('span',[_vm._v(\"人物立绘请使用\")]),_c('strong',[_c('span',[_vm._v(\"png\")])]),_c('span',[_vm._v(\"格式图片，因为该格式允许角色以外的空白部分呈现透明状态；\")])]),_c('li',[_c('span',[_vm._v(\"暂时\")]),_c('strong',[_c('span',[_vm._v(\"不支持视频\")])]),_c('span',[_vm._v(\"格式的使用，虽然你可以导入，但是这会导致大量的内存消耗，而且并不能用于剧本的编写；\")])]),_c('li',[_c('span',[_vm._v(\"音频也\")]),_c('strong',[_c('span',[_vm._v(\"暂不支持\")])]),_c('span',[_vm._v(\"，因为音频功能虽然计划加入，但是目前还没完成这部分的功能。\")])])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"角色\"}}),_c('span',[_vm._v(\"角色\")])]),_c('p',[_c('span',[_vm._v(\"作为一个Galgame的角色，该数据包含了三个主要字段：\")])]),_c('ul',[_c('li',[_c('strong',[_c('span',[_vm._v(\"名字\")])]),_c('span',[_vm._v(\"：一般来说，一个角色都会有名字，但是并不一定是一个名字对应一个角色（角色的）；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"头像\")])]),_c('span',[_vm._v(\"：这个头像仅仅作为编辑器中方便作者直观地分辨角色的附属功能，会在编译为脚本的时候被舍弃；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"立绘\")])]),_c('span',[_vm._v(\"：不用多说，要注意的是制作的时候，要注意统一画布大小，否则可能会出现大小以及像素的失真情况。\")])])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"文本段\"}}),_c('span',[_vm._v(\"文本段\")])]),_c('p',[_c('span',[_vm._v(\"这是一个江奶奶捏造的概念，如“文本段”这三个字一样，就是指文本段落，是一堆文本的合集。一个文本段相当于一般意义上的章节，包含一段完整或不完整的故事，但是同时又不太一样，因为一个文本段内，只能使用在一张背景。其长短没有指定，可以由几千行，也可以只有寥寥几行。\")])]),_c('p',[_c('span',[_vm._v(\"这个数据结构，有以下几个重要字段：\")])]),_c('ul',[_c('li',[_c('strong',[_c('span',[_vm._v(\"标题\")])]),_c('span',[_vm._v(\"：这是作者识别文本段的内容的标识，这在编译过程中会被舍弃；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"副标题\")])]),_c('span',[_vm._v(\"：目前仅仅是作为标题的注释一般，通常不必在意，这在编译过程中会被舍弃；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"背景\")])]),_c('span',[_vm._v(\"：目前一个文本段只能由一张背景，一图流走到底，相当于\")]),_c('strong',[_c('span',[_vm._v(\"传统\")])]),_c('span',[_vm._v(\"舞台上的一个场景，不到拉幕就不会改变；\")])]),_c('li',[_c('del',[_c('strong',[_c('span',[_vm._v(\"BGM\")])]),_c('span',[_vm._v(\"：背景音乐，没什么好说的，在一整个文本段持续的时间中都会循环播放该音频，该功能尚不完善，请忽略；\")])])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"小节列表\")])]),_c('span',[_vm._v(\"：这是一个小节的有序列表，在玩家游玩的时候每一个小节会依序被显示在屏幕上，关于小节的详情见下文；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"出口列表\")])]),_c('span',[_vm._v(\"：这是一个出口的集合，关于出口的详情见下文；\")])])]),_c('h4',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"小节\"}}),_c('span',[_vm._v(\"小节\")])]),_c('p',[_c('span',[_vm._v(\"一个小节主要由发言者与台词文本组成。发言者是从已有的角色中选择的一个，而台词文本是一段文字。\")])]),_c('p',[_c('span',[_vm._v(\"关于台词文本，一个小节中的台词文本可以有多句组成，每行文本都会被视为一句台词，相当于是这个发言者连续说了多句台词。\")])]),_c('h4',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"出口\"}}),_c('span',[_vm._v(\"出口\")])]),_c('p',[_c('span',[_vm._v(\"在游戏中，若一个文本段被播放完毕，这时候一般是场景的切换，或者玩家的选择，而可供玩家可以选择的选项就被称为这个文本段的出口。一个出口会对应一个文本段，该文本段将会在玩家选择了该出口后开始播放。\")])]),_c('p',[_c('span',[_vm._v(\"每个出口都会有一段文本，用于提供给玩家进行选择，或者说是一种提示，而其会有一个与其相对应的目标，这个目标是从已经存在的文本段中选取的其中一个。\")])]),_c('p',[_c('span',[_vm._v(\"附注：无论是资源、角色、文本段，都是以一个用户看不到的ID号码作为其唯一标识，所以哪怕是名字相同的资源、角色，也是被视为不同的两个或多个对象。\")])]),_c('h2',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"食用步骤\"}}),_c('span',[_vm._v(\"食用步骤\")])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"完善基础信息\"}}),_c('span',[_vm._v(\"完善基础信息\")])]),_c('ol',{attrs:{\"start\":\"\"}},[_c('li',[_c('span',[_vm._v(\"点击左边导航栏的\")]),_c('code',[_vm._v(\"基础信息\")]),_c('span',[_vm._v(\"项目；\")])]),_c('li',[_c('span',[_vm._v(\"按照提示填补完善信息，完成后你会发现编辑面板上方（也就是菜单栏下方）的，该项目标签的文字右侧有一个实心原点，这代表该项目还未保存，此时按下\")]),_c('code',[_vm._v(\"ctrl + S\")]),_c('span',[_vm._v(\"保存当前项目，或者按下\")]),_c('code',[_vm._v(\"ctrl + shift + S\")]),_c('span',[_vm._v(\"保存所有项目，或者在菜单栏的\")]),_c('code',[_vm._v(\"文件\")]),_c('span',[_vm._v(\"下找到相应操作;\")])])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"准备资源\"}}),_c('span',[_vm._v(\"准备资源\")])]),_c('ol',{attrs:{\"start\":\"\"}},[_c('li',[_c('span',[_vm._v(\"点击左边导航栏的\")]),_c('code',[_vm._v(\"资源管理器\")]),_c('span',[_vm._v(\"项目；\")])]),_c('li',[_c('span',[_vm._v(\"准备好图片资源（毕竟现在也只支持图片资源XD），如头像、立绘、背景等；\")])]),_c('li',[_c('span',[_vm._v(\"将它们从电脑的资源管理器中拖入那个写有“拖拽或点击输入文件”且有文件图标的小框中，或者点击文件图标输入文件（推荐后者）；\")])]),_c('li',[_c('span',[_vm._v(\"拖进来后，在面板中会出现刚才拖入的资源，它们会自动根据文件名设置好自己的名字，如果不满意，可以自己修改名字，点击一下名字即可开始编辑，按下\")]),_c('code',[_vm._v(\"Enter\")]),_c('span',[_vm._v(\"键或者点击输入框以外的位置完成编辑；\")])]),_c('li',[_c('span',[_vm._v(\"如果有一些资源不满意，可以点击下方第二个按钮（总之不是那个长的像垃圾桶的就对了），然后重新输入文件（由于作用域的问题，请尽量点击图标正中）；\")])]),_c('li',[_c('span',[_vm._v(\"当你想要删除一些不必要的资源的时候，只要点击下方的垃圾桶图标即可，注意，\")]),_c('strong',[_c('span',[_vm._v(\"这是不可逆的\")])]),_c('span',[_vm._v(\"。\")])])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"创建角色\"}}),_c('span',[_vm._v(\"创建角色\")])]),_c('p',[_c('span',[_vm._v(\"当你设置完一些基础的素材后，便可以开始创建自己游戏中的角色了。\")])]),_c('ol',{attrs:{\"start\":\"\"}},[_c('li',[_c('span',[_vm._v(\"点击左边导航栏的\")]),_c('code',[_vm._v(\"角色\")]),_c('span',[_vm._v(\"项目，展开角色列表；\")])]),_c('li',[_c('span',[_vm._v(\"点击最下边的\")]),_c('code',[_vm._v(\"新建角色\")]),_c('span',[_vm._v(\"按键，而后在右边就会打开这个新建角色的编辑面板（如果没有自动打开的话，就点一下列表中的角色）；\")])]),_c('li',[_c('span',[_vm._v(\"编辑名字，选择头像，选择立绘；\")])]),_c('li',[_c('span',[_vm._v(\"编辑完成后，保存该项目；\")])]),_c('li',[_c('span',[_vm._v(\"若想要删除该角色，只需要按下那个醒目的\")]),_c('code',[_vm._v(\"删除该角色\")]),_c('span',[_vm._v(\"按钮即可，注意，\")]),_c('strong',[_c('span',[_vm._v(\"这是不可逆的\")])]),_c('span',[_vm._v(\"！\")])]),_c('li',[_c('span',[_vm._v(\"想要关闭该项目，仅需在标签栏中关闭该项目的标签即可。\")])])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"编辑文本段\"}}),_c('span',[_vm._v(\"编辑文本段\")])]),_c('p',[_c('span',[_vm._v(\"连角色也创建好后，就可以正式开始写作了（其实之前的不做也没关系，大不了留空XD）。这也是这个编辑过程的重头戏。\")])]),_c('ol',{attrs:{\"start\":\"\"}},[_c('li',[_c('span',[_vm._v(\"点击左边导航栏的\")]),_c('code',[_vm._v(\"文本段\")]),_c('span',[_vm._v(\"项目，展开文本段列表；\")])]),_c('li',[_c('span',[_vm._v(\"点击最下边的\")]),_c('code',[_vm._v(\"新建文本段\")]),_c('span',[_vm._v(\"按键，而后在右边就会打开这个新建文本段的编辑面板；\")])]),_c('li',[_c('span',[_vm._v(\"在编辑界面可以看到标题、副标题、背景的编辑区域，这些在上文已经介绍过了，按照所想编辑即可；\")])]),_c('li',[_c('span',[_vm._v(\"在背景的输入框下面，你还能看到一个“新出口”按键，这个先跳过，这在之后再使用；\")])]),_c('li',[_c('span',[_vm._v(\"点击下方的\")]),_c('code',[_vm._v(\"新小节\")]),_c('span',[_vm._v(\"按键，会在该按键上方多出一行小节面板；\")])]),_c('li',[_c('span',[_vm._v(\"在小节面板的左边是序号，而后是发言者，如果之前有创建角色并保存的话，这里就可以选择需要的角色，选择好后，其头像和名字将会显示出来（如果没有头像，则会用立绘代替头像显示）；\")])]),_c('li',[_c('span',[_vm._v(\"在发言者设置好后，再往右，就是文本框了，这里作者可以输入一行或多行文本，每一行都会被作为单独的台词呈现（游戏中同屏只会出现一句台词）；\")])]),_c('li',[_c('span',[_vm._v(\"如果鼠标位于该小节的编辑面板中的话，就会出现两个按钮：\")]),_c('code',[_vm._v(\"+\")]),_c('span',[_vm._v(\"与\")]),_c('code',[_vm._v(\"-\")]),_c('span',[_vm._v(\"，按下\")]),_c('code',[_vm._v(\"+\")]),_c('span',[_vm._v(\"按键，则可以在该小节\")]),_c('strong',[_c('span',[_vm._v(\"前\")])]),_c('span',[_vm._v(\"插入新的小节，按下\")]),_c('code',[_vm._v(\"-\")]),_c('span',[_vm._v(\"按键则会删除该小节；\")])]),_c('li',[_c('span',[_vm._v(\"而后重复上述操作，知道该文本段编写完毕，然后与编辑角色时候一样保存即可；\")])]),_c('li',[_c('span',[_vm._v(\"现在开始编辑出口，点击\")]),_c('code',[_vm._v(\"新出口\")]),_c('span',[_vm._v(\"按键，会出现一行新的出口面板，从左到右是：序号、文本输入框、目标选择框、删除按键，基本一看就懂，要注意文本框只能输入一行文本，目标选择框可以选择该出口对应的下一个文本段；\")])]),_c('li',[_c('span',[_vm._v(\"若要删除文本段，则点击右上角的三道杠按钮，然后会出现\")]),_c('code',[_vm._v(\"删除\")]),_c('span',[_vm._v(\"按钮，点击该按钮即可删除文本段，注意，\")]),_c('strong',[_c('span',[_vm._v(\"这是不可逆的\")])]),_c('span',[_vm._v(\"！\")])]),_c('li',[_c('span',[_vm._v(\"想要关闭该项目，仅需在标签栏中关闭该项目的标签即可。\")])])]),_c('p',[_c('span',[_vm._v(\"另外，在编辑小节的文本的时候，\")])]),_c('ul',[_c('li',[_c('span',[_vm._v(\"按下\")]),_c('code',[_vm._v(\"ctrl + Enter\")]),_c('span',[_vm._v(\"，则是自动在该小节后插入一个新的小节，并聚焦到这个新的小节上；\")])]),_c('li',[_c('span',[_vm._v(\"按下\")]),_c('code',[_vm._v(\"ctrl + BackSpace\")]),_c('span',[_vm._v(\"且该小节文本都是空的（或者由空字符组成），则该小节将被删除并聚焦到上一个小节（如果存在的话）；\")])]),_c('li',[_c('span',[_vm._v(\"按下\")]),_c('code',[_vm._v(\"ctrl + ArrowUp\")]),_c('span',[_vm._v(\"，则聚焦到上一个小节（如果存在的话）；\")])]),_c('li',[_c('span',[_vm._v(\"按下\")]),_c('code',[_vm._v(\"ctrl + ArrowDown\")]),_c('span',[_vm._v(\"，则聚焦到下一个小节（如果存在的话）。\")])])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"持久化\"}}),_c('span',[_vm._v(\"持久化\")])]),_c('p',[_c('span',[_vm._v(\"编辑过程中有两个概念：工程与脚本：\")])]),_c('ul',[_c('li',[_c('strong',[_c('span',[_vm._v(\"工程\")])]),_c('span',[_vm._v(\"：这是作者写作时候，用编辑器编辑的工程文件，并不能直接游玩；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"脚本\")])]),_c('span',[_vm._v(\"：当一个作者完成一个剧本之后，会将其编译为脚本，而后可以在播放器或者编辑器自带的测试面板中游玩。\")])])]),_c('p',[_c('span',[_vm._v(\"之前的保存操作，其实是将内容缓存到了浏览器自带的一个叫做\")]),_c('code',[_vm._v(\"LocalStorage\")]),_c('span',[_vm._v(\"的地方，如果浏览器清理缓存，或者更换了新的计算机、新的浏览器、新的域名，那么该数据就找不到了。所以为了更好的持久化，还是要将工程下载到能看得到的地方。\")])]),_c('p',[_c('span',[_vm._v(\"所以在菜单栏下点击\")]),_c('code',[_vm._v(\"文件\")]),_c('span',[_vm._v(\"下的\")]),_c('code',[_vm._v(\"下载工程\")]),_c('span',[_vm._v(\"或者\")]),_c('code',[_vm._v(\"下载脚本\")]),_c('span',[_vm._v(\"完成相应操作，要注意，\")]),_c('code',[_vm._v(\"下载脚本\")]),_c('span',[_vm._v(\"按键只有在有已经编译完成的脚本时候才可用。当你下一次想要在别的计算机或者浏览器载入工程的时候，只要有改文件即可载入。\")])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"编译\"}}),_c('span',[_vm._v(\"编译\")])]),_c('p',[_c('span',[_vm._v(\"想要最终得到一个可以游玩的脚本，就需要这个叫做编译的过程。它将一个工程内的数据进行整理、编号、排序、简化、链接，最终得到一份可以游玩的游戏脚本文件。在菜单栏下点击\")]),_c('code',[_vm._v(\"工程\")]),_c('span',[_vm._v(\"下的\")]),_c('code',[_vm._v(\"编译为测试版\")]),_c('span',[_vm._v(\"完成相应操作。编译后的脚本将会缓存在内存中，如果不下载，那么在浏览器关闭，甚至该页面关闭之后，该脚本就会消失，但是这并不可怕，由于工程还在，所以只要重新编译即可。可以在在菜单栏下点击\")]),_c('code',[_vm._v(\"文件\")]),_c('span',[_vm._v(\"下的\")]),_c('code',[_vm._v(\"下载脚本\")]),_c('span',[_vm._v(\"以下载编译好的脚本。\")])]),_c('h2',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"最后\"}}),_c('span',[_vm._v(\"最后\")])]),_c('blockquote',[_c('p',[_c('span',[_vm._v(\"子未曰：“Hava a gada daya!”\")])])])])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Doc.vue?vue&type=template&id=4e698aa6&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"relative fill\"},[_c('img',{staticClass:\"background fill absolute\",attrs:{\"src\":_vm.background}}),_c('audio',{ref:\"bgm\",attrs:{\"src\":_vm.bgm,\"loop\":\"\"}}),_c('img',{staticClass:\"speaker fill absolute\",attrs:{\"src\":_vm.speakerPic}}),_c('div',{staticClass:\"content fill pa-3 d-flex flex-column justify-end\"},[_c('div',{staticClass:\"text oculus mb-3 pa-2\"},[_vm._v(\" \"+_vm._s(_vm.speakerName)+\"：\"+_vm._s(_vm.line)+\" \")]),_c('ul',{staticClass:\"options oculus pa-2\"},[_vm._l((_vm.options),function(option,index){return _c('li',{key:index,staticClass:\"option pa-2\",on:{\"click\":_vm.handleClickOption}},[_vm._v(\" \"+_vm._s(option.text)+\" \")])}),(!_vm.options.length)?_c('li',{staticClass:\"option\",on:{\"click\":_vm.handleClickDefaultOption}},[_vm._v(\"...\")]):_vm._e()],2)]),_c('div',{staticClass:\"debug-panel absolute pa-3\"},[_c('div',{staticClass:\"d-flex justify-center\"},[_c('v-input',{attrs:{\"label\":\"指针：\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.pointer),expression:\"pointer\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\",\"min\":0,\"max\":_vm.script.instructions.length - 1},domProps:{\"value\":(_vm.pointer)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.pointer=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('v-btn',{on:{\"click\":_vm.forceRun}},[_vm._v(\"执行\")])],1),_c('ul',_vm._l((_vm.logger),function(log,index){return _c('li',{key:index},[_vm._v(_vm._s(log))])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"relative fill\">\r\n        <img \r\n            class=\"background fill absolute\"\r\n            :src=\"background\"\r\n        />\r\n\r\n        <audio \r\n            ref=\"bgm\"\r\n            :src=\"bgm\"\r\n            loop\r\n        />\r\n\r\n        <img \r\n            class=\"speaker fill absolute\"\r\n            :src=\"speakerPic\"\r\n        />\r\n\r\n        <div class=\"content fill pa-3 d-flex flex-column justify-end\">\r\n            <div class=\"text oculus mb-3 pa-2\">\r\n                {{ speakerName }}：{{ line }}\r\n            </div>\r\n\r\n            <ul class=\"options oculus pa-2\">\r\n                <li \r\n                    class=\"option pa-2\"\r\n                    v-for=\"(option, index) of options\"\r\n                    :key=\"index\"\r\n                    @click=\"handleClickOption\"\r\n                >\r\n                   {{ option.text }}\r\n                </li> \r\n\r\n                <li \r\n                    v-if=\"!options.length\" \r\n                    class=\"option\"\r\n                    @click=\"handleClickDefaultOption\"\r\n                >...</li>\r\n            </ul>\r\n\r\n        </div>\r\n\r\n        <div class=\"debug-panel absolute pa-3\">\r\n            <div class=\"d-flex justify-center\">\r\n                <v-input\r\n                    label=\"指针：\"\r\n                >\r\n                    <input\r\n                        type=\"number\"\r\n                        :min=\"0\"\r\n                        :max=\"script.instructions.length - 1\"\r\n                        v-model.number=\"pointer\"\r\n                    />\r\n                </v-input>\r\n\r\n                <v-btn @click=\"forceRun\">执行</v-btn>\r\n            </div>\r\n\r\n            <ul>\r\n                <li\r\n                    v-for=\"(log, index) of logger\"\r\n                    :key=\"index\"\r\n                >{{ log }}</li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n    name: 'Demonstration',\r\n\r\n    data() {\r\n        return {\r\n            pointer: 0,\r\n            background: null,\r\n            bgm: null,\r\n            speakerName: '',\r\n            speakerPic: null,\r\n            line: '',\r\n            options: [],\r\n            \r\n            hasSetText: false,\r\n            logger: [],\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        bgm(nv, ov) {\r\n            if (nv !== ov && 'string' === typeof nv && nv.length > 0) {\r\n                this.$refs.bgm.play();\r\n            }\r\n        },\r\n    },\r\n\r\n    computed: {\r\n        ...mapState(['script']),\r\n    },\r\n\r\n    methods: {\r\n        run() {\r\n            while (this.pointer < this.script.instructions.length && this.canStepIn(this.script.instructions[this.pointer])) {\r\n                this.apply(this.script.instructions[this.pointer]);\r\n                this.pointer++;\r\n            }\r\n        },\r\n\r\n        forceRun() {\r\n            this.hasSetText = false;\r\n            this.run();\r\n        },\r\n\r\n        apply(instruction) {\r\n            this.log(instruction.join(' '));\r\n            switch (instruction[0]) {\r\n                case 'bg': \r\n                    this.background = this.script.resources[instruction[1]];\r\n                    break;\r\n                case 'bgm': \r\n                    this.bgm = this.script.resources[instruction[1]];\r\n                    break;\r\n                case 'line': {\r\n                    this.line = instruction[1];\r\n                    const role = this.script.roles[instruction[2]];\r\n                    this.speakerPic = this.script.resources[role.pic];\r\n                    this.speakerName = role.name;\r\n                    this.options = [];\r\n                    this.hasSetText = true;\r\n                } break;\r\n                case 'option': \r\n                    this.options.push({\r\n                        text: instruction[1],\r\n                        target: instruction[2],\r\n                    });\r\n                    break;\r\n            }\r\n        },\r\n\r\n        canStepIn(instruction) {\r\n            switch (instruction[0]) {\r\n                case 'bg': return true;\r\n                case 'bgm': return true;\r\n                case 'line': return !this.hasSetText;\r\n                case 'option': return this.hasSetText;\r\n            }\r\n        },\r\n\r\n        jumpTo(target) {\r\n            this.pointer = target;\r\n        },\r\n\r\n        handleClickOption(optIndex) {\r\n            this.hasSetText = false;\r\n            const option = this.options[optIndex];\r\n            this.jumpTo(option.target);\r\n            this.run();\r\n        },\r\n\r\n        handleClickDefaultOption() {\r\n            this.hasSetText = false;\r\n            this.run();\r\n        },\r\n\r\n        log(msg) {\r\n            if (this.logger.length >= 10) {\r\n                this.logger.shift();\r\n            }\r\n            this.logger.push(msg);\r\n        },\r\n    },\r\n\r\n    created() {\r\n        this.run();\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.relative {\r\n    position: relative;\r\n}\r\n\r\n.fill {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.absolute {\r\n    position: absolute;\r\n}\r\n\r\n.background {\r\n    z-index: 1;\r\n    object-fit: cover;\r\n}\r\n\r\n.absolute * {\r\n    z-index: inherit;\r\n}\r\n\r\n.speaker {\r\n    z-index: 2;\r\n    object-fit: contain;\r\n}\r\n\r\n.content {\r\n    z-index: 5;\r\n}\r\n\r\n.content * {\r\n    z-index: 5;\r\n}\r\n\r\n.oculus {\r\n    background-color: #FFFFFFE0;\r\n}\r\n\r\n.text {\r\n    max-height: 5em;\r\n    min-height: 1em;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n}\r\n\r\n.options {\r\n    height: 35%;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n}\r\n\r\n.option {\r\n    user-select: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.option:hover {\r\n    background-color: #FFFFFF;\r\n}\r\n\r\n.debug-panel {\r\n    top: 0;\r\n    z-index: 10;\r\n    width: 100%;\r\n    max-height: 50%;\r\n    background-color: #FFFFFF80;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demonstration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demonstration.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Demonstration.vue?vue&type=template&id=34243d52&scoped=true&\"\nimport script from \"./Demonstration.vue?vue&type=script&lang=js&\"\nexport * from \"./Demonstration.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Demonstration.vue?vue&type=style&index=0&id=34243d52&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34243d52\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VInput } from 'vuetify/lib/components/VInput';\ninstallComponents(component, {VBtn,VInput})\n","<template>\r\n    <v-app id=\"app\">\r\n        <v-app-bar app color=\"primary\" height=\"32\" clipped-left>\r\n            <v-menu offset-y>\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-btn\r\n                        dark\r\n                        v-bind=\"attrs\"\r\n                        v-on=\"on\"\r\n                        text\r\n                        height=\"32\"\r\n                        tile\r\n                    >文件</v-btn>\r\n                </template>\r\n\r\n                <v-list>\r\n                    <v-list-item dense @click=\"saveTab(tabIndex)\" :disabled=\"!tabs.length\">\r\n                        <v-list-item-title>保存当前项目</v-list-item-title>\r\n                    </v-list-item>\r\n\r\n                    <v-list-item dense @click=\"saveAllTabs\" :disabled=\"!tabs.length\">\r\n                        <v-list-item-title>保存所有项目</v-list-item-title>\r\n                    </v-list-item>\r\n\r\n                    <v-divider/>\r\n\r\n                    <v-list-item dense @click=\"downloadProject\">\r\n                        <v-list-item-title>下载工程</v-list-item-title>\r\n                    </v-list-item>\r\n\r\n                    <v-list-item dense @click=\"downloadScript\" :disabled=\"!script\">\r\n                        <v-list-item-title>下载脚本</v-list-item-title>\r\n                    </v-list-item>\r\n\r\n                    <v-list-item dense @click=\"cacheState\">\r\n                        <v-list-item-title>缓存至浏览器</v-list-item-title>\r\n                    </v-list-item>\r\n\r\n                    <v-divider/>\r\n\r\n                    <v-list-item dense @click=\"loadProjectFromCache\">\r\n                        <v-list-item-title>从浏览器缓存载入工程</v-list-item-title>\r\n                    </v-list-item>\r\n\r\n                    <v-list-item dense>\r\n                        <v-list-item-title class=\"p-relative\">\r\n                            从文件载入工程\r\n                            <input class=\"invisible-overlay\" type=\"file\" @change=\"loadProjectFromFile($event.target.files[0])\"/>\r\n                        </v-list-item-title>\r\n                    </v-list-item>\r\n                </v-list>\r\n            </v-menu>\r\n\r\n            \r\n            <v-menu offset-y>\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-btn\r\n                        dark\r\n                        v-bind=\"attrs\"\r\n                        v-on=\"on\"\r\n                        text\r\n                        height=\"32\"\r\n                        tile\r\n                    >工程</v-btn>\r\n                </template>\r\n\r\n                <v-list>\r\n                    <v-list-item dense @click=\"compile\">\r\n                        <v-list-item-title>编译为测试版</v-list-item-title>\r\n                    </v-list-item>\r\n                    \r\n                    <v-list-item dense @click=\"compile\" disabled>\r\n                        <v-list-item-title>编译为发行版</v-list-item-title>\r\n                    </v-list-item>\r\n                </v-list>\r\n            </v-menu>\r\n            \r\n            <v-menu offset-y>\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-btn\r\n                        dark\r\n                        v-bind=\"attrs\"\r\n                        v-on=\"on\"\r\n                        text\r\n                        height=\"32\"\r\n                        tile\r\n                    >脚本</v-btn>\r\n                </template>\r\n\r\n                <v-list>\r\n                    <v-list-item dense @click=\"open('demo')\" :disabled=\"!script\">\r\n                        <v-list-item-title>开始测试</v-list-item-title>\r\n                    </v-list-item>\r\n                </v-list>\r\n            </v-menu>\r\n            \r\n            <v-menu offset-y>\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-btn\r\n                        dark\r\n                        v-bind=\"attrs\"\r\n                        v-on=\"on\"\r\n                        text\r\n                        height=\"32\"\r\n                        tile\r\n                    >窗口</v-btn>\r\n                </template>\r\n\r\n                <v-list>\r\n                    <v-list-item dense @click=\"showNav = !showNav\">\r\n                        <v-list-item-title>开关导航栏</v-list-item-title>\r\n                    </v-list-item>\r\n                    \r\n                    <v-list-item dense @click=\"closeAll\">\r\n                        <v-list-item-title>关闭所有标签</v-list-item-title>\r\n                    </v-list-item>\r\n                </v-list>\r\n            </v-menu>\r\n            \r\n            <v-menu offset-y>\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-btn\r\n                        dark\r\n                        v-bind=\"attrs\"\r\n                        v-on=\"on\"\r\n                        text\r\n                        height=\"32\"\r\n                        tile\r\n                    >帮助</v-btn>\r\n                </template>\r\n\r\n                <v-list>\r\n                    <v-list-item dense @click=\"open('doc')\">\r\n                        <v-list-item-title>帮助文档</v-list-item-title>\r\n                    </v-list-item>\r\n                </v-list>\r\n            </v-menu>\r\n        </v-app-bar>\r\n\r\n        <!-- 侧边栏或者叫目录 -->\r\n        <v-navigation-drawer app permanent clipped v-if=\"showNav\">\r\n            <v-list>\r\n                <v-list-item @click=\"open('base-info')\">\r\n                        <v-list-item-avatar>\r\n                            <v-icon>mdi-information-outline</v-icon>\r\n                        </v-list-item-avatar>\r\n\r\n                    <v-list-item-title>基础信息</v-list-item-title>\r\n                </v-list-item>\r\n\r\n                <v-list-item @click=\"open('res-manager')\">\r\n                        <v-list-item-avatar>\r\n                            <v-icon>mdi-folder-outline</v-icon>\r\n                        </v-list-item-avatar>\r\n                    \r\n                    <v-list-item-title>资源管理器</v-list-item-title>\r\n                </v-list-item>\r\n\r\n                <v-list-group>\r\n                    <template v-slot:activator>\r\n                        <v-list-item-avatar>\r\n                            <v-icon>mdi-account-outline</v-icon>\r\n                        </v-list-item-avatar>\r\n                        \r\n                        <v-list-item-subtitle>角色</v-list-item-subtitle>\r\n                    </template>\r\n\r\n                    <v-list-item v-for=\"id of roles\" :key=\"id\" @click=\"open('role', id)\">\r\n                        <v-list-item-avatar color=\"grey lighten-2\">\r\n                            <v-img :src=\"data[data[id].avatar]\"/>\r\n                        </v-list-item-avatar>\r\n\r\n                        <v-list-item-title>{{ data[id].name }}</v-list-item-title>\r\n                    </v-list-item>\r\n\r\n                    <v-list-item>\r\n                        <v-btn \r\n                            text \r\n                            class=\"mx-auto\" \r\n                            color=\"primary\"\r\n                            @click=\"createNewRole\"\r\n                        >新建角色</v-btn>\r\n                    </v-list-item>\r\n                </v-list-group>\r\n\r\n                <v-list-group>\r\n                    <template v-slot:activator>\r\n                        <v-list-item-avatar>\r\n                            <v-icon>mdi-text</v-icon>\r\n                        </v-list-item-avatar>\r\n\r\n                        <v-list-item-subtitle>台词段</v-list-item-subtitle>\r\n                    </template>\r\n\r\n                    <v-list-item v-for=\"id of chunks\" :key=\"id\" @click=\"open('chunk', id)\">\r\n                        <v-list-item-title>{{ data[id].title }}</v-list-item-title>\r\n                    </v-list-item>\r\n\r\n                    <v-list-item>\r\n                        <v-btn \r\n                            text \r\n                            class=\"mx-auto\" \r\n                            color=\"primary\"\r\n                            @click=\"createNewChunk\"\r\n                        >新建文本段</v-btn>\r\n                    </v-list-item>\r\n                </v-list-group>\r\n            </v-list>\r\n        </v-navigation-drawer>\r\n\r\n        <v-main class=\"fill-y\">\r\n            <!-- 正文 -->\r\n            <div class=\"fill-y flex-grow-1 d-flex flex-column\">\r\n                <v-tabs class=\"flex-grow-0\" v-model=\"tabIndex\" height=\"2em\">\r\n                    <v-tab \r\n                        v-for=\"(tab, index) of tabs\" \r\n                        :key=\"tab.id\" \r\n                        size=\"small\"\r\n                    >\r\n                        <v-icon small>{{ tab.icon }}</v-icon>\r\n\r\n                        <span class=\"mx-1\">{{ tab.title }}</span>\r\n\r\n                        <v-btn x-small icon @click=\"close(index)\">\r\n                            <v-icon x-small>{{ tab.dirty ? 'mdi-circle' : 'mdi-close' }}</v-icon>\r\n                        </v-btn>\r\n                    </v-tab>\r\n                </v-tabs>\r\n\r\n                <v-divider />\r\n\r\n                <v-tabs-items \r\n                    class=\"fill-y inner-fill-y overflow-hidden inner-overflow-auto grey lighten-4 flex-grow-1\" \r\n                    v-model=\"tabIndex\"\r\n                    active-class=\"\"\r\n                >\r\n                    <v-tab-item \r\n                        v-for=\"(tab, index) of tabs\" \r\n                        :key=\"tab.id\"\r\n                        class=\"fill-y grey lighten-4\"\r\n                    >\r\n                        <component \r\n                            class=\"edit-area\"\r\n                            :is=\"tab.component\" \r\n                            :id=\"tab.id\" \r\n                            @mutate=\"markDirty(tab)\"\r\n                            @delete=\"close(index)\"\r\n                            ref=\"tabs\"\r\n                        />\r\n                    </v-tab-item>\r\n                </v-tabs-items>\r\n            </div>\r\n        </v-main>\r\n    </v-app>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState } from \"vuex\";\r\nimport ResourceManager from \"./views/ResourceManager\";\r\nimport Role from \"./components/Role.vue\";\r\nimport Chunk from \"./components/Chunk.vue\";\r\nimport BaseInfo from \"./components/BaseInfo.vue\";\r\nimport Doc from \"./components/Doc.vue\";\r\nimport Demonstration from './views/Demonstration.vue';\r\n\r\nconst TAB_TYPES = {\r\n    \"base-info\"() {\r\n        return {\r\n            type: \"base-info\",\r\n            id: \"base-info\",\r\n            icon: 'mdi-information-outline',\r\n            title: '基础信息',\r\n            component: 'BaseInfo',\r\n            dirty: false,\r\n        };\r\n    },\r\n    \"res-manager\"() {\r\n        return {\r\n            type: \"res-manager\",\r\n            id: \"res-manager\",\r\n            icon: 'mdi-folder-outline',\r\n            title: '资源管理器',\r\n            component: 'ResourceManager',\r\n            dirty: false,\r\n        };\r\n    },\r\n    \"doc\"() {\r\n        return {\r\n            type: \"doc\",\r\n            id: \"doc\",\r\n            icon: 'mdi-document',\r\n            title: '帮助文档',\r\n            component: 'Doc',\r\n            dirty: false,\r\n        };\r\n    },\r\n    \"demo\"() {\r\n        return {\r\n            type: \"demo\",\r\n            id: \"demo\",\r\n            icon: 'mdi-play',\r\n            title: '演示',\r\n            component: 'Demonstration',\r\n            dirty: false,\r\n        };\r\n    },\r\n    \"role\"(id, data) {\r\n        return {\r\n            type: \"role\",\r\n            id: id,\r\n            icon: 'mdi-account-outline',\r\n            title: data[id] ? data[id].name : '未知角色',\r\n            component: 'Role',\r\n            dirty: false,\r\n        };\r\n    },\r\n    \"chunk\"(id, data) {\r\n        return {\r\n            type: \"chunk\",\r\n            id: id,\r\n            icon: 'mdi-text',\r\n            title: data[id] ? data[id].title : '未知文本段',\r\n            component: 'Chunk',\r\n            dirty: false,\r\n        };\r\n    },\r\n};\r\n\r\nexport default {\r\n    name: \"App\",\r\n\r\n    components: {\r\n        ResourceManager,\r\n        Role,\r\n        Chunk,\r\n        BaseInfo,\r\n        Doc,\r\n        Demonstration,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            tabIndex: null,\r\n            tabs: [],\r\n            showNav: true,\r\n            Demonstration,\r\n        };\r\n    },\r\n\r\n    computed: {\r\n        ...mapState([\"resources\", \"roles\", \"chunks\", \"data\", 'script']),\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations(['updateData', 'cacheState', 'createRole', 'createChunk',\r\n            'downloadProject', 'downloadScript', 'compile', 'loadProjectFromFile', 'loadProjectFromCache']),\r\n\r\n        createNewRole() {\r\n            this.createRole({cb: role => this.open('role', role.id)});\r\n        },\r\n\r\n        createNewChunk() {\r\n            this.createChunk({cb: role => this.open('chunk', role.id)});\r\n        },\r\n\r\n        open(type, id) {\r\n            const tab = TAB_TYPES[type] ? TAB_TYPES[type](id, this.data) : null;\r\n            if (tab) {\r\n                const index = this.tabs.findIndex(t => t.id === tab.id);\r\n                if (index >= 0) {\r\n                    this.tabIndex = index;\r\n                } else {\r\n                    this.tabs.push(tab);\r\n                    this.tabIndex = this.tabs.length - 1;\r\n                }\r\n            }\r\n        },\r\n\r\n        close(index) {\r\n            const tab = this.tabs[index];\r\n            if (tab) {\r\n                if (!tab.dirty || confirm(`${tab.title}还未保存，确定关闭？`)) {\r\n                    this.tabs.splice(index, 1);\r\n                }\r\n            }\r\n        },\r\n\r\n        closeAll() {\r\n            let prev = -1;\r\n            while (this.tabs.length && this.tabs.length !== prev) {\r\n                prev = this.tabs.length;\r\n                this.close(0);\r\n            }\r\n        },\r\n\r\n        saveTab(tab, index) {\r\n            if (tab) {\r\n                const el = this.$refs.tabs[index];\r\n                if (el) {\r\n                    el.save();\r\n                }\r\n                tab.dirty = false;\r\n                this.cacheState();\r\n            }\r\n        },\r\n\r\n        saveAllTabs() {\r\n            this.tabs.forEach((t, i) => this.saveTab(t, i));\r\n            this.cacheState();\r\n        },\r\n\r\n        markDirty(tab) {\r\n            tab.dirty = true;\r\n        },\r\n    },\r\n\r\n    created() {\r\n        window.addEventListener(\"keydown\", (event) => {\r\n            if ((event.key === 'S' || event.key ==='s') && event.ctrlKey) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                if (event.shiftKey) {\r\n                    this.tabs.forEach((tab, index) => this.saveTab(tab, index));\r\n                } else {\r\n                    this.saveTab(this.tabs[this.tabIndex], this.tabIndex);\r\n                }\r\n                this.$forceUpdate();\r\n            }\r\n        });\r\n        this.open('base-info');\r\n    },\r\n};\r\n</script>\r\n\r\n<style>\r\nhtml,\r\nbody,\r\n#app {\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: auto;\r\n}\r\n\r\n.width-fit {\r\n    width: fit-content;\r\n}\r\n\r\n.fill-y,\r\n.inner-fill-y > * {\r\n    height: 100%;\r\n}\r\n\r\ninput[type=\"text\"] {\r\n    padding: 5px;\r\n}\r\n\r\n.edit-area {\r\n    width: 100%;\r\n    margin: 0 auto;\r\n}\r\n\r\n.p-relative {\r\n    position: relative;\r\n}\r\n\r\n.invisible-overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    opacity: 0;\r\n    cursor: pointer;\r\n}\r\n\r\n.overflow-hidden {\r\n    overflow: hidden;\r\n}\r\n\r\n.overflow-auto,\r\n.inner-overflow-auto > * {\r\n    overflow: auto;\r\n}\r\n\r\n.max-width-64em {\r\n    max-width: 64em;\r\n}\r\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=99aa2950&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VApp,VAppBar,VBtn,VDivider,VIcon,VImg,VList,VListGroup,VListItem,VListItemAvatar,VListItemSubtitle,VListItemTitle,VMain,VMenu,VNavigationDrawer,VTab,VTabItem,VTabs,VTabsItems})\n","import Vue from 'vue';\r\nimport Vuetify from 'vuetify/lib';\r\n\r\nVue.use(Vuetify);\r\n\r\nexport default new Vuetify({\r\n});\r\n","import download from 'downloadjs'\r\n\r\nconst LS_KEY = 'pl-editor-project';\r\n\r\n// 编译剧本\r\nfunction compile(state) {\r\n    const mapping = {};\r\n\r\n    const resources = state.resources.map(uid => state.data[uid].src);\r\n    state.resources.forEach((uid, index) => mapping[uid] = index);\r\n\r\n    const roles = state.roles.map(uid => {\r\n        const role = state.data[uid]\r\n        return {\r\n            name: role.name,\r\n            avatar: mapping[role.avatar],\r\n            pic: mapping[role.pic],\r\n        };\r\n    });\r\n    state.roles.forEach((uid, index) => mapping[uid] = index);\r\n\r\n\r\n    const instructions = [];\r\n    state.chunks.forEach(uid => {\r\n        const chunk = state.data[uid];\r\n        mapping[uid] = instructions.length;\r\n        instructions.push(\r\n            ['bg', mapping[chunk.background]],\r\n            // ['bgm', mapping[chunk.bgm]],\r\n            ...chunk.sections.reduce((p, s) => \r\n                (p.push(...s.text\r\n                    .split('\\n')\r\n                    .filter(l => !/^\\s*$/.test(l))\r\n                    .map(l => ['line', l, mapping[s.speaker]])), p), \r\n                []),\r\n            ...chunk.exits.map(e => ['exit', e.text, mapping[e.target]]),\r\n        );\r\n    });\r\n\r\n    instructions.forEach(ins => {\r\n        if (ins[0] === 'exit') {\r\n            ins[2] = mapping[ins[2]];\r\n        }\r\n    });\r\n\r\n    const script = {\r\n        name: state.name,\r\n        version: state.verion,\r\n        authors: state.authors,\r\n        instructions,\r\n        resources,\r\n        roles,\r\n    };\r\n\r\n    state.script = script;\r\n}\r\n\r\n// 缓存工程\r\nfunction cacheState(state) {\r\n    localStorage.setItem(LS_KEY, JSON.stringify(state));\r\n}\r\n\r\n// 下载工程\r\nfunction downloadProject(state) {\r\n    const data = {\r\n        name: state.name,\r\n        version: state.version,\r\n        authors: state.authors,\r\n        resources: state.resources,\r\n        roles: state.roles,\r\n        chunks: state.chunks,\r\n        data: state.data,\r\n    };\r\n    download(JSON.stringify(data), data.name + '.egg.proj.json', 'application/json');\r\n}\r\n\r\n// 从本地文件缓存读取工程\r\nfunction loadProjectFromCache(state) {\r\n    const json = localStorage.getItem(LS_KEY);\r\n    if (json) {\r\n        Object.assign(state, JSON.parse(json));\r\n    }\r\n}\r\n\r\n// 从浏览器缓存读取工程\r\nfunction loadProjectFromFile(state, file) {\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n        Object.assign(state, JSON.parse(reader.result));\r\n    }\r\n    reader.readAsText(file);\r\n}\r\n\r\n// 下载剧本\r\nfunction downloadScript(state) {\r\n    const script = state.script;\r\n    if (script) {\r\n        download(JSON.stringify(script), (script.name || '未命名') + '.egg.json', 'application/json');\r\n    }\r\n}\r\n\r\nexport {\r\n    compile,\r\n    cacheState,\r\n    downloadProject,\r\n    downloadScript,\r\n    loadProjectFromFile,\r\n    loadProjectFromCache,\r\n}","\r\nimport { v4 as genId } from 'uuid'\r\n\r\nfunction create(state, catalog, data, cb) {\r\n    const newData = { id: genId(), ...data };\r\n    state.data[newData.id] = newData;\r\n    state[catalog].push(newData.id);\r\n    if (cb) {\r\n        cb(newData);\r\n    }\r\n}\r\n\r\n// 增加资源\r\nfunction createResource(state, {\r\n    name = '未命名资源',\r\n    src = null,\r\n    type = 'image/*',\r\n    cb,\r\n} = {}) {\r\n    create(state, 'resources', { name, src, type }, cb);\r\n}\r\n\r\n// 增加角色\r\nfunction createRole(state, {\r\n    name = '未命名角色',\r\n    avatar = null,\r\n    pic = null,\r\n    cb,\r\n} = {}) {\r\n    create(state, 'roles', { name, avatar, pic }, cb);\r\n}\r\n\r\n// 增加文本段\r\nfunction createChunk(state, {\r\n    title = '未命名文本段',\r\n    subtitle = '',\r\n    background = null,\r\n    // bgm: null,\r\n    sections = [{ speaker: null, text: '' }],\r\n    exits = [],\r\n    cb,\r\n} = {}) {\r\n    create(state, 'chunks', { title, subtitle, background, sections, exits }, cb);\r\n}\r\n\r\n\r\nfunction remove(state, catalog, id) {\r\n    delete state.data[id];\r\n    const c = state[catalog];\r\n    const index = c.findIndex(e => e === id);\r\n    if (index >= 0) {\r\n        c.splice(index, 1);\r\n    }\r\n}\r\n\r\nfunction removeResource(state, id) {\r\n    remove(state, 'resources', id);\r\n}\r\n\r\nfunction removeRole(state, id) {\r\n    remove(state, 'roles', id);\r\n}\r\n\r\nfunction removeChunk(state, id) {\r\n    remove(state, 'chunks', id);\r\n}\r\n\r\n\r\n// 更新数据\r\nfunction updateData(state, newData) {\r\n  let oldData = state.data[newData.id];\r\n  if (oldData) {\r\n    Object.assign(oldData, newData);\r\n  } else {\r\n    state.data[newData.id] = newData;\r\n  }\r\n}\r\n\r\nexport {\r\n    createResource,\r\n    createRole,\r\n    createChunk,\r\n\r\n    removeResource,\r\n    removeRole,\r\n    removeChunk,\r\n\r\n    updateData,\r\n}","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport { \n    cacheState, \n    compile, \n    downloadProject, \n    downloadScript,\n    loadProjectFromFile,\n    loadProjectFromCache,\n} from './transfer'\nimport { \n    createResource, \n    createRole, \n    createChunk, \n    removeResource, \n    removeRole, \n    removeChunk, \n    updateData, \n} from './data-mutation'\nimport { v4 as genId } from 'uuid';\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n\n    id: genId(),\n\n    name: '未命名', // 剧本的名称\n    \n    version: '1.0.0', // 版本\n\n    authors: [], // 作者\n\n    data: {}, // 所有数据的存储地点\n\n    resources: [], // 资源列表\n\n    roles: [], // 角色列表\n\n    chunks: [], // 台词段\n\n    script: null, // 缓存编译好的剧本\n\n  },\n  mutations: {\n    cacheState,\n    compile,\n    downloadProject,\n    downloadScript,\n    loadProjectFromFile,\n    loadProjectFromCache,\n\n\n    createResource,\n    createRole,\n    createChunk,\n\n    removeResource,\n    removeRole,\n    removeChunk,\n\n    updateData,\n\n    updateBaseInfo(state, { name, version, authors }) {\n      state.name = name || state.name;\n      state.version = version || state.version;\n      state.authors = authors || state.authors;\n    },\n\n  },\n  actions: {\n  },\n})\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\n// import router from './router'\r\nimport vuetify from './plugins/vuetify';\r\nimport store from './store'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  // router,\r\n  vuetify,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demonstration.vue?vue&type=style&index=0&id=34243d52&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demonstration.vue?vue&type=style&index=0&id=34243d52&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chunk.vue?vue&type=style&index=0&id=66b31754&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chunk.vue?vue&type=style&index=0&id=66b31754&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceManager.vue?vue&type=style&index=0&id=3dab9a01&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceManager.vue?vue&type=style&index=0&id=3dab9a01&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleSelector.vue?vue&type=style&index=0&id=6dc2f815&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleSelector.vue?vue&type=style&index=0&id=6dc2f815&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resource.vue?vue&type=style&index=0&id=df95f3c8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resource.vue?vue&type=style&index=0&id=df95f3c8&scoped=true&lang=css&\""],"sourceRoot":""}