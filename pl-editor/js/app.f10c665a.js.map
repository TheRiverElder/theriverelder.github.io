{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?0f16","webpack:///./src/components/panels/Chunk.vue?faa4","webpack:///./src/components/RoleSelector.vue?f8d1","webpack:///./src/components/panels/Demonstration.vue?5838","webpack:///./src/App.vue?8208","webpack:///./src/components/MenuBar.vue?6964","webpack:///src/components/MenuBar.vue","webpack:///./src/components/MenuBar.vue?0e28","webpack:///./src/components/MenuBar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?3359","webpack:///./src/App.vue?2667","webpack:///./src/plugins/vuetify.js","webpack:///./src/store/message.js","webpack:///./src/store/data-mutation.js","webpack:///./src/store/persist.js","webpack:///./src/store/transfer.js","webpack:///./src/components/panels/BaseInfo.vue?1756","webpack:///./src/utils/vue-util.js","webpack:///src/components/panels/BaseInfo.vue","webpack:///./src/components/panels/BaseInfo.vue?e6f5","webpack:///./src/components/panels/BaseInfo.vue","webpack:///./src/components/panels/Chunk.vue?e6b7","webpack:///./src/components/ResSelector.vue?34cd","webpack:///src/components/ResSelector.vue","webpack:///./src/components/ResSelector.vue?94af","webpack:///./src/components/ResSelector.vue","webpack:///./src/components/Section.vue?f101","webpack:///./src/components/RoleSelector.vue?f441","webpack:///./src/components/RAvatar.vue?6f03","webpack:///src/components/RAvatar.vue","webpack:///./src/components/RAvatar.vue?dbfc","webpack:///./src/components/RAvatar.vue","webpack:///src/components/RoleSelector.vue","webpack:///./src/components/RoleSelector.vue?1ef8","webpack:///./src/components/RoleSelector.vue","webpack:///src/components/Section.vue","webpack:///./src/components/Section.vue?0855","webpack:///./src/components/Section.vue","webpack:///src/components/panels/Chunk.vue","webpack:///./src/components/panels/Chunk.vue?a1d3","webpack:///./src/components/panels/Chunk.vue","webpack:///./src/components/panels/Demonstration.vue?1d99","webpack:///src/components/panels/Demonstration.vue","webpack:///./src/components/panels/Demonstration.vue?7d0f","webpack:///./src/components/panels/Demonstration.vue?bb12","webpack:///./src/components/panels/Doc.vue?9cbf","webpack:///./src/components/panels/Doc.vue","webpack:///./src/components/panels/ResourceManager.vue?e60c","webpack:///./src/components/Resource.vue?d80e","webpack:///src/components/Resource.vue","webpack:///./src/components/Resource.vue?89c7","webpack:///./src/components/Resource.vue?b71d","webpack:///src/components/panels/ResourceManager.vue","webpack:///./src/components/panels/ResourceManager.vue?9c16","webpack:///./src/components/panels/ResourceManager.vue?1445","webpack:///./src/components/panels/Role.vue?a8db","webpack:///src/components/panels/Role.vue","webpack:///./src/components/panels/Role.vue?a28e","webpack:///./src/components/panels/Role.vue","webpack:///./src/store/panel.js","webpack:///./src/components/dialogs/TextExport.vue?668b","webpack:///src/components/dialogs/TextExport.vue","webpack:///./src/components/dialogs/TextExport.vue?f95a","webpack:///./src/components/dialogs/TextExport.vue","webpack:///./src/components/dialogs/TextImport.vue?170b","webpack:///src/components/dialogs/TextImport.vue","webpack:///./src/components/dialogs/TextImport.vue?bf05","webpack:///./src/components/dialogs/TextImport.vue","webpack:///./src/store/dialog.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/components/Section.vue?183a","webpack:///./src/components/ResSelector.vue?4ec2","webpack:///./src/components/panels/Role.vue?21ab","webpack:///./src/components/panels/ResourceManager.vue?dc72","webpack:///./src/components/Resource.vue?8a37"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","on","$event","open","id","scopedSlots","_u","fn","proxy","_l","avatar","_s","createNewRole","title","createNewChunk","_e","model","callback","$$v","tabIndex","expression","tab","index","icon","closePanel","dirty","panel","component","ref","refInFor","tag","close","messages","_f","lastMessage","time","text","dialog","staticRenderFns","_g","_b","panels","savePanel","saveAllPanels","downloadProject","script","downloadScript","cacheState","loadProjectFromCache","loadProjectFromFile","target","files","openDialog","compile","app","showNav","closeAllPanels","VBtn","VDivider","VList","VListItem","VListItemTitle","VMenu","VApp","VAppBar","VDialog","VFooter","VIcon","VImg","VListGroup","VListItemAvatar","VListItemSubtitle","VMain","VNavigationDrawer","VSpacer","VSubheader","VTab","VTabItem","VTabs","VTabsItems","Vue","use","Vuetify","MAX_MESSAGE_COUNT","appendMessage","state","Date","now","catalog","cb","newData","genId","createResource","src","mine","type","createRole","pic","noPic","createChunk","subtitle","background","sections","speaker","exits","remove","findIndex","e","removeResource","removeRole","removeChunk","updateData","oldData","assign","serialize","JSON","stringify","toObject","lastModified","version","authors","entry","resources","roles","chunks","createEmptyState","fromObject","deserialize","string","parse","message","LS_KEY","env","doMapping","mapping","map","resourceNames","uid","chunkTitles","forEach","role","instructions","chunk","reduce","split","filter","test","ins","verion","localStorage","setItem","download","err","getItem","file","reader","FileReader","onload","readAsText","exportToText","selectedChunks","withName","reduceName","withTitle","quotedTitle","withSubtitle","lines","flat","prevSpeaker","line","join","fileName","importFromText","appendToNewChunk","targetChunk","targetSection","autoDetectSpeaker","primarySpeaker","secondarySpeaker","speakerNames","sec","match","exec","speakerName","trim","$store","mutateWatcher","contentKey","keys","k","newVal","oldVal","$emit","VCombobox","VContainer","VTextField","backgroundUrl","openMenu","directives","rawName","deleteSelf","domProps","composing","exit","$set","chunkList","deleteExit","addExit","openExits","addLine","deleteLine","focusOnSection","label","placeholder","noDataText","disabled","resList","handleInput","resId","VSelect","showBtnBar","focus","handleInputKey","editText","isOnly","changingRole","roleList","roleUid","rolePicUrl","roleName","size","emptyIcon","VAvatar","VBtnToggle","VExpandXTransition","VTextarea","VAppBarNavIcon","VCol","VExpandTransition","VRow","VSlideXReverseTransition","bgm","speakerPic","openDebugPanel","modifiers","pointer","_n","$forceUpdate","forceRun","log","option","handleClickOption","options","handleClickDefaultOption","VToolbar","VToolbarTitle","_m","overlay","handleDrop","inputFiles","res","errors","editName","handleEnter","replaceRes","VCard","VCardActions","VCardTitle","VCardSubtitle","avatarUrl","picUrl","VSwitch","PANEL_TYPES","BaseInfo","ResourceManager","Doc","Demonstration","Role","Chunk","findPanelIndex","confirm","openPanel","el","alreadyExistIndex","prev","save","np","bindEl","doExport","closeDialog","prevText","nextText","doImport","ExportToText","TextImport","Vuex","Store","mutations","updateBaseInfo","setTabIndex","setApp","config","productionTip","toLocaleDateString","toLocaleTimeString","undefined","hour12","vuetify","store","render","h","App","$mount"],"mappings":"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","file":"js/app.f10c665a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/pl-editor/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chunk.vue?vue&type=style&index=0&id=a42ae090&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chunk.vue?vue&type=style&index=0&id=a42ae090&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleSelector.vue?vue&type=style&index=0&id=73d9dee2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleSelector.vue?vue&type=style&index=0&id=73d9dee2&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demonstration.vue?vue&type=style&index=0&id=bc686a24&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demonstration.vue?vue&type=style&index=0&id=bc686a24&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"app\"}},[_c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"height\":\"32\",\"clipped-left\":\"\"}},[_c('MenuBar'),_c('v-spacer'),_c('v-subheader',{staticClass:\"white--text\"},[_vm._v(\"v2.6.1\")])],1),(_vm.showNav)?_c('v-navigation-drawer',{attrs:{\"app\":\"\",\"permanent\":\"\",\"clipped\":\"\"}},[_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){return _vm.open('base-info', 'base-info' + _vm.id)}}},[_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-information-outline\")])],1),_c('v-list-item-title',[_vm._v(\"基础信息\")])],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.open('res-manager', 'res-manager' + _vm.id)}}},[_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-folder-outline\")])],1),_c('v-list-item-title',[_vm._v(\"资源管理器\")])],1),_c('v-list-group',{scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-account-outline\")])],1),_c('v-list-item-subtitle',[_vm._v(\"角色\")])]},proxy:true}],null,false,3000131414)},[_vm._l((_vm.roles),function(id){return _c('v-list-item',{key:id,on:{\"click\":function($event){return _vm.open('role', id)}}},[_c('v-list-item-avatar',{attrs:{\"color\":\"grey lighten-2\"}},[_c('v-img',{attrs:{\"src\":_vm.data[_vm.data[id].avatar]}})],1),_c('v-list-item-title',[_vm._v(_vm._s(_vm.data[id].name))])],1)}),_c('v-list-item',[_c('v-btn',{staticClass:\"mx-auto\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.createNewRole}},[_vm._v(\"新建角色\")])],1)],2),_c('v-list-group',{scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-text\")])],1),_c('v-list-item-subtitle',[_vm._v(\"台词段\")])]},proxy:true}],null,false,2461098671)},[_vm._l((_vm.chunks),function(id){return _c('v-list-item',{key:id,on:{\"click\":function($event){return _vm.open('chunk', id)}}},[_c('v-list-item-title',[_vm._v(_vm._s(_vm.data[id].title))])],1)}),_c('v-list-item',[_c('v-btn',{staticClass:\"mx-auto\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.createNewChunk}},[_vm._v(\"新建文本段\")])],1)],2)],1)],1):_vm._e(),_c('v-main',{staticClass:\"fill-y\"},[_c('div',{staticClass:\"fill-y flex-grow-1 d-flex flex-column\"},[_c('v-tabs',{staticClass:\"flex-grow-0\",attrs:{\"height\":\"2em\"},model:{value:(_vm.tabIndex),callback:function ($$v) {_vm.tabIndex=$$v},expression:\"tabIndex\"}},_vm._l((_vm.panels),function(tab,index){return _c('v-tab',{key:tab.id,attrs:{\"size\":\"small\"}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(tab.icon))]),_c('span',{staticClass:\"mx-1\"},[_vm._v(_vm._s(tab.title))]),_c('v-btn',{attrs:{\"x-small\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.closePanel({index: index})}}},[_c('v-icon',{attrs:{\"x-small\":\"\"}},[_vm._v(_vm._s(tab.dirty ? 'mdi-circle' : 'mdi-close'))])],1)],1)}),1),_c('v-divider'),_c('v-tabs-items',{staticClass:\"fill-y inner-fill-y overflow-hidden inner-overflow-auto grey lighten-4 flex-grow-1\",attrs:{\"active-class\":\"\"},model:{value:(_vm.tabIndex),callback:function ($$v) {_vm.tabIndex=$$v},expression:\"tabIndex\"}},_vm._l((_vm.panels),function(panel,index){return _c('v-tab-item',{key:panel.id,staticClass:\"fill-y grey lighten-4\"},[_c(panel.component,{ref:\"panels\",refInFor:true,tag:\"component\",staticClass:\"edit-area\",attrs:{\"id\":panel.id},on:{\"mutate\":function($event){panel.dirty = true},\"delete\":function($event){return _vm.close(index)}}})],1)}),1)],1)]),_c('v-footer',{staticClass:\"py-0\",attrs:{\"app\":\"\",\"dark\":\"\",\"height\":\"24\"}},[(_vm.messages.length)?_c('span',{staticClass:\"font-weight-light\"},[_vm._v(_vm._s(_vm._f(\"localizeDate\")(_vm.lastMessage.time))+\" ： \"+_vm._s(_vm.lastMessage.text))]):_vm._e()]),_c('v-dialog',{attrs:{\"value\":_vm.dialog}},[(_vm.dialog)?_c(_vm.dialog.component,{tag:\"component\"}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"dark\":\"\",\"text\":\"\",\"height\":\"32\",\"tile\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"文件\")])]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\",\"disabled\":!_vm.panels.length},on:{\"click\":_vm.savePanel}},[_c('v-list-item-title',[_vm._v(\"保存当前项目\")])],1),_c('v-list-item',{attrs:{\"dense\":\"\",\"disabled\":!_vm.panels.length},on:{\"click\":_vm.saveAllPanels}},[_c('v-list-item-title',[_vm._v(\"保存所有项目\")])],1),_c('v-divider'),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.downloadProject}},[_c('v-list-item-title',[_vm._v(\"下载工程\")])],1),_c('v-list-item',{attrs:{\"dense\":\"\",\"disabled\":!_vm.script},on:{\"click\":_vm.downloadScript}},[_c('v-list-item-title',[_vm._v(\"下载脚本\")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.cacheState}},[_c('v-list-item-title',[_vm._v(\"缓存至浏览器\")])],1),_c('v-divider'),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.loadProjectFromCache}},[_c('v-list-item-title',[_vm._v(\"从浏览器缓存载入工程\")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-title',{staticClass:\"p-relative\"},[_vm._v(\" 从文件载入工程 \"),_c('input',{staticClass:\"invisible-overlay cursor-pointer\",attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.loadProjectFromFile($event.target.files[0])}}})])],1),_c('v-divider'),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.openDialog('export-to-text')}}},[_c('v-list-item-title',[_vm._v(\"导出为纯文本\")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.openDialog('import-from-text')}}},[_c('v-list-item-title',[_vm._v(\"从纯文本导入\")])],1)],1)],1),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"dark\":\"\",\"text\":\"\",\"height\":\"32\",\"tile\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"工程\")])]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.compile('development')}}},[_c('v-list-item-title',[_vm._v(\"编译为测试版\")])],1),_c('v-list-item',{attrs:{\"dense\":\"\",\"disabled\":\"\"},on:{\"click\":function($event){return _vm.compile('production')}}},[_c('v-list-item-title',[_vm._v(\"编译为发行版\")])],1)],1)],1),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"dark\":\"\",\"text\":\"\",\"height\":\"32\",\"tile\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"脚本\")])]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\",\"disabled\":!_vm.script},on:{\"click\":function($event){return _vm.open('demo')}}},[_c('v-list-item-title',[_vm._v(\"开始测试\")])],1)],1)],1),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"dark\":\"\",\"text\":\"\",\"height\":\"32\",\"tile\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"窗口\")])]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){_vm.app.showNav = !_vm.app.showNav}}},[_c('v-list-item-title',[_vm._v(\"开关导航栏\")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.closeAllPanels}},[_c('v-list-item-title',[_vm._v(\"关闭所有标签\")])],1)],1)],1),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"dark\":\"\",\"text\":\"\",\"height\":\"32\",\"tile\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"帮助\")])]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.open('doc')}}},[_c('v-list-item-title',[_vm._v(\"帮助文档\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <v-menu offset-y>\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-btn dark v-bind=\"attrs\" v-on=\"on\" text height=\"32\" tile>文件</v-btn>\r\n            </template>\r\n\r\n            <v-list>\r\n                <v-list-item dense @click=\"savePanel\" :disabled=\"!panels.length\">\r\n                    <v-list-item-title>保存当前项目</v-list-item-title>\r\n                </v-list-item>\r\n\r\n                <v-list-item dense @click=\"saveAllPanels\" :disabled=\"!panels.length\">\r\n                    <v-list-item-title>保存所有项目</v-list-item-title>\r\n                </v-list-item>\r\n\r\n                <v-divider />\r\n\r\n                <v-list-item dense @click=\"downloadProject\">\r\n                    <v-list-item-title>下载工程</v-list-item-title>\r\n                </v-list-item>\r\n\r\n                <v-list-item dense @click=\"downloadScript\" :disabled=\"!script\">\r\n                    <v-list-item-title>下载脚本</v-list-item-title>\r\n                </v-list-item>\r\n\r\n                <v-list-item dense @click=\"cacheState\">\r\n                    <v-list-item-title>缓存至浏览器</v-list-item-title>\r\n                </v-list-item>\r\n\r\n                <v-divider />\r\n\r\n                <v-list-item dense @click=\"loadProjectFromCache\">\r\n                    <v-list-item-title>从浏览器缓存载入工程</v-list-item-title>\r\n                </v-list-item>\r\n\r\n                <v-list-item dense>\r\n                    <v-list-item-title class=\"p-relative\">\r\n                        从文件载入工程\r\n                        <input\r\n                            class=\"invisible-overlay cursor-pointer\"\r\n                            type=\"file\"\r\n                            @change=\"loadProjectFromFile($event.target.files[0])\"\r\n                        />\r\n                    </v-list-item-title>\r\n                </v-list-item>\r\n\r\n                <v-divider />\r\n\r\n                <v-list-item dense @click=\"openDialog('export-to-text')\">\r\n                    <v-list-item-title>导出为纯文本</v-list-item-title>\r\n                </v-list-item>\r\n\r\n                <v-list-item dense @click=\"openDialog('import-from-text')\">\r\n                    <v-list-item-title>从纯文本导入</v-list-item-title>\r\n                </v-list-item>\r\n            </v-list>\r\n        </v-menu>\r\n\r\n        <v-menu offset-y>\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-btn dark v-bind=\"attrs\" v-on=\"on\" text height=\"32\" tile>工程</v-btn>\r\n            </template>\r\n\r\n            <v-list>\r\n                <v-list-item dense @click=\"compile('development')\">\r\n                    <v-list-item-title>编译为测试版</v-list-item-title>\r\n                </v-list-item>\r\n\r\n                <v-list-item dense @click=\"compile('production')\" disabled>\r\n                    <v-list-item-title>编译为发行版</v-list-item-title>\r\n                </v-list-item>\r\n            </v-list>\r\n        </v-menu>\r\n\r\n        <v-menu offset-y>\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-btn dark v-bind=\"attrs\" v-on=\"on\" text height=\"32\" tile>脚本</v-btn>\r\n            </template>\r\n\r\n            <v-list>\r\n                <v-list-item dense @click=\"open('demo')\" :disabled=\"!script\">\r\n                    <v-list-item-title>开始测试</v-list-item-title>\r\n                </v-list-item>\r\n            </v-list>\r\n        </v-menu>\r\n\r\n        <v-menu offset-y>\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-btn dark v-bind=\"attrs\" v-on=\"on\" text height=\"32\" tile>窗口</v-btn>\r\n            </template>\r\n\r\n            <v-list>\r\n                <v-list-item dense @click=\"app.showNav = !app.showNav\">\r\n                    <v-list-item-title>开关导航栏</v-list-item-title>\r\n                </v-list-item>\r\n\r\n                <v-list-item dense @click=\"closeAllPanels\">\r\n                    <v-list-item-title>关闭所有标签</v-list-item-title>\r\n                </v-list-item>\r\n            </v-list>\r\n        </v-menu>\r\n\r\n        <v-menu offset-y>\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-btn dark v-bind=\"attrs\" v-on=\"on\" text height=\"32\" tile>帮助</v-btn>\r\n            </template>\r\n\r\n            <v-list>\r\n                <v-list-item dense @click=\"open('doc')\">\r\n                    <v-list-item-title>帮助文档</v-list-item-title>\r\n                </v-list-item>\r\n            </v-list>\r\n        </v-menu>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState } from \"vuex\";\r\n\r\nexport default {\r\n    name: \"MenuBar\",\r\n\r\n    computed: {\r\n        ...mapState(['id', 'tabIndex', 'panels', 'script', 'app']),\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations([\r\n            \"openPanel\", 'savePanel', 'saveAllPanels', 'closeAllPanels',\r\n            'updateData', 'cacheState',\r\n            'downloadProject', 'downloadScript', 'compile', 'loadProjectFromFile', 'loadProjectFromCache',\r\n            'openDialog']),\r\n\r\n        open(type, id = null) {\r\n            this.openPanel({ type, id });\r\n        },\r\n    },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MenuBar.vue?vue&type=template&id=1804518a&\"\nimport script from \"./MenuBar.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\ninstallComponents(component, {VBtn,VDivider,VList,VListItem,VListItemTitle,VMenu})\n","<template>\r\n    <v-app id=\"app\">\r\n        <v-app-bar app color=\"primary\" height=\"32\" clipped-left>\r\n            <MenuBar />\r\n\r\n            <v-spacer/>\r\n\r\n            <v-subheader class=\"white--text\">v2.6.1</v-subheader>\r\n        </v-app-bar>\r\n\r\n        <!-- 侧边栏或者叫目录 -->\r\n        <v-navigation-drawer app permanent clipped v-if=\"showNav\">\r\n            <v-list>\r\n                <v-list-item @click=\"open('base-info', 'base-info' + id)\">\r\n                        <v-list-item-avatar>\r\n                            <v-icon>mdi-information-outline</v-icon>\r\n                        </v-list-item-avatar>\r\n\r\n                    <v-list-item-title>基础信息</v-list-item-title>\r\n                </v-list-item>\r\n\r\n                <v-list-item @click=\"open('res-manager', 'res-manager' + id)\">\r\n                        <v-list-item-avatar>\r\n                            <v-icon>mdi-folder-outline</v-icon>\r\n                        </v-list-item-avatar>\r\n                    \r\n                    <v-list-item-title>资源管理器</v-list-item-title>\r\n                </v-list-item>\r\n\r\n                <v-list-group>\r\n                    <template v-slot:activator>\r\n                        <v-list-item-avatar>\r\n                            <v-icon>mdi-account-outline</v-icon>\r\n                        </v-list-item-avatar>\r\n                        \r\n                        <v-list-item-subtitle>角色</v-list-item-subtitle>\r\n                    </template>\r\n\r\n                    <v-list-item v-for=\"id of roles\" :key=\"id\" @click=\"open('role', id)\">\r\n                        <v-list-item-avatar color=\"grey lighten-2\">\r\n                            <v-img :src=\"data[data[id].avatar]\"/>\r\n                        </v-list-item-avatar>\r\n\r\n                        <v-list-item-title>{{ data[id].name }}</v-list-item-title>\r\n                    </v-list-item>\r\n\r\n                    <v-list-item>\r\n                        <v-btn \r\n                            text \r\n                            class=\"mx-auto\" \r\n                            color=\"primary\"\r\n                            @click=\"createNewRole\"\r\n                        >新建角色</v-btn>\r\n                    </v-list-item>\r\n                </v-list-group>\r\n\r\n                <v-list-group>\r\n                    <template v-slot:activator>\r\n                        <v-list-item-avatar>\r\n                            <v-icon>mdi-text</v-icon>\r\n                        </v-list-item-avatar>\r\n\r\n                        <v-list-item-subtitle>台词段</v-list-item-subtitle>\r\n                    </template>\r\n\r\n                    <v-list-item v-for=\"id of chunks\" :key=\"id\" @click=\"open('chunk', id)\">\r\n                        <v-list-item-title>{{ data[id].title }}</v-list-item-title>\r\n                    </v-list-item>\r\n\r\n                    <v-list-item>\r\n                        <v-btn \r\n                            text \r\n                            class=\"mx-auto\" \r\n                            color=\"primary\"\r\n                            @click=\"createNewChunk\"\r\n                        >新建文本段</v-btn>\r\n                    </v-list-item>\r\n                </v-list-group>\r\n            </v-list>\r\n        </v-navigation-drawer>\r\n\r\n        <v-main class=\"fill-y\">\r\n            <!-- 正文 -->\r\n            <div class=\"fill-y flex-grow-1 d-flex flex-column\">\r\n                <v-tabs class=\"flex-grow-0\" v-model=\"tabIndex\" height=\"2em\">\r\n                    <v-tab \r\n                        v-for=\"(tab, index) of panels\" \r\n                        :key=\"tab.id\" \r\n                        size=\"small\"\r\n                    >\r\n                        <v-icon small>{{ tab.icon }}</v-icon>\r\n\r\n                        <span class=\"mx-1\">{{ tab.title }}</span>\r\n\r\n                        <v-btn x-small icon @click=\"closePanel({index})\">\r\n                            <v-icon x-small>{{ tab.dirty ? 'mdi-circle' : 'mdi-close' }}</v-icon>\r\n                        </v-btn>\r\n                    </v-tab>\r\n                </v-tabs>\r\n\r\n                <v-divider />\r\n\r\n                <v-tabs-items \r\n                    class=\"fill-y inner-fill-y overflow-hidden inner-overflow-auto grey lighten-4 flex-grow-1\" \r\n                    v-model=\"tabIndex\"\r\n                    active-class=\"\"\r\n                >\r\n                    <v-tab-item \r\n                        v-for=\"(panel, index) of panels\" \r\n                        :key=\"panel.id\"\r\n                        class=\"fill-y grey lighten-4\"\r\n                    >\r\n                        <component \r\n                            class=\"edit-area\"\r\n                            :is=\"panel.component\" \r\n                            :id=\"panel.id\" \r\n                            @mutate=\"panel.dirty = true\"\r\n                            @delete=\"close(index)\"\r\n                            ref=\"panels\"\r\n                        />\r\n                    </v-tab-item>\r\n                </v-tabs-items>\r\n            </div>\r\n        </v-main>\r\n\r\n        <v-footer \r\n            app \r\n            dark \r\n            height=\"24\" \r\n            class=\"py-0\"\r\n        >\r\n            <span \r\n                v-if=\"messages.length\" \r\n                class=\"font-weight-light\"\r\n            >{{ lastMessage.time | localizeDate }} ： {{ lastMessage.text }}</span>\r\n        </v-footer>\r\n\r\n        <v-dialog :value=\"dialog\">\r\n            <component v-if=\"dialog\" :is=\"dialog.component\"/>\r\n        </v-dialog>\r\n    </v-app>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState } from \"vuex\";\r\nimport MenuBar from \"./components/MenuBar\";\r\n\r\n\r\nexport default {\r\n    name: \"App\",\r\n\r\n    components: {\r\n        MenuBar,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            showNav: true,\r\n        };\r\n    },\r\n\r\n    computed: {\r\n        ...mapState(['id', 'panels', \"resources\", \"roles\", \"chunks\", \"data\", 'messages', 'dialog']),\r\n\r\n        tabIndex: {\r\n            get() {\r\n                return this.$store.state.tabIndex;\r\n            },\r\n            set(index) {\r\n                this.setTabIndex(index);\r\n            }\r\n        },\r\n\r\n        lastMessage() {\r\n            return this.messages[this.messages.length - 1];\r\n        },\r\n    },\r\n\r\n    watch: {\r\n        id(val) {\r\n            this.closeAllPanels();\r\n            this.openPanel({\r\n                type: 'base-info', \r\n                id: 'base-info' + val\r\n            });\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations(['openPanel', 'closePanel', 'closeAllPanels', 'setTabIndex', 'setApp',\r\n            'createRole', 'createChunk',\r\n            'savePanel', 'saveAllPanels']),\r\n\r\n        createNewRole() {\r\n            this.createRole({cb: role => this.open('role', role.id)});\r\n        },\r\n\r\n        createNewChunk() {\r\n            this.createChunk({cb: role => this.open('chunk', role.id)});\r\n        },\r\n\r\n        open(type, id) {\r\n            this.openPanel({type, id});\r\n        },\r\n    },\r\n\r\n    created() {\r\n        window.addEventListener(\"keydown\", (event) => {\r\n            if ((event.key === 'S' || event.key ==='s') && event.ctrlKey) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                if (event.shiftKey) {\r\n                    this.saveAllPanels();\r\n                } else {\r\n                    this.savePanel(this.tabIndex);\r\n                }\r\n                this.$forceUpdate();\r\n            }\r\n        });\r\n        this.openPanel({\r\n            type: 'base-info', \r\n            id: 'base-info' + this.id\r\n        });\r\n        this.setApp(this);\r\n    },\r\n};\r\n</script>\r\n\r\n<style>\r\nhtml,\r\nbody,\r\n#app {\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: auto;\r\n}\r\n\r\n.width-fit {\r\n    width: fit-content;\r\n}\r\n\r\n.fill-y,\r\n.inner-fill-y > * {\r\n    height: 100%;\r\n}\r\n\r\ninput[type=\"text\"] {\r\n    padding: 5px;\r\n}\r\n\r\n.edit-area {\r\n    width: 100%;\r\n    margin: 0 auto;\r\n}\r\n\r\n.p-relative {\r\n    position: relative;\r\n}\r\n\r\n.invisible-overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    opacity: 0;\r\n    cursor: pointer;\r\n}\r\n\r\n.overflow-hidden {\r\n    overflow: hidden;\r\n}\r\n\r\n.overflow-auto,\r\n.inner-overflow-auto > * {\r\n    overflow: auto;\r\n}\r\n\r\n.max-width-64em {\r\n    max-width: 64em;\r\n}\r\n\r\n.cursor-pointer {\r\n    cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=0c8d132c&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFooter } from 'vuetify/lib/components/VFooter';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VApp,VAppBar,VBtn,VDialog,VDivider,VFooter,VIcon,VImg,VList,VListGroup,VListItem,VListItemAvatar,VListItemSubtitle,VListItemTitle,VMain,VNavigationDrawer,VSpacer,VSubheader,VTab,VTabItem,VTabs,VTabsItems})\n","import Vue from 'vue';\r\nimport Vuetify from 'vuetify/lib';\r\n\r\nVue.use(Vuetify);\r\n\r\nexport default new Vuetify({\r\n});\r\n","const MAX_MESSAGE_COUNT = 10;\r\n\r\nfunction appendMessage(state, text) {\r\n    state.messages.push({time: Date.now(), text});\r\n    if (state.messages.length > MAX_MESSAGE_COUNT) {\r\n        state.messages.splice(0, state.messages.length - MAX_MESSAGE_COUNT);\r\n    }\r\n}\r\n\r\nexport {\r\n    appendMessage,\r\n}","\r\nimport { v4 as genId } from 'uuid'\r\n\r\nfunction create(state, catalog, data, cb) {\r\n    const newData = { id: genId(), ...data };\r\n    state.data[newData.id] = newData;\r\n    state[catalog].push(newData.id);\r\n    if (cb) {\r\n        cb(newData);\r\n    }\r\n    return newData.id;\r\n}\r\n\r\n// 增加资源\r\nfunction createResource(state, {\r\n    name = '未命名资源',\r\n    src = null,\r\n    mine = 'image/*',\r\n    cb,\r\n} = {}) {\r\n    return create(state, 'resources', { name, src, mine, type: 'resource' }, cb);\r\n}\r\n\r\n// 增加角色\r\nfunction createRole(state, {\r\n    name = '未命名角色',\r\n    avatar = null,\r\n    pic = null,\r\n    noPic = false,\r\n    cb,\r\n} = {}) {\r\n    return create(state, 'roles', { name, avatar, pic, noPic, type: 'role' }, cb);\r\n}\r\n\r\n// 增加文本段\r\nfunction createChunk(state, {\r\n    title = '未命名文本段',\r\n    subtitle = '',\r\n    background = null,\r\n    // bgm: null,\r\n    sections = [{ speaker: null, text: '' }],\r\n    exits = [],\r\n    cb,\r\n} = {}) {\r\n    return create(state, 'chunks', { title, subtitle, background, sections, exits, type: 'chunk' }, cb);\r\n}\r\n\r\n\r\nfunction remove(state, catalog, id) {\r\n    delete state.data[id];\r\n    const c = state[catalog];\r\n    const index = c.findIndex(e => e === id);\r\n    if (index >= 0) {\r\n        c.splice(index, 1);\r\n    }\r\n}\r\n\r\nfunction removeResource(state, id) {\r\n    remove(state, 'resources', id);\r\n}\r\n\r\nfunction removeRole(state, id) {\r\n    remove(state, 'roles', id);\r\n}\r\n\r\nfunction removeChunk(state, id) {\r\n    remove(state, 'chunks', id);\r\n}\r\n\r\n\r\n// 更新数据\r\nfunction updateData(state, newData) {\r\n    newData.id = newData.id || genId();\r\n    let oldData = state.data[newData.id];\r\n    if (oldData) {\r\n        Object.assign(oldData, newData);\r\n    } else {\r\n        state.data[newData.id] = newData;\r\n    }\r\n}\r\n\r\nexport {\r\n    createResource,\r\n    createRole,\r\n    createChunk,\r\n\r\n    removeResource,\r\n    removeRole,\r\n    removeChunk,\r\n\r\n    updateData,\r\n}","\r\nimport { v4 as genId } from 'uuid'\r\n\r\nfunction serialize(state) {\r\n    return JSON.stringify(toObject(state));\r\n}\r\n\r\nfunction toObject(state) {\r\n    return {\r\n        id: state.id,\r\n        lastModified: state.lastModified,\r\n        name: state.name,\r\n        version: state.version,\r\n        authors: state.authors,\r\n        entry: state.entry,\r\n        data: state.data,\r\n        resources: state.resources,\r\n        roles: state.roles,\r\n        chunks: state.chunks,\r\n    };\r\n}\r\n\r\nfunction createEmptyState() {\r\n    return {\r\n        id: genId(),\r\n        lastModified: Date.now(),\r\n        name: '未命名',\r\n        version: '1.0.0',\r\n        authors: [],\r\n        entry: null,\r\n        data: {},\r\n        resources: [],\r\n        roles: [],\r\n        chunks: [],\r\n        script: null,\r\n        tabIndex: -1,\r\n        dialog: null,\r\n    };\r\n}\r\n\r\nfunction fromObject(state, object) {\r\n    Object.assign(state, createEmptyState(), object);\r\n}\r\n\r\nfunction deserialize(state, string) {\r\n    if ('string' !== typeof string) {\r\n        return \"该数据不是合法的JSON字符串\";\r\n    }\r\n    try {\r\n        const object = JSON.parse(string);\r\n        fromObject(state, object);\r\n        return null;\r\n    } catch(e) {\r\n        return e.message;\r\n    }\r\n}\r\n\r\nexport {\r\n    serialize,\r\n    deserialize,\r\n    toObject,\r\n    fromObject,\r\n    createEmptyState,\r\n}","import download from 'downloadjs'\r\nimport { appendMessage } from './message'\r\nimport { createChunk } from './data-mutation'\r\nimport { serialize, deserialize } from './persist'\r\n\r\nconst LS_KEY = 'pl-editor-project';\r\n\r\n// 编译剧本\r\nfunction compile(state, env = 'development') {\r\n    const doMapping = env === 'development';\r\n    const mapping = {};\r\n    const map = doMapping ? {\r\n        resourceNames: state.resources.map(uid => state.data[uid].name),\r\n        chunkTitles: {},\r\n    } : null;\r\n\r\n    const resources = state.resources.map(uid => state.data[uid].src);\r\n    state.resources.forEach((uid, index) => mapping[uid] = index);\r\n\r\n    const roles = state.roles.map(uid => {\r\n        const role = state.data[uid]\r\n        return {\r\n            name: role.name,\r\n            avatar: mapping[role.avatar],\r\n            pic: mapping[role.pic],\r\n        };\r\n    });\r\n    state.roles.forEach((uid, index) => mapping[uid] = index);\r\n\r\n\r\n    const instructions = [];\r\n    state.chunks.forEach(uid => {\r\n        const chunk = state.data[uid];\r\n        mapping[uid] = instructions.length;\r\n        if (doMapping) {\r\n            map.chunkTitles[instructions.length] = chunk.title;\r\n        }\r\n        instructions.push(\r\n            ['bg', mapping[chunk.background]],\r\n            // ['bgm', mapping[chunk.bgm]],\r\n            ...chunk.sections.reduce((p, s) => \r\n                (p.push(...s.text\r\n                    .split('\\n')\r\n                    .filter(l => !/^\\s*$/.test(l))\r\n                    .map(l => ['line', l, mapping[s.speaker]])), p), \r\n                []),\r\n            ...chunk.exits.map(e => ['option', e.text, e.target]),\r\n        );\r\n    });\r\n\r\n    instructions.forEach(ins => {\r\n        if (ins[0] === 'option') {\r\n            ins[2] = mapping[ins[2]];\r\n        }\r\n    });\r\n\r\n    const script = {\r\n        name: state.name,\r\n        version: state.verion,\r\n        authors: state.authors,\r\n        instructions,\r\n        resources,\r\n        roles,\r\n    };\r\n\r\n    if (doMapping) {\r\n        script.map = map;\r\n    }\r\n\r\n    state.script = script;\r\n    appendMessage(state, `剧本编译完成：${state.name}，ID：${state.id}`);\r\n}\r\n\r\n// 缓存工程\r\nfunction cacheState(state) {\r\n    state.lastModified = Date.now();\r\n    localStorage.setItem(LS_KEY, serialize(state));\r\n    appendMessage(state, `缓存完成：${state.name}，ID：${state.id}`);\r\n}\r\n\r\n// 下载工程\r\nfunction downloadProject(state) {\r\n    const string = serialize(state);\r\n    download(string, state.name + '.proj.json', 'application/json');\r\n    appendMessage(state, `开始下载工程【${state.name}】`);\r\n}\r\n\r\n// 从浏览器缓存读取工程\r\nfunction loadProjectFromCache(state) {\r\n    const err = deserialize(state, localStorage.getItem(LS_KEY));\r\n    appendMessage(state, err ? `载入失败：${err}` : `载入【${state.name}】完成`);\r\n}\r\n\r\n// 从本地文件缓存读取工程\r\nfunction loadProjectFromFile(state, file) {\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n        const err = deserialize(state, reader.result);\r\n        appendMessage(state, err ? `载入失败：${err}` : `载入【${state.name}】完成`);\r\n    }\r\n    appendMessage(state, `开始载入【${file.name}】`);\r\n    reader.readAsText(file);\r\n}\r\n\r\n// 下载剧本\r\nfunction downloadScript(state) {\r\n    const script = state.script;\r\n    if (script) {\r\n        download(JSON.stringify(script), (script.name || '未命名') + '.json', 'application/json');\r\n        appendMessage(state, `开始下载脚本`);\r\n    }\r\n}\r\n\r\nfunction exportToText(state, {selectedChunks, withName, reduceName, withTitle, quotedTitle, withSubtitle}) {\r\n    const text = \r\n        selectedChunks\r\n        .map(id => state.data[id])\r\n        .filter(c => !!c)\r\n        .reduce((t, c) => {\r\n            if (withTitle) {\r\n                t.push(quotedTitle ? `【${c.title}】` : c.title);\r\n            }\r\n            if (withSubtitle) {\r\n                t.push(c.subtitle);\r\n            }\r\n            t.push('');\r\n            const lines = c.sections.map(s => \r\n                s.text.split('\\n')\r\n                .filter(l => !/^\\s*$/.test(l))\r\n                .map(l => [s.speaker, l])\r\n            ).flat();\r\n            if (lines.length) {\r\n                if (withName) {\r\n                    let prevSpeaker = null;\r\n                    for (const line of lines) {\r\n                        if (!reduceName || line[0] !== prevSpeaker) {\r\n                            const role = state.data[line[0]];\r\n                            t.push(`${role ? role.name : '无名氏'}: ${line[1]}`);\r\n                        } else {\r\n                            t.push('    ' + line[1]);\r\n                        }\r\n                        prevSpeaker = line[0];\r\n                    }\r\n                } else {\r\n                    t.push(...lines.map(l => l[1]))\r\n                }\r\n                t.push('');\r\n            }\r\n            return t;\r\n        }, [])\r\n        .join('\\n');\r\n    const fileName = state.name + '.txt';\r\n    download(text, fileName, 'text/plain');\r\n    appendMessage(state, '开始导出纯文本：' + fileName);\r\n}\r\n\r\nfunction importFromText(state, {appendToNewChunk, targetChunk, targetSection, autoDetectSpeaker, primarySpeaker, secondarySpeaker, text}) {\r\n    const sections = text.split('\\n').filter(e => !/^\\s*$/.test(e)).map(text => ({speaker: null, text}));\r\n    if (autoDetectSpeaker) {\r\n        const speakerNames = state.roles.map(id => state.data[id]).reduce((p, r) => (p[r.name] = r.id, p), {})\r\n        sections.forEach(sec => {\r\n            const match = /:|：/.exec(sec.text);\r\n            if (match && match.index > 0) {\r\n                const speakerName = sec.text.slice(0, match.index).trim();\r\n                sec.text = sec.text.slice(match.index + 1).trim;\r\n                sec.speaker = speakerNames[speakerName] || null;\r\n            }\r\n        });\r\n    } else {\r\n        sections.forEach((sec, i) => sec.speaker = i % 2 ? secondarySpeaker : primarySpeaker);\r\n    }\r\n    const chunk = appendToNewChunk ? {sections} : state.data[targetChunk];\r\n    if (chunk) {\r\n        targetSection = targetSection || chunk.sections.length;\r\n        chunk.sections.splice(targetSection, 0, ...sections);\r\n    }\r\n    if (appendToNewChunk) {\r\n        createChunk(state, {...chunk, cb: c => appendMessage(state, `导入${sections.length}行纯文本到：【${c.title}】`)});\r\n    }\r\n}\r\n\r\nexport {\r\n    compile,\r\n    cacheState,\r\n    downloadProject,\r\n    downloadScript,\r\n    loadProjectFromFile,\r\n    loadProjectFromCache,\r\n    exportToText,\r\n    importFromText,\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('h3',[_vm._v(\"基础信息\")]),_c('v-subheader',[_vm._v(\"剧本ID：\"+_vm._s(_vm.$store.state.id))]),_c('v-subheader',[_vm._v(\"最后修改时间：\"+_vm._s(_vm._f(\"localizeDate\")(_vm.lastModified)))]),_c('v-text-field',{attrs:{\"label\":\"剧本名称\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('v-text-field',{attrs:{\"label\":\"版本\"},model:{value:(_vm.version),callback:function ($$v) {_vm.version=$$v},expression:\"version\"}}),_c('v-combobox',{attrs:{\"chips\":\"\",\"multiple\":\"\",\"deletable-chips\":\"\",\"label\":\"作者\"},model:{value:(_vm.authors),callback:function ($$v) {_vm.authors=$$v},expression:\"authors\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function mutateWatcher(contentKey, ...keys) {\r\n    return keys.reduce((p, k) => (p[k] = function(newVal, oldVal) {\r\n        if (contentKey) {\r\n            this[contentKey][k] = newVal;\r\n        }\r\n        if (newVal !== oldVal) {\r\n            this.$emit('mutate');\r\n        }\r\n    }, p), {});\r\n}\r\n\r\nexport {\r\n    mutateWatcher,\r\n}","<template>\r\n    <v-container>\r\n        <h3>基础信息</h3>\r\n\r\n        <v-subheader>剧本ID：{{ $store.state.id }}</v-subheader>\r\n\r\n        <v-subheader>最后修改时间：{{ lastModified | localizeDate }}</v-subheader>\r\n\r\n        <v-text-field\r\n            label=\"剧本名称\"\r\n            v-model=\"name\"\r\n        />\r\n\r\n        <v-text-field\r\n            label=\"版本\"\r\n            v-model=\"version\"\r\n        />\r\n\r\n        <v-combobox\r\n            chips\r\n            multiple\r\n            deletable-chips\r\n            label=\"作者\"\r\n            v-model=\"authors\"\r\n        />\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState } from 'vuex';\r\nimport { mutateWatcher } from '../../utils/vue-util.js'\r\n\r\nexport default {\r\n    name: \"BaseInfo\",\r\n\r\n    props: {\r\n        id: String,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            name: this.$store.state.name,\r\n            version: this.$store.state.version,\r\n            authors: this.$store.state.authors,\r\n            entry: this.$store.state.entry,\r\n        };\r\n    },\r\n\r\n    computed: {\r\n        ...mapState(['lastModified']),\r\n    },\r\n\r\n    watch: {\r\n        ...mutateWatcher(null, 'name', 'version', 'authors', 'entry'),\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations(['updateBaseInfo']),\r\n\r\n        save() {\r\n            this.updateBaseInfo({\r\n                name: this.name, \r\n                version: this.version,\r\n                authors: this.authors,\r\n                entry: this.entry,\r\n            });\r\n        },\r\n\r\n        update() {\r\n            this.name = this.$store.state.name;\r\n            this.version = this.$store.state.version;\r\n            this.authors = this.$store.state.authors;\r\n            this.entry = this.$store.state.entry;\r\n        },\r\n    },\r\n\r\n    created() {\r\n        this.$store.commit('bindEl', { id: this.id, el: this });\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseInfo.vue?vue&type=template&id=5865ead2&\"\nimport script from \"./BaseInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCombobox,VContainer,VSubheader,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"chunk\",staticClass:\"chunk max-width-64em px-5\"},[_c('v-container',{staticClass:\"pa-0 d-flex flex-column\"},[_c('div',{staticClass:\"chunk-info px-5 pt-5 pb-0\"},[_c('img',{staticClass:\"background\",attrs:{\"cover\":\"\",\"width\":\"100%\",\"gradient\":\"#ffffffaf 0%, #ffffffaf 50%, #fff 100%\",\"src\":_vm.backgroundUrl}}),_c('div',{staticClass:\"text-right ma-1\",on:{\"mouseleave\":function($event){_vm.openMenu = false}}},[_c('v-slide-x-reverse-transition',[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openMenu),expression:\"openMenu\"}]},[_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\",\"color\":\"warning\"},on:{\"click\":_vm.deleteSelf}},[_c('v-icon',[_vm._v(\"mdi-delete\")]),_vm._v(\"删除 \")],1)],1)]),_c('v-app-bar-nav-icon',{on:{\"click\":function($event){_vm.openMenu = !_vm.openMenu}}})],1),_c('v-row',{attrs:{\"align\":\"baseline\"}},[_c('v-col',{attrs:{\"cols\":\"2\"}},[_vm._v(\"标题\")]),_c('v-col',{attrs:{\"cols\":\"10\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"text-h4\",attrs:{\"type\":\"text\",\"placeholder\":\"此处输入标题\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}})])],1),_c('v-row',{attrs:{\"align\":\"baseline\"}},[_c('v-col',{attrs:{\"cols\":\"2\"}},[_vm._v(\"副标题\")]),_c('v-col',{attrs:{\"cols\":\"10\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.subtitle),expression:\"subtitle\"}],staticClass:\"text-subtitle-1\",attrs:{\"type\":\"text\",\"placeholder\":\"此处输入副标题\"},domProps:{\"value\":(_vm.subtitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.subtitle=$event.target.value}}})])],1),_c('v-row',{attrs:{\"align\":\"baseline\"}},[_c('v-col',{attrs:{\"cols\":\"2\"}},[_vm._v(\"背景\")]),_c('v-col',{attrs:{\"cols\":\"10\"}},[_c('ResSelector',{attrs:{\"placeholder\":\"选择背景\"},model:{value:(_vm.background),callback:function ($$v) {_vm.background=$$v},expression:\"background\"}})],1)],1),_c('v-expand-transition',[(_vm.openExits)?_c('v-container',{staticClass:\"py-0\"},[_c('v-subheader',[_vm._v(\"出口列表\")]),_vm._l((_vm.exits),function(exit,index){return _c('v-row',{key:index},[_c('v-col',{attrs:{\"cols\":\"1\"}},[_vm._v(_vm._s(index + 1))]),_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('v-text-field',{attrs:{\"label\":\"选项文本\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(exit.text),callback:function ($$v) {_vm.$set(exit, \"text\", $$v)},expression:\"exit.text\"}})],1),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-select',{attrs:{\"label\":\"目标\",\"dense\":\"\",\"hide-details\":\"\",\"items\":_vm.chunkList,\"item-text\":\"title\",\"item-value\":\"id\"},model:{value:(exit.target),callback:function ($$v) {_vm.$set(exit, \"target\", $$v)},expression:\"exit.target\"}})],1),_c('v-col',{attrs:{\"cols\":\"1\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"warning\",\"text\":\"\"},on:{\"click\":function($event){return _vm.deleteExit(index)}}},[_vm._v(\"删除\")])],1)],1)}),_c('v-row',[_c('v-btn',{staticClass:\"mx-auto\",attrs:{\"text\":\"\"},on:{\"click\":_vm.addExit}},[_vm._v(\"新出口\")])],1)],2):_vm._e()],1),_c('v-btn',{attrs:{\"text\":\"\",\"bottom\":\"\",\"block\":\"\"},on:{\"click\":function($event){_vm.openExits = !_vm.openExits}}},[_c('v-icon',[_vm._v(_vm._s(_vm.openExits ? 'mdi-chevron-up' : 'mdi-chevron-down'))])],1)],1)]),_c('v-divider'),_c('div',{staticClass:\"content\"},_vm._l((_vm.sections),function(sec,index){return _c('Section',{key:index,ref:\"section\",refInFor:true,staticClass:\"mt-2\",attrs:{\"index\":index,\"section\":sec,\"is-only\":_vm.sections.length === 1},on:{\"add-line\":_vm.addLine,\"delete-line\":_vm.deleteLine,\"focus\":_vm.focusOnSection,\"mutate\":function($event){return _vm.$emit('mutate')}}})}),1),_c('v-row',{staticClass:\"flex-grow-0 pa-2\"},[_c('v-btn',{ref:\"btnAdd\",staticClass:\"mx-auto\",attrs:{\"color\":\"primary\",\"elevation\":\"0\"},on:{\"click\":_vm.addLine}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\"新小节 \")],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-select',{attrs:{\"label\":_vm.label,\"messages\":_vm.messages,\"placeholder\":_vm.placeholder,\"no-data-text\":_vm.noDataText || '无可用资源',\"disabled\":_vm.disabled,\"items\":_vm.resList,\"item-text\":\"name\",\"item-value\":\"id\"},on:{\"input\":_vm.handleInput},model:{value:(_vm.resId),callback:function ($$v) {_vm.resId=$$v},expression:\"resId\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-select\r\n        :label=\"label\"\r\n        :messages=\"messages\"\r\n        :placeholder=\"placeholder\"\r\n        :no-data-text=\"noDataText || '无可用资源'\"\r\n        :disabled=\"disabled\"\r\n        :items=\"resList\"\r\n        v-model=\"resId\"\r\n        item-text=\"name\"\r\n        item-value=\"id\"\r\n        @input=\"handleInput\"\r\n    />\r\n</template>\r\n\r\n<script>\r\n\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n    name: 'ResSelector',\r\n\r\n    props: {\r\n        value: String,\r\n        messages: [Array, String],\r\n        label: String,\r\n        disabled: Boolean,\r\n        placeholder: String,\r\n        noDataText: String,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            resId: this.value,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        value(val) {\r\n            this.resId = val;\r\n        },\r\n    },\r\n\r\n    computed: {\r\n        ...mapState(['data', 'resources']),\r\n\r\n        resList() {\r\n            return this.resources.map(uid => this.data[uid]);\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        handleInput() {\r\n            this.$emit('input', this.resId);\r\n            this.changingRole = false;\r\n        },\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.role-input, \r\n.role {\r\n    width: 6em;\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResSelector.vue?vue&type=template&id=87c1a2b8&scoped=true&\"\nimport script from \"./ResSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ResSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResSelector.vue?vue&type=style&index=0&id=87c1a2b8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"87c1a2b8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VSelect})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section d-flex align-start\",attrs:{\"align\":\"start\"},on:{\"mouseenter\":function($event){_vm.showBtnBar = true},\"mouseleave\":function($event){_vm.showBtnBar = false}}},[_c('span',{staticClass:\"d-flex align-center\"},[_c('span',{staticClass:\"line-number text-subtitle-2 mr-3\"},[_vm._v(_vm._s(_vm.index + 1))]),_c('span',{staticClass:\"speaker\"},[_c('RoleSelector',{model:{value:(_vm.speaker),callback:function ($$v) {_vm.speaker=$$v},expression:\"speaker\"}})],1),_c('span',[_vm._v(\":\")])]),_c('span',{staticClass:\"text mx-2 flex-grow-1\",on:{\"click\":_vm.focus}},[(_vm.editText)?_c('v-textarea',{ref:\"textInput\",staticClass:\"text-input py-0\",attrs:{\"rows\":\"1\",\"auto-grow\":\"\",\"dense\":\"\",\"hide-details\":\"\"},on:{\"keydown\":_vm.handleInputKey,\"blur\":function($event){_vm.editText = false}},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}}):_vm._l((_vm.lines),function(line,index){return _c('p',{key:index,staticClass:\"pt-2 mb-0\"},[_vm._v(_vm._s(line))])})],2),_c('v-expand-x-transition',[(_vm.showBtnBar && !_vm.editText)?_c('v-btn-toggle',{staticClass:\"btn-tgl my-0 py-0\",attrs:{\"dense\":\"\",\"rounded\":\"\",\"borderless\":\"\"}},[_c('v-btn',{staticClass:\"delete-btn\",attrs:{\"icon\":\"\",\"height\":\"1.8em\",\"color\":\"green\"},on:{\"click\":function($event){return _vm.$emit('add-line', _vm.index)}}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1),(!_vm.isOnly)?_c('v-btn',{staticClass:\"delete-btn\",attrs:{\"icon\":\"\",\"height\":\"1.8em\",\"color\":\"red\"},on:{\"click\":function($event){return _vm.$emit('delete-line', _vm.index)}}},[_c('v-icon',[_vm._v(\"mdi-minus\")])],1):_vm._e()],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.changingRole)?_c('span',{staticClass:\"role\",on:{\"blur\":function($event){_vm.changingRole = false}}},[_c('v-select',{attrs:{\"dense\":\"\",\"hide-details\":\"\",\"items\":_vm.roleList,\"label\":_vm.label,\"disabled\":_vm.disabled,\"item-text\":\"name\",\"item-value\":\"id\",\"no-data-text\":\"无可用角色\"},on:{\"input\":_vm.handleInput},model:{value:(_vm.roleUid),callback:function ($$v) {_vm.roleUid=$$v},expression:\"roleUid\"}})],1):_c('span',{staticClass:\"role d-flex align-center\",on:{\"click\":function($event){_vm.changingRole = true}}},[_c('RAvatar',{attrs:{\"size\":\"1.6em\",\"contain\":\"\",\"src\":_vm.rolePicUrl}}),_c('span',{staticClass:\"ml-1\"},[_vm._v(_vm._s(_vm.roleName))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-avatar',{attrs:{\"size\":_vm.size}},[(_vm.src)?_c('v-img',{attrs:{\"src\":_vm.src,\"contain\":\"\"}}):_c('v-icon',{attrs:{\"size\":\"normal\"}},[_vm._v(_vm._s(_vm.emptyIcon))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-avatar :size=\"size\">\r\n        <v-img\r\n            v-if=\"src\"\r\n            :src=\"src\"\r\n            contain\r\n        />\r\n        <v-icon \r\n            v-else\r\n            size=\"normal\"\r\n        >{{ emptyIcon }}</v-icon>\r\n    </v-avatar>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'RAvatar',\r\n\r\n    props: {\r\n        src: String,\r\n        size: {\r\n            type: [String, Number],\r\n            default: '1em'\r\n        },\r\n        emptyIcon: {\r\n            type: String,\r\n            default: 'mdi-account-alert-outline'\r\n        }\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            text: this.value,\r\n        };\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RAvatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RAvatar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RAvatar.vue?vue&type=template&id=651caef7&scoped=true&\"\nimport script from \"./RAvatar.vue?vue&type=script&lang=js&\"\nexport * from \"./RAvatar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"651caef7\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\ninstallComponents(component, {VAvatar,VIcon,VImg})\n","<template>\r\n    <span \r\n        v-if=\"changingRole\"\r\n        class=\"role\"\r\n        @blur=\"changingRole = false\"\r\n    >\r\n        <v-select\r\n            dense\r\n            hide-details\r\n            :items=\"roleList\"\r\n            :label=\"label\"\r\n            :disabled=\"disabled\"\r\n            v-model=\"roleUid\"\r\n            item-text=\"name\"\r\n            item-value=\"id\"\r\n            no-data-text=\"无可用角色\"\r\n            @input=\"handleInput\"\r\n        />\r\n    </span>\r\n\r\n    <span \r\n        v-else\r\n        class=\"role d-flex align-center\"\r\n        @click=\"changingRole = true\"\r\n    >\r\n        <RAvatar\r\n            size=\"1.6em\"\r\n            contain\r\n            :src=\"rolePicUrl\"\r\n        />\r\n        <span class=\"ml-1\">{{ roleName }}</span>\r\n    </span>\r\n</template>\r\n\r\n<script>\r\n\r\nimport RAvatar from '@/components/RAvatar.vue'\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n    name: 'RoleSelector',\r\n\r\n    components: {\r\n        RAvatar\r\n    },\r\n\r\n    props: {\r\n        value: String,\r\n        disabled: Boolean,\r\n        label: String,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            changingRole: false,\r\n            roleUid: this.value,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        value(val) {\r\n            this.roleUid = val;\r\n        },\r\n    },\r\n\r\n    computed: {\r\n        ...mapState(['roles', 'data', 'resources']),\r\n\r\n        roleList() {\r\n            return this.roles.map(uid => this.data[uid]);\r\n        },\r\n\r\n        roleName() {\r\n            if (this.roleUid) {\r\n                const role = this.data[this.roleUid];\r\n                return role.name;\r\n            }\r\n            return '';\r\n        },\r\n\r\n        rolePicUrl() {\r\n            if (this.roleUid) {\r\n                const role = this.data[this.roleUid];\r\n                if (role) {\r\n                    const res = this.data[role.avatar || role.pic];\r\n                    if (res) {\r\n                        return res.src;\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        handleInput() {\r\n            this.$emit('input', this.roleUid);\r\n            this.changingRole = false;\r\n        },\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.role-input, \r\n.role {\r\n    width: 6em;\r\n    min-height: unset;\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoleSelector.vue?vue&type=template&id=73d9dee2&scoped=true&\"\nimport script from \"./RoleSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./RoleSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoleSelector.vue?vue&type=style&index=0&id=73d9dee2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73d9dee2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VSelect})\n","<template>\r\n    <div\r\n        class=\"section d-flex align-start\"\r\n        align=\"start\"\r\n        @mouseenter=\"showBtnBar = true\"\r\n        @mouseleave=\"showBtnBar = false\"\r\n    >\r\n        <span class=\"d-flex align-center\">\r\n            <!-- 行号 -->\r\n            <span class=\"line-number text-subtitle-2 mr-3\">{{ index + 1 }}</span>\r\n            \r\n            <span class=\"speaker\">\r\n                <RoleSelector v-model=\"speaker\"/>\r\n            </span>\r\n            \r\n            <span>:</span>\r\n        </span>\r\n\r\n        <!-- 文本输入 -->\r\n        <span class=\"text mx-2 flex-grow-1\" @click=\"focus\">\r\n            <v-textarea\r\n                v-if=\"editText\"\r\n                rows=\"1\"\r\n                auto-grow\r\n                dense\r\n                hide-details\r\n                ref=\"textInput\"\r\n                class=\"text-input py-0\"\r\n                v-model=\"text\"\r\n                @keydown=\"handleInputKey\"\r\n                @blur=\"editText = false\"\r\n            />\r\n\r\n            <p \r\n                v-else \r\n                class=\"pt-2 mb-0\"\r\n                v-for=\"(line, index) of lines\"\r\n                :key=\"index\"\r\n            >{{ line }}</p>\r\n        </span>\r\n\r\n        <!-- 增减工具 -->\r\n        <v-expand-x-transition>\r\n            <v-btn-toggle \r\n                v-if=\"showBtnBar && !editText\"\r\n                class=\"btn-tgl my-0 py-0\"\r\n                dense\r\n                rounded\r\n                borderless\r\n            >\r\n                <!-- 在当前行之前插入一行 -->\r\n                <v-btn \r\n                    icon \r\n                    height=\"1.8em\"\r\n                    class=\"delete-btn\" \r\n                    color=\"green\"\r\n                    @click=\"$emit('add-line', index)\"\r\n                ><v-icon>mdi-plus</v-icon></v-btn>\r\n                \r\n                <!-- 删去该行 -->\r\n                <v-btn \r\n                    v-if=\"!isOnly\"\r\n                    icon \r\n                    height=\"1.8em\"\r\n                    class=\"delete-btn\" \r\n                    color=\"red\"\r\n                    @click=\"$emit('delete-line', index)\"\r\n                ><v-icon>mdi-minus</v-icon></v-btn>\r\n            </v-btn-toggle>\r\n        </v-expand-x-transition>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport RoleSelector from './RoleSelector.vue'\r\nimport { mutateWatcher } from '../utils/vue-util'\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n    name: 'Section',\r\n\r\n    components: {\r\n        RoleSelector,\r\n    },\r\n\r\n    props: {\r\n        index: Number,\r\n        section: Object,\r\n        isOnly: Boolean,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            speaker: this.section.speaker,\r\n            text: this.section.text,\r\n            \r\n            showBtnBar: false,\r\n            editText: false,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        ...mutateWatcher('section', 'speaker', 'text'),\r\n\r\n        section(val) {\r\n            this.speaker = val.speaker;\r\n            this.text = val.text;\r\n        },\r\n    },\r\n\r\n    computed: {\r\n        ...mapState(['data', 'roles']),\r\n\r\n        lines() {\r\n            return this.text.split('\\n').filter(l => !/^\\s*$/.test(l)).map(l => l.trim());\r\n        },\r\n\r\n        speakerName() {\r\n            if (this.speaker) {\r\n                const role = this.data[this.speaker];\r\n                if (role && role.pic) {\r\n                    return role.name;\r\n                }\r\n            }\r\n            return '      ';\r\n        },\r\n\r\n        speakerPicUrl() {\r\n            if (this.speaker) {\r\n                const role = this.data[this.speaker];\r\n                if (role) {\r\n                    const res = this.data[role.avatar || role.pic];\r\n                    if (res) {\r\n                        return res.src;\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        focus(selectionStart = -1, selectionEnd = -1) {\r\n            if (selectionStart < 0) {\r\n                selectionStart = selectionEnd = this.text.length;\r\n            }\r\n            if (selectionEnd < 0) {\r\n                selectionEnd = selectionStart;\r\n            }\r\n            if (this.editText) {\r\n                const ipt = this.$refs.textInput;\r\n                ipt.focus();\r\n            } else {\r\n                this.editText = true;\r\n                this.$nextTick(() => {\r\n                    const ipt = this.$refs.textInput;\r\n                    ipt.focus();\r\n                });\r\n            }\r\n        },\r\n\r\n        handleInputKey(event) {\r\n            let doPreventDefault = true;\r\n            if (!event.ctrlKey) {\r\n                return;\r\n            }\r\n            switch(event.key) {\r\n                case 'Enter': {\r\n                    const ipt = event.target;\r\n                    if (/^\\s*$/.test(this.section.text)) {\r\n                        this.$emit('add-line', this.index + 1);\r\n                    } else {\r\n                        const start = Math.min(ipt.selectionStart, ipt.selectionEnd);\r\n                        const end = Math.max(ipt.selectionStart, ipt.selectionEnd);\r\n                        const append = this.text.slice(end);\r\n                        this.text = this.text.slice(0, start);\r\n                        this.$emit('add-line', this.index + 1, append);\r\n                    }\r\n                } break;\r\n                case 'Backspace': {\r\n                    const ipt = event.target;\r\n                    if (/^\\s*$/.test(this.section.text)) {\r\n                        this.$emit('delete-line', this.index);\r\n                    } else if (this.index > 0 && ipt.selectionStart === 0 && ipt.selectionEnd === 0) {\r\n                        this.$emit('delete-line', this.index, this.text);\r\n                    } else {\r\n                        doPreventDefault = false;\r\n                    }\r\n                } break;\r\n                case 'ArrowUp': this.$emit('focus', this.index - 1); break;\r\n                case 'ArrowDown': this.$emit('focus', this.index + 1); break;\r\n                case 'ArrowLeft': this.toggleRole(-1); break;\r\n                case 'ArrowRight': this.toggleRole(1); break;\r\n                default: doPreventDefault = false;\r\n            }\r\n\r\n            if (doPreventDefault) {\r\n                event.preventDefault();\r\n                // event.stopPropagation();\r\n            }\r\n        },\r\n\r\n        toggleRole(offset = 1) {\r\n            const currentIndex = this.roles.indexOf(this.speaker);\r\n            if (currentIndex < 0) {\r\n                this.speaker = this.roles.length ? this.roles[0] : null;\r\n                return;\r\n            }\r\n            let index = currentIndex + offset;\r\n            if (index < 0) {\r\n                index += (Math.floor(Math.abs(index) / this.roles.length) + 1) * this.roles.length;\r\n            }\r\n            if (index >= this.roles.length) {\r\n                index %= this.roles.length;\r\n            }\r\n            this.speaker = this.roles[index];\r\n        }\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.section {\r\n    width: 100%;\r\n\r\n    * {\r\n        z-index: inherit;\r\n    }\r\n}\r\n\r\n.line-number {\r\n    width: 2.5em;\r\n    text-align: right;\r\n}\r\n\r\n.speaker-input, \r\n.speaker {\r\n    width: 6em;\r\n}\r\n\r\n.speaker {\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.inline {\r\n    display: inline;\r\n}\r\n\r\n.text-input {\r\n    width: 100%;\r\n    resize: none;\r\n    outline: none;\r\n    line-height: 1em;\r\n}\r\n\r\n.text > p {\r\n    line-height: 1em;\r\n}\r\n\r\n.selected {\r\n    background-color: #0000000F;\r\n}\r\n\r\n.text {\r\n    min-height: 2.5em;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Section.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Section.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Section.vue?vue&type=template&id=74be1990&scoped=true&\"\nimport script from \"./Section.vue?vue&type=script&lang=js&\"\nexport * from \"./Section.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Section.vue?vue&type=style&index=0&id=74be1990&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74be1990\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VBtnToggle } from 'vuetify/lib/components/VBtnToggle';\nimport { VExpandXTransition } from 'vuetify/lib/components/transitions';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VBtnToggle,VExpandXTransition,VIcon,VTextarea})\n","<template>\r\n    <div class=\"chunk max-width-64em px-5\" ref=\"chunk\">\r\n        <v-container class=\"pa-0 d-flex flex-column\">\r\n            <div class=\"chunk-info px-5 pt-5 pb-0\">\r\n                <!-- 背景预览 -->\r\n                <img\r\n                    class=\"background\"\r\n                    cover\r\n                    width=\"100%\"\r\n                    gradient=\"#ffffffaf 0%, #ffffffaf 50%, #fff 100%\"\r\n                    :src=\"backgroundUrl\"\r\n                />\r\n\r\n                <div class=\"text-right ma-1\" @mouseleave=\"openMenu = false\">\r\n                    <v-slide-x-reverse-transition>\r\n                        <span v-show=\"openMenu\">\r\n                            <v-btn small text color=\"warning\" @click=\"deleteSelf\">\r\n                                <v-icon>mdi-delete</v-icon>删除\r\n                            </v-btn>\r\n                        </span>\r\n                    </v-slide-x-reverse-transition>\r\n\r\n                    <v-app-bar-nav-icon @click=\"openMenu = !openMenu\" />\r\n                </div>\r\n\r\n                <!-- 输入标题 -->\r\n                <v-row align=\"baseline\">\r\n                    <v-col cols=\"2\">标题</v-col>\r\n                    <v-col cols=\"10\">\r\n                        <input class=\"text-h4\" type=\"text\" v-model=\"title\" placeholder=\"此处输入标题\" />\r\n                    </v-col>\r\n                </v-row>\r\n\r\n                <!-- 输入副标题 -->\r\n                <v-row align=\"baseline\">\r\n                    <v-col cols=\"2\">副标题</v-col>\r\n                    <v-col cols=\"10\">\r\n                        <input\r\n                            class=\"text-subtitle-1\"\r\n                            type=\"text\"\r\n                            v-model=\"subtitle\"\r\n                            placeholder=\"此处输入副标题\"\r\n                        />\r\n                    </v-col>\r\n                </v-row>\r\n\r\n                <!-- 选择背景 -->\r\n                <v-row align=\"baseline\">\r\n                    <v-col cols=\"2\">背景</v-col>\r\n                    <v-col cols=\"10\">\r\n                        <ResSelector placeholder=\"选择背景\" v-model=\"background\" />\r\n                    </v-col>\r\n                </v-row>\r\n\r\n                <v-expand-transition>\r\n                    <v-container v-if=\"openExits\" class=\"py-0\">\r\n                        <v-subheader>出口列表</v-subheader>\r\n\r\n                        <v-row v-for=\"(exit, index) of exits\" :key=\"index\">\r\n                            <v-col cols=\"1\">{{ index + 1 }}</v-col>\r\n\r\n                            <v-col cols=\"8\">\r\n                                <v-text-field label=\"选项文本\" dense hide-details v-model=\"exit.text\" />\r\n                            </v-col>\r\n\r\n                            <v-col cols=\"2\">\r\n                                <v-select\r\n                                    label=\"目标\"\r\n                                    dense\r\n                                    hide-details\r\n                                    v-model=\"exit.target\"\r\n                                    :items=\"chunkList\"\r\n                                    item-text=\"title\"\r\n                                    item-value=\"id\"\r\n                                />\r\n                            </v-col>\r\n\r\n                            <v-col cols=\"1\">\r\n                                <v-btn small color=\"warning\" text @click=\"deleteExit(index)\">删除</v-btn>\r\n                            </v-col>\r\n                        </v-row>\r\n\r\n                        <v-row>\r\n                            <v-btn text class=\"mx-auto\" @click=\"addExit\">新出口</v-btn>\r\n                        </v-row>\r\n                    </v-container>\r\n                </v-expand-transition>\r\n\r\n                <v-btn text bottom block @click=\"openExits = !openExits\">\r\n                    <v-icon>{{ openExits ? 'mdi-chevron-up' : 'mdi-chevron-down' }}</v-icon>\r\n                </v-btn>\r\n            </div>\r\n        </v-container>\r\n\r\n        <v-divider />\r\n\r\n        <!-- 具体段落 -->\r\n        <div class=\"content\">\r\n            <Section\r\n                ref=\"section\"\r\n                class=\"mt-2\"\r\n                v-for=\"(sec, index) of sections\"\r\n                :key=\"index\"\r\n                :index=\"index\"\r\n                :section=\"sec\"\r\n                :is-only=\"sections.length === 1\"\r\n                @add-line=\"addLine\"\r\n                @delete-line=\"deleteLine\"\r\n                @focus=\"focusOnSection\"\r\n                @mutate=\"$emit('mutate')\"\r\n            />\r\n        </div>\r\n\r\n        <v-row class=\"flex-grow-0 pa-2\">\r\n            <v-btn class=\"mx-auto\" ref=\"btnAdd\" color=\"primary\" @click=\"addLine\" elevation=\"0\">\r\n                <v-icon>mdi-plus</v-icon>新小节\r\n            </v-btn>\r\n        </v-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState } from \"vuex\";\r\nimport { mutateWatcher } from \"../../utils/vue-util\";\r\nimport ResSelector from \"../ResSelector\";\r\nimport Section from \"../Section.vue\";\r\n\r\nexport default {\r\n    name: \"Chunk\",\r\n\r\n    components: {\r\n        Section,\r\n        ResSelector,\r\n    },\r\n\r\n    props: {\r\n        id: String,\r\n    },\r\n\r\n    data() {\r\n        const chunk = this.$store.state.data[this.id];\r\n        return {\r\n            title: chunk.title,\r\n            subtitle: chunk.subtitle,\r\n            background: chunk.background,\r\n            // bgm: null,\r\n            sections: chunk.sections,\r\n            exits: chunk.exits,\r\n\r\n            openMenu: false,\r\n            openExits: false,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        ...mutateWatcher(null, \"title\", \"subtitle\", \"background\"),\r\n    },\r\n\r\n    computed: {\r\n        ...mapState([\"data\", \"chunks\"]),\r\n\r\n        chunkList() {\r\n            return this.chunks.map((uid) => this.data[uid]);\r\n        },\r\n\r\n        backgroundUrl() {\r\n            if (this.background) {\r\n                const res = this.data[this.background];\r\n                return res ? res.src : null;\r\n            }\r\n            return null;\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations([\"removeChunk\", \"updateData\"]),\r\n\r\n        addLine(index, following = '') {\r\n            if (\r\n                \"number\" !== typeof index ||\r\n                index < 0 ||\r\n                index > this.sections.length\r\n            ) {\r\n                index = this.sections.length;\r\n            }\r\n            const speaker = index ? this.sections[index - 1].speaker : null;\r\n            const section = { speaker, text: following };\r\n            this.sections.splice(index, 0, section);\r\n            this.$emit(\"mutate\");\r\n            this.$nextTick(() => this.focusOnSection(index));\r\n        },\r\n\r\n        deleteLine(index, following = '') {\r\n            this.sections.splice(index, 1);\r\n            if (index) {\r\n                const prev = this.sections[index - 1];\r\n                this.sections[index - 1] = {\r\n                    speaker: prev.speaker,\r\n                    text: prev.text + following\r\n                };\r\n                this.$nextTick(() => this.focusOnSection(index - 1, prev.text.length));\r\n            } else {\r\n                this.$nextTick(() => this.focusOnSection(index - 1));\r\n            }\r\n            this.$emit(\"mutate\");\r\n        },\r\n\r\n        addExit() {\r\n            this.exits.push({\r\n                text: \"\",\r\n                target: null,\r\n            });\r\n            this.$emit(\"mutate\");\r\n        },\r\n\r\n        deleteExit(index) {\r\n            this.exits.splice(index, 1);\r\n            this.$emit(\"mutate\");\r\n        },\r\n\r\n        deleteSelf() {\r\n            this.removeChunk(this.id);\r\n            this.$emit(\"delete\", this.id);\r\n        },\r\n\r\n        focusOnSection(index, start = -1, end = -1) {\r\n            index = Math.max(0, Math.min(index, this.sections.length - 1));\r\n            const list = this.$refs.section;\r\n            if (list.length && index < list.length) {\r\n                const elVue = list[index];\r\n                const el = elVue.$el;\r\n                const chunkEl = this.$refs.chunk;\r\n                const containerEl = chunkEl.offsetParent;\r\n                // this.$vuetify.goTo(list[index].$el);\r\n                containerEl.scrollTo({\r\n                    top: el.offsetTop + chunkEl.offsetTop - (containerEl.clientHeight - el.clientHeight) / 2, \r\n                    behavior: 'smooth',\r\n                });\r\n                elVue.focus(start, end);\r\n            }\r\n        },\r\n\r\n        save() {\r\n            this.updateData({\r\n                id: this.id,\r\n                title: this.title,\r\n                subtitle: this.subtitle,\r\n                background: this.background,\r\n                // bgm: null,\r\n                sections: this.sections,\r\n                exits: this.exits,\r\n            });\r\n        },\r\n    },\r\n\r\n    created() {\r\n        this.$store.commit('bindEl', { id: this.id, el: this });\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.chunk {\r\n    z-index: 1;\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\n.chunk-info {\r\n    background-color: #ffffff80;\r\n    position: relative;\r\n    overflow: hidden;\r\n    z-index: 2;\r\n\r\n    * {\r\n        z-index: 2;\r\n    }\r\n\r\n    .background {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        z-index: 0;\r\n        filter: opacity(20%);\r\n    }\r\n}\r\n\r\ninput {\r\n    width: 100%;\r\n}\r\n\r\np {\r\n    padding: 0;\r\n    margin: 0;\r\n}\r\n\r\n.fill {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.overflow-auto {\r\n    overflow: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chunk.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chunk.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chunk.vue?vue&type=template&id=a42ae090&scoped=true&\"\nimport script from \"./Chunk.vue?vue&type=script&lang=js&\"\nexport * from \"./Chunk.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Chunk.vue?vue&type=style&index=0&id=a42ae090&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a42ae090\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBarNavIcon } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VExpandTransition } from 'vuetify/lib/components/transitions';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSlideXReverseTransition } from 'vuetify/lib/components/transitions';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAppBarNavIcon,VBtn,VCol,VContainer,VDivider,VExpandTransition,VIcon,VRow,VSelect,VSlideXReverseTransition,VSubheader,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"relative fill\"},[_c('img',{staticClass:\"background fill absolute\",attrs:{\"src\":_vm.background}}),_c('audio',{ref:\"bgm\",attrs:{\"src\":_vm.bgm,\"loop\":\"\"}}),_c('img',{staticClass:\"speaker fill absolute\",attrs:{\"src\":_vm.speakerPic}}),_c('v-toolbar',{staticClass:\"debug-panel absolute\",attrs:{\"collapse\":_vm.openDebugPanel,\"extension-height\":\"200\"},scopedSlots:_vm._u([{key:\"extension\",fn:function(){return [_c('div',{staticClass:\"align-self-start d-flex align-center\"},[_c('label',[_vm._v(\"指令指针：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.pointer),expression:\"pointer\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\",\"min\":0,\"max\":_vm.script.instructions.length - 1},domProps:{\"value\":(_vm.pointer)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.pointer=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('v-btn',{attrs:{\"text\":\"\",\"small\":\"\"},on:{\"click\":_vm.forceRun}},[_vm._v(\"执行\")])],1),_c('ul',{ref:\"logger\",staticClass:\"align-self-start fill-y overflow-auto flex-grow-1\"},_vm._l((_vm.logger),function(log,index){return _c('li',{key:index},[_vm._v(_vm._s(log))])}),0)]},proxy:true}])},[_c('v-app-bar-nav-icon',{on:{\"click\":function($event){_vm.openDebugPanel = !_vm.openDebugPanel}}}),_c('v-toolbar-title',[_vm._v(\"调试工具\")])],1),_c('div',{staticClass:\"content fill pa-3 d-flex flex-column justify-end\"},[_c('div',{staticClass:\"text round oculus white--text mb-3 pa-2\"},[_vm._v(\" \"+_vm._s(_vm.speakerName)+\"：\"+_vm._s(_vm.line)+\" \")]),_c('ul',{staticClass:\"options round oculus white--text pa-2\"},[_vm._l((_vm.options),function(option,index){return _c('li',{key:index,staticClass:\"option round py-2 px-5\",on:{\"click\":function($event){return _vm.handleClickOption(index)}}},[_vm._v(_vm._s(option.text))])}),(!_vm.options.length)?_c('li',{staticClass:\"option round py-2 px-5\",on:{\"click\":_vm.handleClickDefaultOption}},[_vm._v(\"...\")]):_vm._e()],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"relative fill\">\r\n        <img \r\n            class=\"background fill absolute\"\r\n            :src=\"background\"\r\n        />\r\n\r\n        <audio \r\n            ref=\"bgm\"\r\n            :src=\"bgm\"\r\n            loop\r\n        />\r\n\r\n        <img \r\n            class=\"speaker fill absolute\"\r\n            :src=\"speakerPic\"\r\n        />\r\n\r\n        <v-toolbar \r\n            class=\"debug-panel absolute\"\r\n            :collapse=\"openDebugPanel\"\r\n            extension-height=\"200\"\r\n        >\r\n            <v-app-bar-nav-icon @click=\"openDebugPanel = !openDebugPanel\"/>\r\n\r\n            <v-toolbar-title>调试工具</v-toolbar-title>\r\n\r\n            <template class=\"d-flex align-start\" v-slot:extension>\r\n                <div class=\"align-self-start d-flex align-center\">\r\n                    <label>指令指针：</label>\r\n\r\n                    <input\r\n                        type=\"number\"\r\n                        :min=\"0\"\r\n                        :max=\"script.instructions.length - 1\"\r\n                        v-model.number=\"pointer\"\r\n                    />\r\n\r\n                    <v-btn text small @click=\"forceRun\">执行</v-btn>\r\n                </div>\r\n\r\n                <ul class=\"align-self-start fill-y overflow-auto flex-grow-1\" ref=\"logger\">\r\n                    <li\r\n                        v-for=\"(log, index) of logger\"\r\n                        :key=\"index\"\r\n                    >{{ log }}</li>\r\n                </ul>\r\n            </template>\r\n        </v-toolbar>\r\n\r\n        <div class=\"content fill pa-3 d-flex flex-column justify-end\">\r\n            <div class=\"text round oculus white--text mb-3 pa-2\">\r\n                {{ speakerName }}：{{ line }}\r\n            </div>\r\n\r\n            <ul class=\"options round oculus white--text pa-2\">\r\n                <li \r\n                    class=\"option round py-2 px-5\"\r\n                    v-for=\"(option, index) of options\"\r\n                    :key=\"index\"\r\n                    @click=\"handleClickOption(index)\"\r\n                >{{ option.text }}</li> \r\n\r\n                <li \r\n                    v-if=\"!options.length\" \r\n                    class=\"option round py-2 px-5\"\r\n                    @click=\"handleClickDefaultOption\"\r\n                >...</li>\r\n            </ul>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n    name: 'Demonstration',\r\n\r\n    data() {\r\n        return {\r\n            pointer: 0,\r\n            background: null,\r\n            bgm: null,\r\n            speakerName: '',\r\n            speakerPic: null,\r\n            line: '',\r\n            options: [],\r\n            \r\n            hasSetText: false,\r\n            logger: [],\r\n            openDebugPanel: false,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        bgm(nv, ov) {\r\n            if (nv !== ov && 'string' === typeof nv && nv.length > 0) {\r\n                this.$refs.bgm.play();\r\n            }\r\n        },\r\n    },\r\n\r\n    computed: {\r\n        ...mapState(['script']),\r\n    },\r\n\r\n    methods: {\r\n        run() {\r\n            while (this.pointer < this.script.instructions.length && this.canStepIn(this.script.instructions[this.pointer])) {\r\n                this.apply(this.script.instructions[this.pointer]);\r\n                this.pointer++;\r\n            }\r\n        },\r\n\r\n        forceRun() {\r\n            this.hasSetText = false;\r\n            this.run();\r\n        },\r\n\r\n        apply(instruction) {\r\n            const script = this.script;\r\n            switch (instruction[0]) {\r\n                case 'bg': {\r\n                    const resIndex = instruction[1];\r\n                    this.background = script.resources[resIndex];\r\n                    this.log('设置背景', script.map ? script.map.resourceNames[resIndex] : this.background.slice(-32));\r\n                } break;\r\n                case 'bgm': \r\n                    this.bgm = script.resources[instruction[1]];\r\n                    break;\r\n                case 'line': {\r\n                    this.line = instruction[1];\r\n                    const role = script.roles[instruction[2]];\r\n                    this.speakerPic = script.resources[role.pic];\r\n                    this.speakerName = role.name;\r\n                    this.options = [];\r\n                    this.hasSetText = true;\r\n                    this.log('说台词', this.speakerName, this.line);\r\n                } break;\r\n                case 'option': {\r\n                    const option = {\r\n                        text: instruction[1],\r\n                        target: instruction[2],\r\n                    };\r\n                    this.options.push(option);\r\n                    this.log('添加选项', option.text, script.map ? script.map.chunkTitles[option.target] : option.target);\r\n                } break;\r\n            }\r\n        },\r\n\r\n        canStepIn(instruction) {\r\n            switch (instruction[0]) {\r\n                case 'bg': return true;\r\n                case 'bgm': return true;\r\n                case 'line': return !this.hasSetText;\r\n                case 'option': return this.hasSetText;\r\n            }\r\n        },\r\n\r\n        jumpTo(target) {\r\n            this.pointer = target;\r\n            this.log('转跳到', this.pointer, this.script.map ? this.script.map.chunkTitles[this.pointer] : '');\r\n        },\r\n\r\n        handleClickOption(optIndex) {\r\n            this.hasSetText = false;\r\n            const option = this.options[optIndex];\r\n            this.log('玩家选择', option.text, this.script.map ? this.script.map.chunkTitles[option.target] : option.target);\r\n            this.jumpTo(option.target);\r\n            this.run();\r\n        },\r\n\r\n        handleClickDefaultOption() {\r\n            this.hasSetText = false;\r\n            this.run();\r\n        },\r\n\r\n        log(...msgs) {\r\n            // if (this.logger.length >= 10) {\r\n            //     this.logger.shift();\r\n            // }\r\n            const time = new Date();\r\n            this.logger.push(`${time.toLocaleString()} [${msgs[0]}] ` + msgs.slice(1).join(' '));\r\n            this.$nextTick(() => {\r\n                const el = this.$refs.logger;\r\n                if (el) {\r\n                    el.scrollTo({\r\n                        left: 0, \r\n                        top: el.scrollHeight, \r\n                        behavior: 'smooth'\r\n                    });\r\n                }\r\n            });\r\n        },\r\n    },\r\n\r\n    created() {\r\n        this.run();\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.relative {\r\n    position: relative;\r\n}\r\n\r\n.fill {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.absolute {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n}\r\n\r\n.background {\r\n    z-index: 1;\r\n    object-fit: cover;\r\n}\r\n\r\n.absolute * {\r\n    z-index: inherit;\r\n}\r\n\r\n.speaker {\r\n    z-index: 2;\r\n    object-fit: contain;\r\n}\r\n\r\n.content {\r\n    z-index: 5;\r\n}\r\n\r\n.content * {\r\n    z-index: 5;\r\n}\r\n\r\n.oculus {\r\n    background-color: #000000a0;\r\n}\r\n\r\n.text {\r\n    max-height: 5em;\r\n    min-height: 1em;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n}\r\n\r\n.round {\r\n    border-radius: .2em;\r\n}\r\n\r\n.options {\r\n    height: 25%;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n}\r\n\r\n.option {\r\n    user-select: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.option:hover {\r\n    background-color: #aaaaaaa0;\r\n}\r\n\r\n.debug-panel {\r\n    z-index: 100;\r\n    opacity: .5;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demonstration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demonstration.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Demonstration.vue?vue&type=template&id=bc686a24&scoped=true&\"\nimport script from \"./Demonstration.vue?vue&type=script&lang=js&\"\nexport * from \"./Demonstration.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Demonstration.vue?vue&type=style&index=0&id=bc686a24&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bc686a24\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBarNavIcon } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBarNavIcon,VBtn,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"pa-5\"},[_c('div',{attrs:{\"id\":\"write\"}},[_c('h1',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"江奶奶的galgame编辑器食用指南\"}}),_c('span',[_vm._v(\"江奶奶的Galgame编辑器食用指南\")])]),_c('h2',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"基本概念\"}}),_c('span',[_vm._v(\"基本概念\")])]),_c('p',[_c('span',[_vm._v(\"首先，与该编辑器与播放器（虽然还没完成）的用户有三个身份：开发者、作者、玩家：\")])]),_c('ul',[_c('li',[_c('strong',[_c('span',[_vm._v(\"开发者\")])]),_c('span',[_vm._v(\"：顾名思义，就是开发这个编辑器的人，当前只有江奶奶；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"作者\")])]),_c('span',[_vm._v(\"：编辑剧本的作者，一般用的是编辑器；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"玩家\")])]),_c('span',[_vm._v(\"：当一个作者完成一个剧本之后，游玩剧本的人，用的一般是播放器。\")])])]),_c('p',[_c('span',[_vm._v(\"在本编辑器，工程由三种主要数据构成：资源、角色、文本段。\")])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"资源\"}}),_c('span',[_vm._v(\"资源\")])]),_c('p',[_c('span',[_vm._v(\"这里的资源，指的主要是多媒体资源，如：\")])]),_c('ul',[_c('li',[_c('span',[_vm._v(\"以\")]),_c('code',[_vm._v(\".png\")]),_c('span',[_vm._v(\"或\")]),_c('code',[_vm._v(\".jpg\")]),_c('span',[_vm._v(\"等结尾的图片文件，\")])]),_c('li',[_c('span',[_vm._v(\"以\")]),_c('code',[_vm._v(\".ogg\")]),_c('span',[_vm._v(\"或\")]),_c('code',[_vm._v(\".mp3\")]),_c('span',[_vm._v(\"等结尾的音频文件，\")])]),_c('li',[_c('span',[_vm._v(\"以\")]),_c('code',[_vm._v(\".mp4\")]),_c('span',[_vm._v(\"或\")]),_c('code',[_vm._v(\".wmv\")]),_c('span',[_vm._v(\"等结尾的视频文件。\")])])]),_c('p',[_c('span',[_vm._v(\"该数据包含了三个主要字段：\")])]),_c('ul',[_c('li',[_c('strong',[_c('span',[_vm._v(\"名字\")])]),_c('span',[_vm._v(\"：一个资源的名字，但是这只是用于作者识别的，对于程序来说识别的标识是其ID，这在编译过程中会被舍弃；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"内容\")])]),_c('span',[_vm._v(\"：这一般是作者从本地上传的上述多媒体文件的内容，要注意，如果文件过大，会导致内存占用过多。\")])])]),_c('p',[_c('span',[_vm._v(\"对于已有资源，其名字是可以改变的，其内容也是可以改变的。但是要知道，如果一个资源被删除，而后又新建了一个相同名字的资源的话，哪怕内容是一样的，也会\")]),_c('strong',[_c('span',[_vm._v(\"被认为是不同的资源\")])]),_c('span',[_vm._v(\"！所以删除资源前请三思。\")])]),_c('p',[_c('strong',[_c('span',[_vm._v(\"注意\")])]),_c('span',[_vm._v(\"：\")])]),_c('ol',{attrs:{\"start\":\"\"}},[_c('li',[_c('span',[_vm._v(\"人物立绘请使用\")]),_c('strong',[_c('span',[_vm._v(\"png\")])]),_c('span',[_vm._v(\"格式图片，因为该格式允许角色以外的空白部分呈现透明状态；\")])]),_c('li',[_c('span',[_vm._v(\"暂时\")]),_c('strong',[_c('span',[_vm._v(\"不支持视频\")])]),_c('span',[_vm._v(\"格式的使用，虽然你可以导入，但是这会导致大量的内存消耗，而且并不能用于剧本的编写；\")])]),_c('li',[_c('span',[_vm._v(\"音频也\")]),_c('strong',[_c('span',[_vm._v(\"暂不支持\")])]),_c('span',[_vm._v(\"，因为音频功能虽然计划加入，但是目前还没完成这部分的功能。\")])])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"角色\"}}),_c('span',[_vm._v(\"角色\")])]),_c('p',[_c('span',[_vm._v(\"作为一个Galgame的角色，该数据包含了三个主要字段：\")])]),_c('ul',[_c('li',[_c('strong',[_c('span',[_vm._v(\"名字\")])]),_c('span',[_vm._v(\"：一般来说，一个角色都会有名字，但是并不一定是一个名字对应一个角色（角色的）；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"头像\")])]),_c('span',[_vm._v(\"：这个头像仅仅作为编辑器中方便作者直观地分辨角色的附属功能，会在编译为脚本的时候被舍弃；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"立绘\")])]),_c('span',[_vm._v(\"：不用多说，要注意的是制作的时候，要注意统一画布大小，否则可能会出现大小以及像素的失真情况。\")])])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"文本段\"}}),_c('span',[_vm._v(\"文本段\")])]),_c('p',[_c('span',[_vm._v(\"这是一个江奶奶捏造的概念，如“文本段”这三个字一样，就是指文本段落，是一堆文本的合集。一个文本段相当于一般意义上的章节，包含一段完整或不完整的故事，但是同时又不太一样，因为一个文本段内，只能使用在一张背景。其长短没有指定，可以由几千行，也可以只有寥寥几行。\")])]),_c('p',[_c('span',[_vm._v(\"这个数据结构，有以下几个重要字段：\")])]),_c('ul',[_c('li',[_c('strong',[_c('span',[_vm._v(\"标题\")])]),_c('span',[_vm._v(\"：这是作者识别文本段的内容的标识，这在编译过程中会被舍弃；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"副标题\")])]),_c('span',[_vm._v(\"：目前仅仅是作为标题的注释一般，通常不必在意，这在编译过程中会被舍弃；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"背景\")])]),_c('span',[_vm._v(\"：目前一个文本段只能由一张背景，一图流走到底，相当于\")]),_c('strong',[_c('span',[_vm._v(\"传统\")])]),_c('span',[_vm._v(\"舞台上的一个场景，不到拉幕就不会改变；\")])]),_c('li',[_c('del',[_c('strong',[_c('span',[_vm._v(\"BGM\")])]),_c('span',[_vm._v(\"：背景音乐，没什么好说的，在一整个文本段持续的时间中都会循环播放该音频，该功能尚不完善，请忽略；\")])])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"小节列表\")])]),_c('span',[_vm._v(\"：这是一个小节的有序列表，在玩家游玩的时候每一个小节会依序被显示在屏幕上，关于小节的详情见下文；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"出口列表\")])]),_c('span',[_vm._v(\"：这是一个出口的集合，关于出口的详情见下文；\")])])]),_c('h4',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"小节\"}}),_c('span',[_vm._v(\"小节\")])]),_c('p',[_c('span',[_vm._v(\"一个小节主要由发言者与台词文本组成。发言者是从已有的角色中选择的一个，而台词文本是一段文字。\")])]),_c('p',[_c('span',[_vm._v(\"关于台词文本，一个小节中的台词文本可以有多句组成，每行文本都会被视为一句台词，相当于是这个发言者连续说了多句台词。\")])]),_c('h4',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"出口\"}}),_c('span',[_vm._v(\"出口\")])]),_c('p',[_c('span',[_vm._v(\"在游戏中，若一个文本段被播放完毕，这时候一般是场景的切换，或者玩家的选择，而可供玩家可以选择的选项就被称为这个文本段的出口。一个出口会对应一个文本段，该文本段将会在玩家选择了该出口后开始播放。\")])]),_c('p',[_c('span',[_vm._v(\"每个出口都会有一段文本，用于提供给玩家进行选择，或者说是一种提示，而其会有一个与其相对应的目标，这个目标是从已经存在的文本段中选取的其中一个。\")])]),_c('p',[_c('span',[_vm._v(\"附注：无论是资源、角色、文本段，都是以一个用户看不到的ID号码作为其唯一标识，所以哪怕是名字相同的资源、角色，也是被视为不同的两个或多个对象。\")])]),_c('h2',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"食用步骤\"}}),_c('span',[_vm._v(\"食用步骤\")])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"完善基础信息\"}}),_c('span',[_vm._v(\"完善基础信息\")])]),_c('ol',{attrs:{\"start\":\"\"}},[_c('li',[_c('span',[_vm._v(\"点击左边导航栏的\")]),_c('code',[_vm._v(\"基础信息\")]),_c('span',[_vm._v(\"项目；\")])]),_c('li',[_c('span',[_vm._v(\"按照提示填补完善信息，完成后你会发现编辑面板上方（也就是菜单栏下方）的，该项目标签的文字右侧有一个实心原点，这代表该项目还未保存，此时按下\")]),_c('code',[_vm._v(\"ctrl + S\")]),_c('span',[_vm._v(\"保存当前项目，或者按下\")]),_c('code',[_vm._v(\"ctrl + shift + S\")]),_c('span',[_vm._v(\"保存所有项目，或者在菜单栏的\")]),_c('code',[_vm._v(\"文件\")]),_c('span',[_vm._v(\"下找到相应操作;\")])])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"准备资源\"}}),_c('span',[_vm._v(\"准备资源\")])]),_c('ol',{attrs:{\"start\":\"\"}},[_c('li',[_c('span',[_vm._v(\"点击左边导航栏的\")]),_c('code',[_vm._v(\"资源管理器\")]),_c('span',[_vm._v(\"项目；\")])]),_c('li',[_c('span',[_vm._v(\"准备好图片资源（毕竟现在也只支持图片资源XD），如头像、立绘、背景等；\")])]),_c('li',[_c('span',[_vm._v(\"将它们从电脑的资源管理器中拖入那个写有“拖拽或点击输入文件”且有文件图标的小框中，或者点击文件图标输入文件（推荐后者）；\")])]),_c('li',[_c('span',[_vm._v(\"拖进来后，在面板中会出现刚才拖入的资源，它们会自动根据文件名设置好自己的名字，如果不满意，可以自己修改名字，点击一下名字即可开始编辑，按下\")]),_c('code',[_vm._v(\"Enter\")]),_c('span',[_vm._v(\"键或者点击输入框以外的位置完成编辑；\")])]),_c('li',[_c('span',[_vm._v(\"如果有一些资源不满意，可以点击下方第二个按钮（总之不是那个长的像垃圾桶的就对了），然后重新输入文件（由于作用域的问题，请尽量点击图标正中）；\")])]),_c('li',[_c('span',[_vm._v(\"当你想要删除一些不必要的资源的时候，只要点击下方的垃圾桶图标即可，注意，\")]),_c('strong',[_c('span',[_vm._v(\"这是不可逆的\")])]),_c('span',[_vm._v(\"。\")])])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"创建角色\"}}),_c('span',[_vm._v(\"创建角色\")])]),_c('p',[_c('span',[_vm._v(\"当你设置完一些基础的素材后，便可以开始创建自己游戏中的角色了。\")])]),_c('ol',{attrs:{\"start\":\"\"}},[_c('li',[_c('span',[_vm._v(\"点击左边导航栏的\")]),_c('code',[_vm._v(\"角色\")]),_c('span',[_vm._v(\"项目，展开角色列表；\")])]),_c('li',[_c('span',[_vm._v(\"点击最下边的\")]),_c('code',[_vm._v(\"新建角色\")]),_c('span',[_vm._v(\"按键，而后在右边就会打开这个新建角色的编辑面板（如果没有自动打开的话，就点一下列表中的角色）；\")])]),_c('li',[_c('span',[_vm._v(\"编辑名字，选择头像，选择立绘；\")])]),_c('li',[_c('span',[_vm._v(\"编辑完成后，保存该项目；\")])]),_c('li',[_c('span',[_vm._v(\"若想要删除该角色，只需要按下那个醒目的\")]),_c('code',[_vm._v(\"删除该角色\")]),_c('span',[_vm._v(\"按钮即可，注意，\")]),_c('strong',[_c('span',[_vm._v(\"这是不可逆的\")])]),_c('span',[_vm._v(\"！\")])]),_c('li',[_c('span',[_vm._v(\"想要关闭该项目，仅需在标签栏中关闭该项目的标签即可。\")])])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"编辑文本段\"}}),_c('span',[_vm._v(\"编辑文本段\")])]),_c('p',[_c('span',[_vm._v(\"连角色也创建好后，就可以正式开始写作了（其实之前的不做也没关系，大不了留空XD）。这也是这个编辑过程的重头戏。\")])]),_c('ol',{attrs:{\"start\":\"\"}},[_c('li',[_c('span',[_vm._v(\"点击左边导航栏的\")]),_c('code',[_vm._v(\"文本段\")]),_c('span',[_vm._v(\"项目，展开文本段列表；\")])]),_c('li',[_c('span',[_vm._v(\"点击最下边的\")]),_c('code',[_vm._v(\"新建文本段\")]),_c('span',[_vm._v(\"按键，而后在右边就会打开这个新建文本段的编辑面板；\")])]),_c('li',[_c('span',[_vm._v(\"在编辑界面可以看到标题、副标题、背景的编辑区域，这些在上文已经介绍过了，按照所想编辑即可；\")])]),_c('li',[_c('span',[_vm._v(\"在背景的输入框下面，你还能看到一个“新出口”按键，这个先跳过，这在之后再使用；\")])]),_c('li',[_c('span',[_vm._v(\"点击下方的\")]),_c('code',[_vm._v(\"新小节\")]),_c('span',[_vm._v(\"按键，会在该按键上方多出一行小节面板；\")])]),_c('li',[_c('span',[_vm._v(\"在小节面板的左边是序号，而后是发言者，如果之前有创建角色并保存的话，这里就可以选择需要的角色，选择好后，其头像和名字将会显示出来（如果没有头像，则会用立绘代替头像显示）；\")])]),_c('li',[_c('span',[_vm._v(\"在发言者设置好后，再往右，就是文本框了，这里作者可以输入一行或多行文本，每一行都会被作为单独的台词呈现（游戏中同屏只会出现一句台词）；\")])]),_c('li',[_c('span',[_vm._v(\"如果鼠标位于该小节的编辑面板中的话，就会出现两个按钮：\")]),_c('code',[_vm._v(\"+\")]),_c('span',[_vm._v(\"与\")]),_c('code',[_vm._v(\"-\")]),_c('span',[_vm._v(\"，按下\")]),_c('code',[_vm._v(\"+\")]),_c('span',[_vm._v(\"按键，则可以在该小节\")]),_c('strong',[_c('span',[_vm._v(\"前\")])]),_c('span',[_vm._v(\"插入新的小节，按下\")]),_c('code',[_vm._v(\"-\")]),_c('span',[_vm._v(\"按键则会删除该小节；\")])]),_c('li',[_c('span',[_vm._v(\"而后重复上述操作，知道该文本段编写完毕，然后与编辑角色时候一样保存即可；\")])]),_c('li',[_c('span',[_vm._v(\"现在开始编辑出口，点击\")]),_c('code',[_vm._v(\"新出口\")]),_c('span',[_vm._v(\"按键，会出现一行新的出口面板，从左到右是：序号、文本输入框、目标选择框、删除按键，基本一看就懂，要注意文本框只能输入一行文本，目标选择框可以选择该出口对应的下一个文本段；\")])]),_c('li',[_c('span',[_vm._v(\"若要删除文本段，则点击右上角的三道杠按钮，然后会出现\")]),_c('code',[_vm._v(\"删除\")]),_c('span',[_vm._v(\"按钮，点击该按钮即可删除文本段，注意，\")]),_c('strong',[_c('span',[_vm._v(\"这是不可逆的\")])]),_c('span',[_vm._v(\"！\")])]),_c('li',[_c('span',[_vm._v(\"想要关闭该项目，仅需在标签栏中关闭该项目的标签即可。\")])])]),_c('p',[_c('span',[_vm._v(\"另外，在编辑小节的文本的时候，\")])]),_c('ul',[_c('li',[_c('span',[_vm._v(\"按下\")]),_c('code',[_vm._v(\"ctrl + Enter（回车）\")]),_c('span',[_vm._v(\"，则是自动在该小节后插入一个新的小节，并聚焦到这个新的小节上；\")])]),_c('li',[_c('span',[_vm._v(\"按下\")]),_c('code',[_vm._v(\"ctrl + BackSpace（退格）\")]),_c('span',[_vm._v(\"且该小节文本都是空的（或者由空字符组成），则该小节将被删除并合并到上一个小节（如果存在的话）；\")])]),_c('li',[_c('span',[_vm._v(\"按下\")]),_c('code',[_vm._v(\"ctrl + ArrowUp（上箭头）\")]),_c('span',[_vm._v(\"，则聚焦到上一个小节（如果存在的话）；\")])]),_c('li',[_c('span',[_vm._v(\"按下\")]),_c('code',[_vm._v(\"ctrl + ArrowDown（下箭头）\")]),_c('span',[_vm._v(\"，则聚焦到下一个小节（如果存在的话）。\")])]),_c('li',[_c('span',[_vm._v(\"按下\")]),_c('code',[_vm._v(\"ctrl + ArrowDown（左箭头）\")]),_c('span',[_vm._v(\"，切换发言者为角色列表的上一个角色（如果存在的话）。\")])]),_c('li',[_c('span',[_vm._v(\"按下\")]),_c('code',[_vm._v(\"ctrl + ArrowDown（右箭头）\")]),_c('span',[_vm._v(\"，切换发言者为角色列表的下一个角色（如果存在的话）。\")])])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"持久化\"}}),_c('span',[_vm._v(\"持久化\")])]),_c('p',[_c('span',[_vm._v(\"编辑过程中有两个概念：工程与脚本：\")])]),_c('ul',[_c('li',[_c('strong',[_c('span',[_vm._v(\"工程\")])]),_c('span',[_vm._v(\"：这是作者写作时候，用编辑器编辑的工程文件，并不能直接游玩；\")])]),_c('li',[_c('strong',[_c('span',[_vm._v(\"脚本\")])]),_c('span',[_vm._v(\"：当一个作者完成一个剧本之后，会将其编译为脚本，而后可以在播放器或者编辑器自带的测试面板中游玩。\")])])]),_c('p',[_c('span',[_vm._v(\"之前的保存操作，其实是将内容缓存到了浏览器自带的一个叫做\")]),_c('code',[_vm._v(\"LocalStorage\")]),_c('span',[_vm._v(\"的地方，如果浏览器清理缓存，或者更换了新的计算机、新的浏览器、新的域名，那么该数据就找不到了。所以为了更好的持久化，还是要将工程下载到能看得到的地方。\")])]),_c('p',[_c('span',[_vm._v(\"所以在菜单栏下点击\")]),_c('code',[_vm._v(\"文件\")]),_c('span',[_vm._v(\"下的\")]),_c('code',[_vm._v(\"下载工程\")]),_c('span',[_vm._v(\"或者\")]),_c('code',[_vm._v(\"下载脚本\")]),_c('span',[_vm._v(\"完成相应操作，要注意，\")]),_c('code',[_vm._v(\"下载脚本\")]),_c('span',[_vm._v(\"按键只有在有已经编译完成的脚本时候才可用。当你下一次想要在别的计算机或者浏览器载入工程的时候，只要有改文件即可载入。\")])]),_c('h3',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"编译\"}}),_c('span',[_vm._v(\"编译\")])]),_c('p',[_c('span',[_vm._v(\"想要最终得到一个可以游玩的脚本，就需要这个叫做编译的过程。它将一个工程内的数据进行整理、编号、排序、简化、链接，最终得到一份可以游玩的游戏脚本文件。在菜单栏下点击\")]),_c('code',[_vm._v(\"工程\")]),_c('span',[_vm._v(\"下的\")]),_c('code',[_vm._v(\"编译为测试版\")]),_c('span',[_vm._v(\"完成相应操作。编译后的脚本将会缓存在内存中，如果不下载，那么在浏览器关闭，甚至该页面关闭之后，该脚本就会消失，但是这并不可怕，由于工程还在，所以只要重新编译即可。可以在在菜单栏下点击\")]),_c('code',[_vm._v(\"文件\")]),_c('span',[_vm._v(\"下的\")]),_c('code',[_vm._v(\"下载脚本\")]),_c('span',[_vm._v(\"以下载编译好的脚本。\")])]),_c('h2',[_c('a',{staticClass:\"md-header-anchor\",attrs:{\"name\":\"最后\"}}),_c('span',[_vm._v(\"最后\")])]),_c('blockquote',[_c('p',[_c('span',[_vm._v(\"子未曰：“Hava a gada daya!”\")])])])])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Doc.vue?vue&type=template&id=f889eafa&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"resource-manager d-flex flex-wrap\",on:{\"dragover\":function($event){_vm.overlay = true},\"dragend\":function($event){_vm.overlay = false},\"drop\":_vm.handleDrop}},[_vm._l((_vm.resources),function(uid){return _c('Resouece',{key:uid,staticClass:\"resource ma-3\",attrs:{\"uid\":uid,\"res\":_vm.data[uid]}})}),_c('v-card',{staticClass:\"resource ma-3 d-flex flex-column\"},[_c('div',{staticClass:\"input-wrapper flex-grow-1 flex-shrink-1 d-flex justify-center align-center\"},[_c('v-icon',{attrs:{\"x-large\":\"\"}},[_vm._v(\"mdi-file-multiple\")]),_c('input',{attrs:{\"type\":\"file\",\"multiple\":\"\"},on:{\"change\":_vm.inputFiles}})],1),_c('v-card-subtitle',[_vm._v(\"拖拽或点击输入文件\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"d-flex flex-column\"},[_c('v-img',{staticClass:\"flex-shrink-1\",attrs:{\"src\":_vm.res.src,\"contain\":\"\"}}),_c('v-card-title',{staticClass:\"name\"},[(_vm.editName)?_c('v-text-field',{attrs:{\"hide-details\":\"auto\",\"dense\":\"\",\"error-messages\":_vm.errors},on:{\"blur\":function($event){_vm.editName = false},\"keydown\":_vm.handleEnter},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}):_c('span',{on:{\"click\":function($event){_vm.editName = true}}},[_vm._v(_vm._s(_vm.name))])],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.removeResource(_vm.id)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-share\")]),_c('input',{ref:\"btnReplace\",staticClass:\"fill\",attrs:{\"type\":\"file\"},on:{\"input\":_vm.replaceRes}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-card class=\"d-flex flex-column\">\r\n        <v-img class=\"flex-shrink-1\" :src=\"res.src\" contain />\r\n\r\n        <v-card-title class=\"name\">\r\n            <v-text-field \r\n                v-if=\"editName\"\r\n                hide-details=\"auto\"\r\n                dense \r\n                :error-messages=\"errors\"\r\n                v-model=\"name\"\r\n                @blur=\"editName = false\"\r\n                @keydown=\"handleEnter\"\r\n            />\r\n\r\n            <span v-else @click=\"editName = true\">{{ name }}</span>\r\n        </v-card-title>\r\n\r\n        <v-card-actions>\r\n            <v-btn icon @click=\"removeResource(id)\">\r\n                <v-icon>mdi-delete</v-icon>\r\n            </v-btn>\r\n\r\n            <v-btn icon>\r\n                <v-icon>mdi-share</v-icon>\r\n                <input ref=\"btnReplace\" class=\"fill\" type=\"file\" @input=\"replaceRes\" />\r\n            </v-btn>\r\n        </v-card-actions>\r\n    </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations } from 'vuex';\r\nexport default {\r\n    name: \"Resource\",\r\n\r\n    props: {\r\n        res: Object,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            id: this.res.id,\r\n            name: this.res.name,\r\n            src: this.res.src,\r\n            type: this.res.type,\r\n\r\n            editName: false,\r\n            errors: null,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        name(newVal, oldVal) {\r\n            this.errors = newVal.length === 0 ? \"名字不可为空\" : null;\r\n            if (newVal !== oldVal && newVal) {\r\n                this.updateData({ id: this.id, name: newVal })\r\n            }\r\n        },\r\n\r\n        src(newVal, oldVal) {\r\n            if (newVal !== oldVal) {\r\n                this.updateData({ id: this.id, src: this.src, type: this.type })\r\n            }\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations(['removeResource', 'updateData']),\r\n\r\n        replaceRes(event) {\r\n            for (const file of event.target.files) {\r\n                const reader = new FileReader();\r\n                reader.onload = () => Object.assign(this, { src: reader.result, type: file.type });\r\n                reader.readAsDataURL(file);\r\n            }\r\n        },\r\n\r\n        handleEnter(event) {\r\n            if (event.key === 'Enter') {\r\n                this.editName = false;\r\n                this.updateData({ id: this.id, name: this.name });\r\n            }\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.name > * {\r\n    width: 100%;\r\n}\r\n\r\n.fill {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    opacity: 0;\r\n    cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resource.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resource.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Resource.vue?vue&type=template&id=df95f3c8&scoped=true&\"\nimport script from \"./Resource.vue?vue&type=script&lang=js&\"\nexport * from \"./Resource.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Resource.vue?vue&type=style&index=0&id=df95f3c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df95f3c8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardTitle,VIcon,VImg,VTextField})\n","<template>\r\n    <v-container\r\n        class=\"resource-manager d-flex flex-wrap\"\r\n        @dragover=\"overlay = true\"\r\n        @dragend=\"overlay = false\"\r\n        @drop=\"handleDrop\"\r\n    >\r\n        <Resouece\r\n            class=\"resource ma-3\"\r\n            v-for=\"uid of resources\"\r\n            :key=\"uid\"\r\n            :uid=\"uid\"\r\n            :res=\"data[uid]\"\r\n        />\r\n\r\n        <v-card class=\"resource ma-3 d-flex flex-column\">\r\n            <div class=\"input-wrapper flex-grow-1 flex-shrink-1 d-flex justify-center align-center\">\r\n                <v-icon x-large>mdi-file-multiple</v-icon>\r\n\r\n                <input type=\"file\" multiple @change=\"inputFiles\" />\r\n            </div>\r\n\r\n            <v-card-subtitle>拖拽或点击输入文件</v-card-subtitle>\r\n        </v-card>\r\n\r\n        <!-- <v-overlay :value=\"false\" class=\"fill ma-auto\" absolute>\r\n            <div class=\"overlay input-wrapper d-flex flex-column justify-center align-center\">\r\n                <v-icon size=\"100\">mdi-file-multiple</v-icon>\r\n\r\n                <p class=\"mt-10\">松开鼠标以输入文件</p>\r\n\r\n                <input type=\"file\" multiple @change=\"inputFiles\" />\r\n            </div>\r\n        </v-overlay> -->\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nimport Resouece from \"@/components/Resource.vue\";\r\nimport { mapMutations, mapState } from \"vuex\";\r\n\r\nexport default {\r\n    name: \"ResourceManager\",\r\n\r\n    components: {\r\n        Resouece,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            overlay: false,\r\n        };\r\n    },\r\n    \r\n    computed: {\r\n        ...mapState([\"resources\", \"data\"]),\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations([\"createResource\"]),\r\n\r\n        inputFiles(event) {\r\n            for (const file of event.target.files) {\r\n                const dotIndex = file.name.lastIndexOf(\".\");\r\n                const name = dotIndex >= 0 ? file.name.slice(0, dotIndex) : file.name;\r\n\r\n                const reader = new FileReader();\r\n                reader.onload = () => this.createResource({ name, src: reader.result, type: file.type });\r\n                reader.readAsDataURL(file);\r\n            }\r\n        },\r\n\r\n        handleDrop() {\r\n            this.overlay = false;\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.resource-manager > * {\r\n    width: 10rem;\r\n    height: 16em;\r\n}\r\n\r\n.input-wrapper {\r\n    position: relative;\r\n}\r\n\r\n.input-wrapper > input[type=\"file\"] {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    opacity: 0;\r\n    user-select: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.fill {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.overlay {\r\n    width: 90vw;\r\n    height: 80vh;\r\n    border: #ffffff dashed 0.1em;\r\n    border-radius: 1em;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResourceManager.vue?vue&type=template&id=391424e6&scoped=true&\"\nimport script from \"./ResourceManager.vue?vue&type=script&lang=js&\"\nexport * from \"./ResourceManager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResourceManager.vue?vue&type=style&index=0&id=391424e6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"391424e6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VCard,VCardSubtitle,VContainer,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fill-y max-width-64em pa-5 d-flex\"},[_c('div',{staticClass:\"form d-flex flex-column align-center\"},[_c('v-avatar',{attrs:{\"size\":\"160\",\"color\":\"grey\"}},[(_vm.avatar)?_c('img',{attrs:{\"src\":_vm.avatarUrl}}):_c('span',{staticClass:\"white--text text-h3\"},[_vm._v(_vm._s(_vm.name.slice(0, 2)))])]),_c('v-text-field',{staticClass:\"input flex-grow-0\",attrs:{\"label\":\"名字\",\"messages\":\"必填，最好不要超过三个中文\",\"placeholder\":\"角色的名字\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('v-switch',{staticClass:\"flex-grow-0\",attrs:{\"label\":\"无立绘角色\"},model:{value:(_vm.noPic),callback:function ($$v) {_vm.noPic=$$v},expression:\"noPic\"}}),_c('ResSelector',{staticClass:\"flex-grow-0\",attrs:{\"label\":\"头像\",\"messages\":\"无实际用途，仅方便编辑\"},model:{value:(_vm.avatar),callback:function ($$v) {_vm.avatar=$$v},expression:\"avatar\"}}),_c('ResSelector',{staticClass:\"flex-grow-0\",attrs:{\"label\":\"立绘\",\"disabled\":_vm.noPic,\"messages\":_vm.noPic ? '无立绘角色无法设置立绘' : ''},model:{value:(_vm.pic),callback:function ($$v) {_vm.pic=$$v},expression:\"pic\"}}),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"warning\"},on:{\"click\":_vm.deleteSelf}},[_c('v-icon',[_vm._v(\"mdi-delete\")]),_vm._v(\" 删除该角色 \")],1)],1),_c('div',{staticClass:\"img-wrapper flex-grow-1\"},[(!_vm.noPic && _vm.pic)?_c('img',{attrs:{\"alt\":_vm.name,\"src\":_vm.picUrl}}):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <!-- 角色展示 -->\r\n    <div class=\"fill-y max-width-64em pa-5 d-flex\">\r\n        <div class=\"form d-flex flex-column align-center\">\r\n            <!-- 头像预览 -->\r\n            <v-avatar \r\n                size=\"160\"\r\n                color=\"grey\"\r\n            >\r\n                <img v-if=\"avatar\" :src=\"avatarUrl\" />\r\n\r\n                <span v-else class=\"white--text text-h3\">{{ name.slice(0, 2) }}</span>\r\n            </v-avatar>\r\n\r\n            <!-- 角色名字 -->\r\n            <v-text-field\r\n                label=\"名字\"\r\n                class=\"input flex-grow-0\"\r\n                messages=\"必填，最好不要超过三个中文\"\r\n                placeholder=\"角色的名字\"\r\n                v-model=\"name\"\r\n            />\r\n\r\n            <!-- 设为无立绘角色，用于旁白或主角自身 -->\r\n            <v-switch \r\n                class=\"flex-grow-0\" \r\n                label=\"无立绘角色\" \r\n                v-model=\"noPic\" \r\n            />\r\n\r\n            <!-- 角色头像 -->\r\n            <ResSelector \r\n                class=\"flex-grow-0\" \r\n                label=\"头像\"\r\n                messages=\"无实际用途，仅方便编辑\" \r\n                v-model=\"avatar\" \r\n            />\r\n\r\n            <!-- 角色的立绘 -->\r\n            <ResSelector \r\n                class=\"flex-grow-0\" \r\n                label=\"立绘\"\r\n                :disabled=\"noPic\" \r\n                :messages=\"noPic ? '无立绘角色无法设置立绘' : ''\"\r\n                v-model=\"pic\" \r\n            />\r\n\r\n            <v-spacer/>\r\n\r\n            <!-- 删除按钮 -->\r\n            <v-btn color=\"warning\" @click=\"deleteSelf\">\r\n                <v-icon>mdi-delete</v-icon>\r\n                删除该角色\r\n            </v-btn>\r\n        </div>\r\n\r\n        <!-- 立绘预览 -->\r\n        <div class=\"img-wrapper flex-grow-1\">\r\n            <img \r\n                v-if=\"!noPic && pic\" \r\n                :alt=\"name\" \r\n                :src=\"picUrl\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport ResSelector from \"../ResSelector.vue\";\r\nimport { mapMutations, mapState } from \"vuex\";\r\nimport { mutateWatcher } from '../../utils/vue-util'\r\n\r\n\r\nexport default {\r\n    name: \"Role\",\r\n\r\n    components: {\r\n        ResSelector,\r\n    },\r\n\r\n    props: {\r\n        id: String,\r\n    },\r\n\r\n    data() {\r\n        const role = this.$store.state.data[this.id];\r\n        return {\r\n            name: role.name || '无名氏',\r\n            avatar: role.avatar || null,\r\n            pic: role.pic || null,\r\n            noPic: role.noPic || false,\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        ...mutateWatcher(null, 'name', 'avatar', 'pic', 'noPic'),\r\n    },\r\n\r\n    computed: {\r\n        ...mapState([\"data\"]),\r\n\r\n        picUrl() {\r\n            const res = this.data[this.pic];\r\n            return res ? res.src : null;\r\n        },\r\n\r\n        avatarUrl() {\r\n            const res = this.data[this.avatar];\r\n            return res ? res.src : null;\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations(['updateData', 'removeRole']),\r\n\r\n        deleteSelf() {\r\n            this.removeRole(this.id);\r\n            this.$emit('delete', this.id);\r\n        },\r\n\r\n        save() {\r\n            this.updateData({\r\n                id: this.id,\r\n                name: this.name,\r\n                avatar: this.avatar,\r\n                pic: this.pic,\r\n                noPic: this.noPic,\r\n            });\r\n        },\r\n    },\r\n\r\n    created() {\r\n        this.$store.commit('bindEl', { id: this.id, el: this });\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.img-wrapper {\r\n    flex: 1;\r\n    text-align: center;\r\n\r\n    img {\r\n        max-width: 100%;\r\n        height: 100%;\r\n        object-fit: contain;\r\n        object-position: center;\r\n    }\r\n}\r\n\r\n.form {\r\n    > * {\r\n        width: 20em;\r\n        margin-top: 1.5em;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Role.vue?vue&type=template&id=e128543a&scoped=true&\"\nimport script from \"./Role.vue?vue&type=script&lang=js&\"\nexport * from \"./Role.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Role.vue?vue&type=style&index=0&id=e128543a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e128543a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAvatar,VBtn,VIcon,VSpacer,VSwitch,VTextField})\n","\r\n\r\nimport BaseInfo from '../components/panels/BaseInfo';\r\nimport Chunk from '../components/panels/Chunk';\r\nimport Demonstration from '../components/panels/Demonstration';\r\nimport Doc from '../components/panels/Doc';\r\nimport ResourceManager from '../components/panels/ResourceManager';\r\nimport Role from '../components/panels/Role';\r\nimport { cacheState } from './transfer';\r\n\r\nconst PANEL_TYPES = {\r\n    \"base-info\"(id) {\r\n        return {\r\n            id,\r\n            icon: 'mdi-information-outline',\r\n            title: '基础信息',\r\n            component: BaseInfo,\r\n        };\r\n    },\r\n    \"res-manager\"(id) {\r\n        return {\r\n            id,\r\n            icon: 'mdi-folder-outline',\r\n            title: '资源管理器',\r\n            component: ResourceManager,\r\n        };\r\n    },\r\n    \"doc\"() {\r\n        return {\r\n            id: \"doc\",\r\n            icon: 'mdi-document',\r\n            title: '帮助文档',\r\n            component: Doc,\r\n        };\r\n    },\r\n    \"demo\"() {\r\n        return {\r\n            id: \"demo\",\r\n            icon: 'mdi-play',\r\n            title: '演示',\r\n            component: Demonstration,\r\n        };\r\n    },\r\n    \"role\"(id, data) {\r\n        return {\r\n            id: id,\r\n            icon: 'mdi-account-outline',\r\n            title: data[id] ? data[id].name : '未知角色',\r\n            component: Role,\r\n        };\r\n    },\r\n    \"chunk\"(id, data) {\r\n        return {\r\n            id: id,\r\n            icon: 'mdi-text',\r\n            title: data[id] ? data[id].title : '未知文本段',\r\n            component: Chunk,\r\n        };\r\n    },\r\n};\r\n\r\n//#region 一些工具方法\r\n\r\n/**\r\n * 寻找到一个合理的索引\r\n * 若指定了index，则返回该index\r\n * 若未指定index，但是指定了id，则根据ID寻找index，未找到则返回-1\r\n * 若未指定index，也未指定id，则返回当前打开的面板的索引\r\n * @param {Object} state 仓库状态\r\n * @param {Number} index 该面板的索引\r\n * @param {String} id 该面板的ID\r\n * @returns {Number} 找到的索引 \r\n */\r\nfunction findPanelIndex(state, index = -1, id = null) {\r\n    if (index < 0) {\r\n        return id ? state.panels.findIndex(p => p.id === id) : state.tabIndex;\r\n    }\r\n    return index;\r\n}\r\n\r\n/**\r\n * 关闭一个面板\r\n * @param {Object} state 仓库\r\n * @param {Number} index 要关闭面板的索引\r\n */\r\nfunction close(state, index = -1) {\r\n    index = findPanelIndex(state, index);\r\n    const panel = state.panels[index];\r\n    if (panel) {\r\n        if (!panel.dirty || confirm(`${panel.title}还未保存，确定关闭？`)) {\r\n            state.panels.splice(index, 1);\r\n        }\r\n    }\r\n}\r\n\r\n//#endregion\r\n\r\n\r\n/**\r\n * 打开一个面板，若已经有相同的id，则专挑到该id所对应的面板，否则新建一个面板并添加到最后\r\n * @param {Object} state 仓库\r\n * @param {String} type 面板类型\r\n * @param {String} id 指定的id\r\n * @param {Number} index 要插入的位置，若未指定则默认插入到最后\r\n */\r\nfunction openPanel(state, { type, id, index = null }) {\r\n    index = index !== null ? index : state.panels.length;\r\n    const panel = PANEL_TYPES[type] ? \r\n        Object.assign({}, PANEL_TYPES[type](id, state.data), {\r\n            type,\r\n            dirty: false,\r\n            el: null,\r\n        }) : \r\n        null;\r\n    if (panel) {\r\n        const alreadyExistIndex = state.panels.findIndex(t => t.id === panel.id);\r\n        if (alreadyExistIndex >= 0) {\r\n            state.tabIndex = alreadyExistIndex;\r\n        } else {\r\n            state.panels.splice(index, 0, panel);\r\n            state.tabIndex = index;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 关闭一个面板\r\n * @param {Object} state 仓库\r\n * @param {Number} index 面板的索引\r\n * @param {String} id 面板的id\r\n */\r\nfunction closePanel(state, { index = null, id = null }) {\r\n    index = findPanelIndex(state, index, id);\r\n    if (index >= 0) {\r\n        close(state, index);\r\n    }\r\n}\r\n\r\n/**\r\n * 关闭所有面板\r\n * @param {Object} state 仓库\r\n */\r\nfunction closeAllPanels(state) {\r\n    let prev = -1;\r\n    while (state.panels.length && state.panels.length !== prev) {\r\n        prev = state.panels.length;\r\n        close(state, 0);\r\n    }\r\n}\r\n\r\n/**\r\n * 保存面板\r\n * @param {Object} state 仓库\r\n * @param {Number} index 面板的索引\r\n */\r\nfunction savePanel(state, index = -1) {\r\n    index = findPanelIndex(state, index);\r\n    if (index >= 0) {\r\n        const panel = state.panels[index];\r\n        if (panel) {\r\n            if (panel.el && panel.el.save) {\r\n                panel.el.save();\r\n                cacheState(state);\r\n            }\r\n            panel.dirty = false;\r\n            const np = PANEL_TYPES[panel.type](panel.id, state.data);\r\n            panel.title = np.title;\r\n        }\r\n        // appendMessage(state, `项目保存完成：${panel.title}`);\r\n    }\r\n}\r\n\r\n/**\r\n * 保存所有面板\r\n * @param {Object} state 仓库\r\n */\r\nfunction saveAllPanels(state) {\r\n    for (let index = 0; index < state.panels.length; index++) {\r\n        savePanel(state, index);\r\n    }\r\n    cacheState(state);\r\n    // appendMessage(state, `所有可保存项目保存完成`);\r\n}\r\n\r\n/**\r\n * 将一个DOM绑定到相应面板\r\n * @param {Object} state 仓库\r\n * @param {Number} index 面板的索引\r\n * @param {String} id 面板的id\r\n * @param {Vue.Component} el 面板所对应的元素\r\n */\r\nfunction bindEl(state, {index, id, el}) {\r\n    index = findPanelIndex(state, index, id);\r\n    state.panels[index].el = el;\r\n}\r\n\r\nexport {\r\n    openPanel,\r\n    closePanel,\r\n    closeAllPanels,\r\n    savePanel,\r\n    saveAllPanels,\r\n    bindEl,\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-container',[_c('v-row',[_c('v-select',{attrs:{\"label\":\"文本段\",\"chips\":\"\",\"deletable-chips\":\"\",\"multiple\":\"\",\"items\":_vm.chunkList,\"item-value\":\"id\",\"item-text\":\"title\"},model:{value:(_vm.selectedChunks),callback:function ($$v) {_vm.selectedChunks=$$v},expression:\"selectedChunks\"}})],1),_c('v-row',{staticClass:\"d-flex justify-space-around\"},[_c('v-switch',{attrs:{\"label\":\"显示发言者\"},model:{value:(_vm.withName),callback:function ($$v) {_vm.withName=$$v},expression:\"withName\"}}),_c('v-switch',{attrs:{\"label\":\"缩减姓名数量\",\"hint\":\"一个角色说了很多话也只显示一次名字\",\"disabled\":!_vm.withName},model:{value:(_vm.reduceName),callback:function ($$v) {_vm.reduceName=$$v},expression:\"reduceName\"}})],1),_c('v-row',{staticClass:\"d-flex justify-space-around\"},[_c('v-switch',{attrs:{\"label\":\"显示标题\"},model:{value:(_vm.withTitle),callback:function ($$v) {_vm.withTitle=$$v},expression:\"withTitle\"}}),_c('v-switch',{attrs:{\"label\":\"给标题加括号\",\"hint\":\"例如：【第一章】\",\"disabled\":!_vm.withTitle},model:{value:(_vm.quotedTitle),callback:function ($$v) {_vm.quotedTitle=$$v},expression:\"quotedTitle\"}}),_c('v-switch',{attrs:{\"label\":\"显示副标题\"},model:{value:(_vm.withSubtitle),callback:function ($$v) {_vm.withSubtitle=$$v},expression:\"withSubtitle\"}})],1),_c('v-row',{staticClass:\"d-flex justify-space-around\"},[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.doExport}},[_c('v-icon',[_vm._v(\"mdi-export\")]),_vm._v(\"导出 \")],1),_c('v-btn',{on:{\"click\":_vm.closeDialog}},[_c('v-icon',[_vm._v(\"mdi-cancel\")]),_vm._v(\"取消 \")],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-card>\r\n        <v-container>\r\n            <v-row>\r\n                <v-select\r\n                    label=\"文本段\"\r\n                    chips\r\n                    deletable-chips\r\n                    multiple\r\n                    :items=\"chunkList\"\r\n                    item-value=\"id\"\r\n                    item-text=\"title\"\r\n                    v-model=\"selectedChunks\"\r\n                />\r\n            </v-row>\r\n\r\n            <v-row class=\"d-flex justify-space-around\">\r\n                <v-switch label=\"显示发言者\" v-model=\"withName\" />\r\n\r\n                <v-switch\r\n                    label=\"缩减姓名数量\"\r\n                    hint=\"一个角色说了很多话也只显示一次名字\"\r\n                    v-model=\"reduceName\"\r\n                    :disabled=\"!withName\"\r\n                />\r\n            </v-row>\r\n\r\n            <v-row class=\"d-flex justify-space-around\">\r\n                <v-switch label=\"显示标题\" v-model=\"withTitle\" />\r\n\r\n                <v-switch\r\n                    label=\"给标题加括号\"\r\n                    hint=\"例如：【第一章】\"\r\n                    v-model=\"quotedTitle\"\r\n                    :disabled=\"!withTitle\"\r\n                />\r\n                \r\n                <v-switch label=\"显示副标题\" v-model=\"withSubtitle\" />\r\n            </v-row>\r\n\r\n            <v-row class=\"d-flex justify-space-around\">\r\n                <v-btn color=\"primary\" @click=\"doExport\">\r\n                    <v-icon>mdi-export</v-icon>导出\r\n                </v-btn>\r\n\r\n                <v-btn @click=\"closeDialog\">\r\n                    <v-icon>mdi-cancel</v-icon>取消\r\n                </v-btn>\r\n            </v-row>\r\n        </v-container>\r\n    </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState } from \"vuex\";\r\nexport default {\r\n    name: \"TextExport\",\r\n\r\n    data() {\r\n        return {\r\n            selectedChunks: [],\r\n            withName: true,\r\n            reduceName: true,\r\n            quotedTitle: true,\r\n            withTitle: true,\r\n            withSubtitle: true,\r\n        };\r\n    },\r\n\r\n    computed: {\r\n        ...mapState([\"data\", \"chunks\"]),\r\n\r\n        chunkList() {\r\n            return this.chunks.map((id) => this.data[id]);\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations([\"exportToText\", \"closeDialog\"]),\r\n\r\n        doExport() {\r\n            this.exportToText({\r\n                selectedChunks: this.selectedChunks,\r\n                withName: this.withName,\r\n                reduceName: this.reduceName,\r\n                quotedTitle: this.quotedTitle,\r\n                withTitle: this.withTitle,\r\n                withSubtitle: this.withSubtitle,\r\n            });\r\n            this.closeDialog();\r\n        },\r\n    },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextExport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextExport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextExport.vue?vue&type=template&id=3907a529&\"\nimport script from \"./TextExport.vue?vue&type=script&lang=js&\"\nexport * from \"./TextExport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VBtn,VCard,VContainer,VIcon,VRow,VSelect,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"height\":\"86vh\"}},[_c('v-container',{staticClass:\"fill-y d-flex flex-column\"},[_c('v-row',{staticClass:\"flex-grow-1\"},[_c('v-col',{staticClass:\"d-flex flex-column\",attrs:{\"cols\":\"8\"}},[_c('span',{staticClass:\"flex-grow-0\"},[_vm._v(_vm._s(_vm.prevText))]),_c('v-textarea',{staticClass:\"flex-grow-1\",attrs:{\"multi-line\":\"\",\"rows\":\"10\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}}),_c('span',{staticClass:\"flex-grow-0\"},[_vm._v(_vm._s(_vm.nextText))])],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-switch',{attrs:{\"label\":\"添加到新文本段\"},model:{value:(_vm.appendToNewChunk),callback:function ($$v) {_vm.appendToNewChunk=$$v},expression:\"appendToNewChunk\"}}),_c('v-select',{attrs:{\"label\":\"目标文本段\",\"disabled\":_vm.appendToNewChunk,\"items\":_vm.chunkList,\"item-value\":\"id\",\"item-text\":\"title\"},model:{value:(_vm.targetChunk),callback:function ($$v) {_vm.targetChunk=$$v},expression:\"targetChunk\"}}),_c('v-text-field',{attrs:{\"label\":\"插入小节位置\",\"type\":\"number\",\"min\":0,\"max\":_vm.chunk.sections.length,\"disabled\":_vm.appendToNewChunk || !_vm.targetChunk},model:{value:(_vm.targetSection),callback:function ($$v) {_vm.targetSection=_vm._n($$v)},expression:\"targetSection\"}}),_c('v-switch',{attrs:{\"label\":\"自动识别发言者\"},model:{value:(_vm.autoDetectSpeaker),callback:function ($$v) {_vm.autoDetectSpeaker=_vm._n($$v)},expression:\"autoDetectSpeaker\"}}),_c('RoleSelector',{attrs:{\"label\":\"首选发言者\",\"disabled\":_vm.autoDetectSpeaker},model:{value:(_vm.primarySpeaker),callback:function ($$v) {_vm.primarySpeaker=$$v},expression:\"primarySpeaker\"}}),_c('RoleSelector',{attrs:{\"label\":\"次选发言者\",\"disabled\":_vm.autoDetectSpeaker},model:{value:(_vm.secondarySpeaker),callback:function ($$v) {_vm.secondarySpeaker=$$v},expression:\"secondarySpeaker\"}})],1)],1),_c('v-row',{staticClass:\"flex-grow-0 d-flex justify-space-around\"},[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.doImport}},[_c('v-icon',[_vm._v(\"mdi-import\")]),_vm._v(\"导入 \")],1),_c('v-btn',{on:{\"click\":_vm.closeDialog}},[_c('v-icon',[_vm._v(\"mdi-cancel\")]),_vm._v(\"取消 \")],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-card height=\"86vh\">\r\n        <v-container class=\"fill-y d-flex flex-column\">\r\n            <v-row class=\"flex-grow-1\">\r\n                <v-col cols=\"8\" class=\"d-flex flex-column\">\r\n                    <span class=\"flex-grow-0\">{{ prevText }}</span>\r\n\r\n                    <v-textarea\r\n                        class=\"flex-grow-1\"\r\n                        multi-line\r\n                        rows=\"10\"\r\n                        v-model=\"text\"\r\n                    />\r\n\r\n                    <span class=\"flex-grow-0\">{{ nextText }}</span>\r\n                </v-col>\r\n\r\n                <v-col cols=\"4\">\r\n                    <v-switch \r\n                        label=\"添加到新文本段\"\r\n                        v-model=\"appendToNewChunk\"\r\n                    />\r\n\r\n                    <v-select\r\n                        label=\"目标文本段\"\r\n                        :disabled=\"appendToNewChunk\"\r\n                        :items=\"chunkList\"\r\n                        item-value=\"id\"\r\n                        item-text=\"title\"\r\n                        v-model=\"targetChunk\"\r\n                    />\r\n\r\n                    <v-text-field \r\n                        label=\"插入小节位置\"\r\n                        type=\"number\"\r\n                        :min=\"0\"\r\n                        :max=\"chunk.sections.length\"\r\n                        :disabled=\"appendToNewChunk || !targetChunk\"\r\n                        v-model.number=\"targetSection\"\r\n                    />\r\n\r\n                    <v-switch\r\n                        label=\"自动识别发言者\"\r\n                        v-model.number=\"autoDetectSpeaker\"\r\n                    />\r\n\r\n                    <RoleSelector \r\n                        label=\"首选发言者\" \r\n                        :disabled=\"autoDetectSpeaker\"\r\n                        v-model=\"primarySpeaker\"\r\n                    />\r\n\r\n                    <RoleSelector \r\n                        label=\"次选发言者\" \r\n                        :disabled=\"autoDetectSpeaker\"\r\n                        v-model=\"secondarySpeaker\"\r\n                    />\r\n                </v-col>\r\n            </v-row>\r\n\r\n            <v-row class=\"flex-grow-0 d-flex justify-space-around\">\r\n                <v-btn color=\"primary\" @click=\"doImport\">\r\n                    <v-icon>mdi-import</v-icon>导入\r\n                </v-btn>\r\n\r\n                <v-btn @click=\"closeDialog\">\r\n                    <v-icon>mdi-cancel</v-icon>取消\r\n                </v-btn>\r\n            </v-row>\r\n        </v-container>\r\n    </v-card>\r\n</template>\r\n\r\n<script>\r\nimport RoleSelector from '../RoleSelector';\r\nimport { mapMutations, mapState } from \"vuex\";\r\nexport default {\r\n    name: \"TextImport\",\r\n\r\n    components: {\r\n        RoleSelector,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            appendToNewChunk: false,\r\n            targetChunk: null,\r\n            targetSection: -1,\r\n            autoDetectSpeaker: false,\r\n            primarySpeaker: null,\r\n            secondarySpeaker: null,\r\n            text: '',\r\n\r\n            prevText: '',\r\n            nextText: '',\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        targetChunk(nv, ov) {\r\n            if (nv !== ov) {\r\n                this.targetSection = nv ? this.data[nv].sections.length : -1;\r\n            }\r\n        },\r\n\r\n        targetSection(val) {\r\n            if (this.targetChunk) {\r\n                const sections = this.data[this.targetChunk].sections;\r\n                this.prevText = val > 0 ? sections[val - 1].text : '';\r\n                this.nextText = val > 0 && val < sections.length ? sections[val].text : '';\r\n            }\r\n        },\r\n    },\r\n\r\n    computed: {\r\n        ...mapState([\"data\", \"chunks\"]),\r\n\r\n        chunkList() {\r\n            return this.chunks.map((id) => this.data[id]);\r\n        },\r\n\r\n        chunk() {\r\n            return this.targetChunk ? this.data[this.targetChunk] : {sections: []};\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        ...mapMutations([\"importFromText\", \"closeDialog\"]),\r\n\r\n        doImport() {\r\n            this.importFromText({\r\n                appendToNewChunk: this.appendToNewChunk,\r\n                targetChunk: this.targetChunk,\r\n                targetSection: this.targetSection,\r\n                autoDetectSpeaker: this.autoDetectSpeaker,\r\n                primarySpeaker: this.primarySpeaker,\r\n                secondarySpeaker: this.secondarySpeaker,\r\n                text: this.text,\r\n            });\r\n            this.closeDialog();\r\n        },\r\n    },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextImport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextImport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextImport.vue?vue&type=template&id=b6c77a2c&\"\nimport script from \"./TextImport.vue?vue&type=script&lang=js&\"\nexport * from \"./TextImport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCard,VCol,VContainer,VIcon,VRow,VSelect,VSwitch,VTextField,VTextarea})\n","import ExportToText from '../components/dialogs/TextExport';\r\nimport TextImport from '../components/dialogs/TextImport';\r\n\r\nfunction openDialog(state, type) {\r\n    switch (type) {\r\n        case 'export-to-text': \r\n            state.dialog = {\r\n                component: ExportToText,\r\n            };\r\n            break;\r\n        case 'import-from-text': \r\n            state.dialog = {\r\n                component: TextImport,\r\n            };\r\n            break;\r\n    }\r\n}\r\n\r\nfunction closeDialog(state) {\r\n    state.dialog = null;\r\n}\r\n\r\nexport {\r\n    openDialog,\r\n    closeDialog,\r\n}","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport {\n    cacheState,\n    compile,\n    downloadProject,\n    downloadScript,\n    loadProjectFromFile,\n    loadProjectFromCache,\n    exportToText,\n    importFromText,\n} from './transfer'\nimport {\n    createResource,\n    createRole,\n    createChunk,\n    removeResource,\n    removeRole,\n    removeChunk,\n    updateData,\n} from './data-mutation'\nimport { v4 as genId } from 'uuid';\nimport {\n    openPanel,\n    closePanel,\n    closeAllPanels,\n    savePanel,\n    saveAllPanels,\n    bindEl,\n} from \"./panel\";\nimport {\n    openDialog,\n    closeDialog,\n} from \"./dialog\";\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n    state: {\n        id: genId(), // 剧本ID\n        lastModified: Date.now(), // 最后修改时间\n        name: '未命名', // 剧本的名称\n        version: '1.0.0', // 版本\n        authors: [], // 作者\n        entry: null, // 台词入口\n        data: {}, // 所有数据的存储地点\n        resources: [], // 资源列表\n        roles: [], // 角色列表\n        chunks: [], // 台词段\n\n        script: null, // 缓存编译好的剧本\n\n        panels: [],\n        tabIndex: -1,\n\n        app: null,\n\n        messages: [],\n\n        dialog: null,\n    },\n    mutations: {\n        openPanel,\n        closePanel,\n        closeAllPanels,\n        savePanel,\n        saveAllPanels,\n        bindEl,\n\n        openDialog,\n        closeDialog,\n\n        cacheState,\n        compile,\n        downloadProject,\n        downloadScript,\n        loadProjectFromFile,\n        loadProjectFromCache,\n\n\n        createResource,\n        createRole,\n        createChunk,\n\n        removeResource,\n        removeRole,\n        removeChunk,\n\n        updateData,\n\n        exportToText,\n        importFromText,\n\n        updateBaseInfo(state, { name, version, authors }) {\n            state.name = name || state.name;\n            state.version = version || state.version;\n            state.authors = authors || state.authors;\n        },\n\n        setTabIndex(state, index) {\n            state.tabIndex = index;\n        },\n\n        setApp(state, app) {\n            state.app = app;\n        },\n    },\n})\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\n// import router from './router'\r\nimport vuetify from './plugins/vuetify';\r\nimport store from './store'\r\n\r\nVue.config.productionTip = false\r\n\r\nVue.filter('localizeDate', time => {\r\n  const t = new Date(time);\r\n  return t.toLocaleDateString() + ' - ' + t.toLocaleTimeString(undefined, {hour12: false});\r\n});\r\n\r\nnew Vue({\r\n  // router,\r\n  vuetify,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Section.vue?vue&type=style&index=0&id=74be1990&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Section.vue?vue&type=style&index=0&id=74be1990&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResSelector.vue?vue&type=style&index=0&id=87c1a2b8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResSelector.vue?vue&type=style&index=0&id=87c1a2b8&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=style&index=0&id=e128543a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=style&index=0&id=e128543a&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceManager.vue?vue&type=style&index=0&id=391424e6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceManager.vue?vue&type=style&index=0&id=391424e6&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resource.vue?vue&type=style&index=0&id=df95f3c8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resource.vue?vue&type=style&index=0&id=df95f3c8&scoped=true&lang=css&\""],"sourceRoot":""}