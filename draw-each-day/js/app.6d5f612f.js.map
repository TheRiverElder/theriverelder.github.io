{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/App.vue?3e70","webpack:///./src/components/Card.vue?3c1a","webpack:///./src/config/affixes.js","webpack:///src/components/Card.vue","webpack:///./src/components/Card.vue?7cd0","webpack:///./src/components/Card.vue","webpack:///./src/util/random.js","webpack:///./src/util/unify.js","webpack:///./src/game/pattern-processer.js","webpack:///./src/assets/data/patterns.txt","webpack:///./src/game/core.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/Card.vue?ea5a","webpack:///./src/App.vue?abff"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","profile","account","directives","rawName","expression","domProps","on","$event","target","composing","price","enoughAccount","drawCard","storage","_e","_l","card","uid","staticRenderFns","ref","fullName","_m","address","artifact","story","id","text","color","weight","reduce","prev","affix","component","Dice","map","totalWeight","Math","random","acc","keys","randInt","max","min","floor","pickOne","array","uidGenerator","nextUid","namespace","tokenReg","tokenDeclareReg","emptyStringReg","compilePattern","line","last","compiledPattern","index","prevStr","substring","token","generatePhrase","args","exec","lastPhrase","compile","currentToken","lines","split","test","pattern","initialize","src","patterns","phrase","part","concat","diceAffix","checkAccount","amount","draw","payment","affixId","roll","affixes","role","values","forEach","put","components","Card","computed","methods","alert","Vue","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.6d5f612f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/draw-each-day/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"top-bar\"},[_c('p',{staticClass:\"top-bar-title\"},[_vm._v(\"阿卡姆侦探事务所\")]),_c('p',{staticClass:\"top-bar-content\"},[_vm._v(\"事务所账户余额：\"+_vm._s(_vm.profile.account))]),_c('p',[_vm._v(\"抽卡代价：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.price),expression:\"price\"}],staticClass:\"simple-hollow price-input\",attrs:{\"type\":\"number\",\"min\":\"1\",\"max\":_vm.profile.account,\"placeholder\":\"100\"},domProps:{\"value\":(_vm.price)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.price=$event.target.value}}}),_c('button',{staticClass:\"hollow\",attrs:{\"disabled\":!_vm.enoughAccount},on:{\"click\":_vm.drawCard}},[_vm._v(\"抽卡\")])]),_c('div',{staticClass:\"content\"},[(!_vm.profile.storage.length)?_c('p',[_vm._v(\"当前还没有任何卡片！\")]):_vm._e(),_vm._l((_vm.profile.storage),function(card){return _c('Card',{key:card.uid,attrs:{\"card\":card}})})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"root\",staticClass:\"card\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.fullName))]),_vm._m(0),_c('div',{staticClass:\"description\"},[_c('p',[_vm._v(\"住址：\"+_vm._s(_vm.address))]),_c('p',[_vm._v(\"神器：\"+_vm._s(_vm.artifact))]),_c('p',[_vm._v(_vm._s(_vm.story))])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"divider\"},[_c('div',{staticClass:\"divider-line\"}),_c('div',{staticClass:\"divider-content\"}),_c('div',{staticClass:\"divider-line\"})])}]\n\nexport { render, staticRenderFns }","export default [\r\n    {\r\n        id: 'normal',\r\n        text: '',\r\n        color: '#52a3cc',\r\n        weight: 30,\r\n    },\r\n    {\r\n        id: 'extraordinary',\r\n        text: '超凡',\r\n        color: '#ccbe52',\r\n        weight: 5,\r\n    },\r\n    {\r\n        id: 'dirty',\r\n        text: '污浊',\r\n        color: '#808080',\r\n        weight: 15,\r\n    },\r\n    {\r\n        id: 'blessed',\r\n        text: '神祝',\r\n        color: '#cc3547',\r\n        weight: 10,\r\n    },\r\n].reduce((prev, affix) => {\r\n    prev[affix.id] = affix;\r\n    return prev;\r\n}, {});","<template>\r\n    <div ref=\"root\" class=\"card\">\r\n        <div class=\"title\">{{ fullName }}</div>\r\n        <div class=\"divider\">\r\n            <div class=\"divider-line\"></div>\r\n            <div class=\"divider-content\"></div>\r\n            <div class=\"divider-line\"></div>\r\n        </div>\r\n        <div class=\"description\">\r\n            <p>住址：{{ address }}</p>\r\n            <p>神器：{{ artifact }}</p>\r\n            <p>{{ story }}</p>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import affixes from \"@/config/affixes\";\r\n\r\n    export default {\r\n        name: \"Card\",\r\n        props: ['card'],\r\n        data() {\r\n            return this.card;\r\n        },\r\n        computed: {\r\n            fullName() {\r\n                let affix = affixes[this.affixId];\r\n                return affix.text + this.name;\r\n            },\r\n        },\r\n        mounted() {\r\n            this.$refs.root.style.background = this.card.color;\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    .card {\r\n        width: 10em;\r\n        height: 22em;\r\n        padding: 1em;\r\n        border-radius: 1em;\r\n\r\n        background: darkgrey;\r\n        color: #FFFFFF;\r\n\r\n        display: flex;\r\n        flex-direction: column;\r\n        text-align: center;\r\n    }\r\n\r\n    .title {\r\n        font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n        font-size: 2em;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .description {\r\n        font-size: 1em;\r\n        text-align: left;\r\n    }\r\n\r\n    .description > * {\r\n        margin-top: 0;\r\n    }\r\n\r\n    .divider {\r\n        width: 100%;\r\n        margin: 1em 0;\r\n\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n    }\r\n\r\n    .divider-line {\r\n        flex: 1;\r\n        height: .25em;\r\n        padding: 0;\r\n        margin: 0;\r\n\r\n        background: #FFFFFF;\r\n    }\r\n\r\n    .divider-content {\r\n        width: .5em;\r\n        height: .5em;\r\n        border-radius: .25em;\r\n        padding: 0;\r\n        margin: 0 .5em;\r\n\r\n        background: #FFFFFF;\r\n    }\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Card.vue?vue&type=template&id=3ff8aa7f&scoped=true&\"\nimport script from \"./Card.vue?vue&type=script&lang=js&\"\nexport * from \"./Card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Card.vue?vue&type=style&index=0&id=3ff8aa7f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ff8aa7f\",\n  null\n  \n)\n\nexport default component.exports","/**\r\n * 由指定权重驱动的骰子\r\n */\r\nclass Dice {\r\n    constructor() {\r\n        this.map = {};\r\n        this.totalWeight = 0;\r\n    }\r\n\r\n    /**\r\n     * 设置权重\r\n     * 注意：指定的键必须是字符串，权重必须是正数，尽量使用整型数\r\n     * @param key 指定键\r\n     * @param weight 权重\r\n     */\r\n    put(key, weight) {\r\n        this.map[key] = weight;\r\n        this.totalWeight += weight;\r\n    }\r\n\r\n    /**\r\n     * 移除键及其对应权重\r\n     * @param key 要移除的键\r\n     */\r\n    remove(key) {\r\n        let weight = this.map[key];\r\n        delete this.map[key];\r\n        this.totalWeight -= weight;\r\n        return weight;\r\n    }\r\n\r\n\r\n    /**\r\n     * 进行一次投掷，投掷结果为注册时使用的键\r\n     * 若使用的是是浮点数，那么有可能由于浮点运算误差，造成结果为空\r\n     * @returns {string|null} 投掷结果\r\n     */\r\n    roll() {\r\n        let result = Math.random() * this.totalWeight;\r\n        let acc = 0;\r\n        for (let key of Object.keys(this.map)) {\r\n            let weight = this.map[key];\r\n            acc += weight;\r\n            if (acc > result) {\r\n                return key;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * 根据给定区间产生随机整型数\r\n * @param max 最大值（不包含）\r\n * @param min 最小值（包含）\r\n * @returns {number} 随机数结果\r\n */\r\nfunction randInt(max = 100, min = 0) {\r\n    return Math.floor(Math.random() * (max - min) + min);\r\n}\r\n\r\n/**\r\n * 从给定数组中选定一个元素并返回\r\n * @param array 给定数组\r\n * @returns {*} 随机的元素\r\n */\r\nfunction pickOne(array) {\r\n    return array[randInt(array.length)];\r\n}\r\n\r\n/**\r\n * 从给定数组中选择给定数量的随机元素\r\n * @param array 给定数组\r\n * @param amount 给定数量，必须不大于给定数组长度\r\n * @returns {any[]} 随机的元素集合\r\n */\r\nfunction pickSome(array, amount) {\r\n    amount = amount ? amount : randInt(array.length);\r\n    let copy = Array.from(array);\r\n    let result = Array(amount);\r\n    if (amount === array.length) {\r\n        return result;\r\n    }\r\n    for (let i = 0; i < amount; i++) {\r\n        let index = randInt(copy.length);\r\n        let elem = copy[index];\r\n        let tmp = copy.pop();\r\n        if (index !== copy.length -1) {\r\n            copy.splice(index, 1, tmp);\r\n        }\r\n        result[i] = elem;\r\n    }\r\n    return result;\r\n}\r\n\r\nexport {\r\n    Dice,\r\n    randInt,\r\n    pickOne,\r\n    pickSome,\r\n}","/**\r\n * 当前的UID生成器\r\n * @type {number}\r\n */\r\nlet uidGenerator = 1;\r\n\r\n/**\r\n * 生成下一个UID\r\n * @returns {number} 生成的UID\r\n */\r\nfunction nextUid() {\r\n    return uidGenerator++;\r\n}\r\n\r\n/**\r\n * 设置UID生成器\r\n * @param ig 新的UID生成器\r\n */\r\nfunction setUidGenerator(ug) {\r\n    uidGenerator = ug;\r\n}\r\n\r\nexport {\r\n    nextUid,\r\n    setUidGenerator,\r\n}","import {pickOne} from \"@/util/random\";\r\n\r\n/**\r\n * 命名空间\r\n * 其下包含token(string)与其对应pattern集(Array)\r\n * 而pattern为一串连续的phrase生成器，phrase生成器定义为：\r\n * () => string\r\n */\r\nlet namespace = {};\r\n\r\n// region 正则表达式\r\n// 名字与参数的正则\r\nlet tokenReg = /(\\[\\s*([0-9a-zA-Z_]+)\\s*])|(\\$(\\s*[0-9a-zA-Z_]+\\s*)\\$)/g;\r\n// 定义token的正则\r\nlet tokenDeclareReg = /^#\\s*([0-9a-zA-Z_]+)\\s*/g;\r\n// 空字符串或注释的正则\r\nlet emptyStringReg = /^\\s*(;.*)?$/;\r\n// endregion\r\n\r\n/**\r\n * 编译模板\r\n * @param line 原始模板字符串\r\n * @returns {[]} 编译后的模板\r\n */\r\nfunction compilePattern(line) {\r\n    let last = 0;\r\n    let compiledPattern = [];\r\n    let result = null;\r\n    while ((result = tokenReg.exec(line)) !== null) {\r\n        if (last < result.index) {\r\n            let prevStr = line.substring(last, result.index);\r\n            compiledPattern.push(() => prevStr);\r\n        }\r\n        last = result.index + result[0].length;\r\n        let token = result[2];\r\n        let name = result[4];\r\n        if (token) {\r\n            compiledPattern.push(() => generatePhrase(token));\r\n        } else if (name) {\r\n            compiledPattern.push(args => args[name]);\r\n        }\r\n    }\r\n    if (last < line.length) {\r\n        let lastPhrase = line.substring(last);\r\n        compiledPattern.push(() => lastPhrase);\r\n    }\r\n    return compiledPattern;\r\n}\r\n\r\n/**\r\n * 在读取到数据后对其进行编译\r\n * @param data 读取到的数据\r\n */\r\n// eslint-disable-next-line no-unused-vars\r\nfunction compile(data) {\r\n    let currentToken = null;\r\n    let lines = data.split(/\\r?\\n/g);\r\n    for (let line of lines) {\r\n        let result = tokenDeclareReg.exec(line);\r\n        if (result) {\r\n            currentToken = result[1];\r\n            namespace[currentToken] = [];\r\n        } else if (emptyStringReg.test(line)) {\r\n            continue;\r\n        } else {\r\n            let pattern = compilePattern(line);\r\n            namespace[currentToken].push(pattern);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 初始化命名空间\r\n * 从配置文件导入pattern\r\n * 并将其解析、填充到namespace中\r\n */\r\nfunction initialize(src) {\r\n    namespace = {};\r\n    compile(src)\r\n}\r\n\r\n/**\r\n * 根据token生成phrase\r\n * 从namespace中选取token对应的pattern集\r\n * 再从pattern集中随机选取一个\r\n * 由此pattern与args生成phrase\r\n * @param token 指定token\r\n * @param args 给定的参数，包含各种的参数\r\n * @returns {string}\r\n */\r\nfunction generatePhrase(token, args) {\r\n    let patterns = namespace[token];\r\n    let pattern = pickOne(patterns);\r\n    let phrase = '';\r\n    for (let part of pattern) {\r\n        phrase = phrase.concat(part.call(namespace, args));\r\n    }\r\n    return phrase;\r\n}\r\n\r\nexport {\r\n    initialize,\r\n    generatePhrase,\r\n}","export default \"# vehicle\\r\\n车\\r\\n公交车\\r\\n飞机\\r\\n游轮\\r\\n船\\r\\n\\r\\n# estate\\r\\n汽车旅馆\\r\\n水族馆\\r\\n动物园\\r\\n中央公园\\r\\n体育馆\\r\\n大学\\r\\n博物馆\\r\\n图书馆\\r\\n植物园\\r\\n金字塔\\r\\n祭坛\\r\\n上古石堆\\r\\n考古现场\\r\\n田\\r\\n小溪\\r\\n大河\\r\\n沼泽\\r\\n疯人院\\r\\n\\r\\n# furniture\\r\\n椅子\\r\\n桌子\\r\\n床\\r\\n衣柜\\r\\n橱柜\\r\\n门\\r\\n镜子\\r\\n洗手台\\r\\n电视机\\r\\n茶几\\r\\n摇椅\\r\\n衣橱\\r\\n沙发\\r\\n空调\\r\\n鞋柜\\r\\n保险箱\\r\\n\\r\\n# direction\\r\\n旁边\\r\\n外面\\r\\n内部\\r\\n前面\\r\\n下方\\r\\n左边\\r\\n右边\\r\\n后头\\r\\n之上\\r\\n\\r\\n# name\\r\\n克苏鲁\\r\\n奈亚子\\r\\n古老者\\r\\n格拉道斯\\r\\n福尔摩斯\\r\\n黑法老\\r\\n修格斯\\r\\n奇美拉\\r\\n优格索托斯\\r\\n黑山羊\\r\\n达贡\\r\\n\\r\\n# np\\r\\n派大星\\r\\n苍老师\\r\\n雪龙\\r\\n喵单\\r\\n男妈妈\\r\\n星语\\r\\n浅鸽\\r\\n\\r\\n\\r\\n# vc\\r\\n江子未\\r\\n双儿\\r\\n元气\\r\\n斯布特\\r\\n暴龙\\r\\n修师傅\\r\\n玄妹妹\\r\\n\\r\\n\\r\\n# arkham\\r\\n格拉姆\\r\\n奇迹\\r\\n萧然\\r\\n凉皮\\r\\n里德护士\\r\\n\\r\\n\\r\\n# toho\\r\\n大新文\\r\\n博丽灵梦\\r\\n辉夜姬\\r\\n芙兰朵路\\r\\n咲夜\\r\\n\\r\\n# role\\r\\n[np]\\r\\n\\r\\n# anyone\\r\\n[name]\\r\\n[role]\\r\\n[role]的朋友\\r\\n\\r\\n# location\\r\\n拉莱耶\\r\\n北落师门星\\r\\n阿卡姆\\r\\n英斯茅斯\\r\\n未孕寨\\r\\n埃及\\r\\n玛雅遗址\\r\\n亚述古迹\\r\\n华盛顿\\r\\n波士顿\\r\\n\\r\\n# site\\r\\n[location]的[estate]\\r\\n[location]\\r\\n[role]的家\\r\\n[role]的密室\\r\\n[location]的[estate]的密室\\r\\n\\r\\n# place\\r\\n[furniture]\\r\\n[vehicle]\\r\\n[estate]\\r\\n[role]的[vehicle]\\r\\n[role]家的[furniture]\\r\\n[role]家[direction]\\r\\n\\r\\n# adj\\r\\n漂亮的\\r\\n邪恶的\\r\\n美丽的\\r\\n不可名状的\\r\\n外形特异的\\r\\n混沌的\\r\\n令人作呕的\\r\\n黏糊糊的\\r\\n有放射性的\\r\\n绿色\\r\\n红色\\r\\n白色\\r\\n闪耀着光点的\\r\\n深邃黑暗的\\r\\n古老\\r\\n肮脏\\r\\n污秽\\r\\n风之\\r\\n火之\\r\\n带电\\r\\n\\r\\n# item\\r\\n锤子\\r\\n雕塑\\r\\n泥像\\r\\n人偶\\r\\n神像\\r\\n画布\\r\\n油画\\r\\n相片\\r\\n笔记本\\r\\n锤子\\r\\n陶瓷盘子\\r\\n金属圆环\\r\\n丝线\\r\\n玻璃制品\\r\\n书\\r\\n剪刀\\r\\n橡树子\\r\\n布匹\\r\\n木雕\\r\\n玉器\\r\\n罗盘\\r\\n地图\\r\\n匕首\\r\\n羊皮纸\\r\\n\\r\\n# object\\r\\n[name]之[item]\\r\\n[name]的[item]\\r\\n[role]的[item]\\r\\n[role]朋友的[item]\\r\\n[adj][item]\\r\\n[adj][item]\\r\\n\\r\\n# reason\\r\\n大爆炸\\r\\n离奇死亡\\r\\n凭空而生的浓雾\\r\\n械斗\\r\\n意外\\r\\n过激言论\\r\\n不速之客的来访\\r\\n坠亡事件\\r\\n怪人的出现\\r\\n恐怖事件\\r\\n夏日里的飞雪\\r\\n海啸\\r\\n泥石流\\r\\n\\r\\n# full_reason\\r\\n考古学家们在[site]的[place]发现了[object]\\r\\n[role]染上了恶疾，终将不久于人世\\r\\n[location]的惊天奇案\\r\\n[location]的[object]被盗\\r\\n[role]曾收藏过的一个[object]离奇失踪\\r\\n[role]离奇死亡\\r\\n[role]死后留下了一笔不菲的遗产\\r\\n[role]在临终前留下了有关[object]的嘱托\\r\\n[role]葬礼上的[event]\\r\\n一次[event]\\r\\n在[site]发生的[event]\\r\\n缺钱\\r\\n受[role]所托\\r\\n不堪忍受[role]的压迫\\r\\n在[name]的神殿遇见了[anyone]\\r\\n\\r\\n# start\\r\\n[reason]\\r\\n[full_reason]\\r\\n\\r\\n# progress\\r\\n在[place]找到了[object]\\r\\n穿越了[site]，来到[site]\\r\\n离开了[site]\\r\\n与[role]展开了殊死搏斗\\r\\n加入了[role]一行人\\r\\n救下了[role]\\r\\n来到了[site]\\r\\n经历了各种困难险阻\\r\\n毁灭了[object]\\r\\n被[object]蛊惑\\r\\n走了些弯路\\r\\n掉落山崖\\r\\n掌控了[object]中的魔力\\r\\n释放了被囚禁于[object]中的[anyone]的灵魂\\r\\n实现了[anyone]的愿望\\r\\n完成了[location]领主的委托\\r\\n\\r\\n# end\\r\\n彻底疯了\\r\\n死于非命\\r\\n死于[anyone]之手\\r\\n被[object]救了一命\\r\\n被[anyone]救了一命\\r\\n被[role]用[object]救了一命\\r\\n放弃了思考\\r\\n发现了与[anyone]有关的真相\\r\\n发现了与[location]有关的事实\\r\\n选择了加入[role]\\r\\n了却了自己的一生\\r\\n打败了[anyone]\\r\\n在[place]战胜了[adj][anyone]而获得了自由\\r\\n与[role]喜结连理，并幸福地生活着\\r\\n用[object]结束了自己地一生\\r\\n\\r\\n# story\\r\\n由于[start]，$role$不得不开始探索。在[progress]之后，$role$[end]。\\r\\n[start]之后，$role$开始了旅程。先是[progress]，而后又[progress]，最后$role$[end]。\\r\\n因为[start]，$role$[progress]，然后，$role$[end]。\\r\\n[role]告诉$role$，他见证了[start]，$role$[progress]，然后，$role$[end]。\\r\\n[start]，迫使$role$[progress]，以至于$role$[end]。\\r\\n$role$曾经因[start]，而[progress]，现在却又不得不[progress]，又因为$role$[progress]，终于[end]。\\r\\n$role$曾向人讲述[name][progress]的故事，现在这事降临到自己身上，这次$role$[progress]，最后[end]。\\r\\n人们发现$role$[end]，经过调查发现原来$role$曾经[progress]，而一切的起因是[start]。\\r\\n$role$曾[progress]，最后[end]，经过调查，起因是[start]。\\r\\n迫于[start]，$role$最后[end]，而为此$role$甚至[progress]。\";","import {Dice} from '../util/random.js';\r\nimport affixes from '../config/affixes.js';\r\nimport {nextUid} from \"@/util/unify\";\r\nimport {generatePhrase, initialize} from \"@/game/pattern-processer\";\r\nimport patterns from '@/assets/data/patterns.txt';\r\n\r\n\r\n/**\r\n * 根据词缀的权重制作的骰子\r\n * @type {Dice}\r\n */\r\nlet diceAffix = new Dice();\r\n\r\n/**\r\n * 当前玩家的资料包括其仓库以及账户余额\r\n * @type {{storage: [], account: number}}\r\n */\r\nlet profile = {\r\n    storage: [], // 存放所有已有卡牌的仓库\r\n    account: 1000, // 账户剩余金额\r\n};\r\n\r\n/**\r\n * 检查账户余额是否充足\r\n * @param amount 所需余额\r\n * @returns {boolean} 检查结果\r\n */\r\nfunction checkAccount(amount) {\r\n    return profile.account >= amount;\r\n}\r\n\r\n/**\r\n * 以给定金额为代价，进行抽卡。若成功则返回卡牌，否则返回null\r\n * @param payment 给定金额\r\n * @returns {null} 抽到的卡牌或空\r\n */\r\nfunction draw(payment) {\r\n    if (checkAccount(payment)) {\r\n        profile.account -= payment;\r\n\r\n        let affixId = diceAffix.roll();\r\n        let affix = affixes[affixId];\r\n        let name = generatePhrase('role');\r\n\r\n        let card = {\r\n            uid: nextUid(),\r\n            affixId: affix.id,\r\n            name: name,\r\n            story: generatePhrase('story', {role: name}),\r\n            address: generatePhrase('site', {role: name}),\r\n            artifact: generatePhrase('object', {role: name}),\r\n            color: affix.color,\r\n        };\r\n        profile.storage.push(card);\r\n        return card;\r\n    }\r\n    return null;\r\n}\r\n\r\n// region 必要的初始化\r\nObject.values(affixes).forEach(affix => diceAffix.put(affix.id, affix.weight));\r\ninitialize(patterns);\r\n// endregion\r\n\r\nexport {\r\n    profile,\r\n    draw,\r\n    checkAccount,\r\n};","<template>\n  <div id=\"app\">\n    <div class=\"top-bar\">\n      <p class=\"top-bar-title\">阿卡姆侦探事务所</p>\n      <p class=\"top-bar-content\">事务所账户余额：{{ profile.account }}</p>\n      <p>抽卡代价：</p>\n      <input class=\"simple-hollow price-input\"\n             type=\"number\"\n             min=\"1\"\n             :max=\"profile.account\"\n             v-model=\"price\"\n             placeholder=\"100\"/>\n      <button class=\"hollow\" :disabled=\"!enoughAccount\" @click=\"drawCard\">抽卡</button>\n    </div>\n    <div class=\"content\">\n      <p v-if=\"!profile.storage.length\">当前还没有任何卡片！</p>\n      <Card v-for=\"card of profile.storage\" :key=\"card.uid\" :card=\"card\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Card from './components/Card.vue'\nimport {profile, draw} from './game/core.js'\nimport {checkAccount} from \"./game/core\";\n\nexport default {\n  name: 'app',\n  components: {\n    Card,\n  },\n  data() {\n    return {\n      profile: profile,\n      price: 100,\n    };\n  },\n  computed: {\n    enoughAccount() {\n      return this.price > 0 &&  checkAccount(this.price);\n    }\n  },\n  methods: {\n    drawCard() {\n      if (!draw(this.price)) {\n        alert(\"余额不足！\");\n      }\n    }\n  },\n\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n\n  display: flex;\n  flex-direction: column;\n}\n\n  html, body, #app {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n  }\n\n  .top-bar {\n    width: 100%;\n    padding: 1em 2em;\n    box-sizing: border-box;\n\n    background: #42b983;\n    color: #FFFFFF;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  .top-bar-title {\n    font-size: 1.5em;\n    margin: 0 1em;\n  }\n\n  .top-bar-content {\n    flex: 1;\n    text-align: left;\n  }\n\n  .price-input {\n    margin-right: 2em;\n    width: 4em;\n    text-align: center;\n  }\n\n  .content {\n    width: 100%;\n    flex: 1;\n    padding: 1em;\n    box-sizing: border-box;\n\n\n    display: flex;\n    flex-direction: row;\n    overflow-x: scroll;\n  }\n\n  .content > * {\n    margin-left: .5em;\n    margin-right: .5em;\n    flex-shrink: 0;\n  }\n\n  .error {\n    color: #ff4040;\n  }\n</style>\n\n<style>\n  button, input {\n    height: 2em;\n    padding: .3em 1em;\n    border-radius: 1em;\n    border-width: 0;\n    border-style: solid;\n    outline: none;\n\n    background: #42b983;\n    color: #FFFFFF;\n\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\n    font-weight: bold;\n    font-size: 1em;\n\n    user-select: none;\n  }\n\n  input {\n    height: 1.2em;\n  }\n\n  button:hover {\n    background: #64b989;\n  }\n\n  button:active {\n    background: #268050;\n  }\n\n  button:disabled {\n    background: #808080;\n  }\n\n  .hollow, .simple-hollow {\n    border-width: .1em;\n    border-color: #42b983;\n\n    background: #FFFFFF;\n    color: #42b983;\n  }\n\n  .hollow:hover {\n    border-color: #268050;\n\n    background: #cccccc;\n    color: #268050;\n  }\n\n  .hollow:active {\n    border-color: #64b989;\n\n    background: #cccccc;\n    color: #64b989;\n  }\n\n  .hollow:disabled {\n    border-color: #808080;\n\n    background: #cccccc;\n    color: #808080;\n  }\n\n\n\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=07611b86&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=3ff8aa7f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=3ff8aa7f&scoped=true&lang=css&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&lang=css&\""],"sourceRoot":""}