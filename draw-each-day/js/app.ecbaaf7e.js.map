{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/Settings.vue?cff3","webpack:///./src/components/Overlay.vue?85a1","webpack:///./src/App.vue?9b34","webpack:///./src/components/Card.vue?3c1a","webpack:///./src/config/affixes.js","webpack:///src/components/Card.vue","webpack:///./src/components/Card.vue?7cd0","webpack:///./src/components/Card.vue","webpack:///./src/components/TopBar.vue?dfc3","webpack:///src/components/TopBar.vue","webpack:///./src/components/TopBar.vue?4287","webpack:///./src/components/TopBar.vue","webpack:///./src/components/Overlay.vue?2ab3","webpack:///src/components/Overlay.vue","webpack:///./src/components/Overlay.vue?3525","webpack:///./src/components/Overlay.vue","webpack:///./src/components/Settings.vue?5302","webpack:///src/components/Settings.vue","webpack:///./src/components/Settings.vue?32cf","webpack:///./src/components/Settings.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/util/random.js","webpack:///./src/game/data.js","webpack:///./src/util/unify.js","webpack:///./src/game/pattern-processer.js","webpack:///./src/assets/data/patterns.txt","webpack:///./src/game/core.js","webpack:///./src/plugins/draw-each-day.js","webpack:///./src/main.js","webpack:///./src/components/Card.vue?ea5a","webpack:///./src/App.vue?abff","webpack:///./src/components/TopBar.vue?6aea"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","profile","storage","_e","_v","_l","card","uid","on","$event","configureSettings","staticRenderFns","ref","_s","fullName","_m","address","artifact","story","id","text","color","weight","reduce","prev","affix","component","class","topBarClass","account","canDraw","drawCard","directives","rawName","settings","expression","domProps","target","composing","$set","$emit","_t","Array","isArray","darkMode","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","autoDraw","cost","components","Settings","Overlay","TopBar","Card","$profile","$settings","Dice","map","totalWeight","Math","random","acc","keys","randInt","max","min","floor","pickOne","array","luck","lastDraw","todayDraw","drawResult","other","uidGenerator","nextUid","namespace","tokenReg","tokenDeclareReg","emptyStringReg","compilePattern","line","last","compiledPattern","index","prevStr","substring","token","generatePhrase","args","exec","lastPhrase","compile","currentToken","lines","split","test","pattern","initialize","src","patterns","phrase","part","diceAffix","checkAccount","amount","draw","payment","now","Date","affixId","roll","affixes","role","timestamp","LOCAL_STORAGE_KEY","loadData","json","JSON","parse","localStorage","getItem","assign","saveData","stringify","setItem","isNewDay","today","lastDrawDay","onNewDay","makeAffixDice","initializeGame","computedLuck","clear","values","forEach","put","install","Vue","$draw","$checkAccount","$saveData","use","drawEachDay","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.ecbaaf7e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/draw-each-day/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=82c83b48&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=82c83b48&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Overlay.vue?vue&type=style&index=0&id=00f952ae&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Overlay.vue?vue&type=style&index=0&id=00f952ae&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('TopBar',{attrs:{\"title\":\"阿卡姆事务局\"}}),_c('div',{staticClass:\"content\"},[(!_vm.profile.storage.length)?_c('p',[_vm._v(\"当前还没有任何卡片！\")]):_vm._e(),_vm._l((_vm.profile.storage),function(card){return _c('Card',{key:card.uid,attrs:{\"card\":card}})})],2),(_vm.configureSettings)?_c('Overlay',{on:{\"exit-overlay\":function($event){_vm.configureSettings = false}}},[_c('Settings')],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"root\",staticClass:\"card\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.fullName))]),_vm._m(0),_c('div',{staticClass:\"description\"},[_c('p',[_vm._v(\"住址：\"+_vm._s(_vm.address))]),_c('p',[_vm._v(\"神器：\"+_vm._s(_vm.artifact))]),_c('p',[_vm._v(_vm._s(_vm.story))])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"divider\"},[_c('div',{staticClass:\"divider-line\"}),_c('div',{staticClass:\"divider-content\"}),_c('div',{staticClass:\"divider-line\"})])}]\n\nexport { render, staticRenderFns }","export default [\r\n    {\r\n        id: 'normal',\r\n        text: '',\r\n        color: '#52a3cc',\r\n        weight: 30,\r\n    },\r\n    {\r\n        id: 'extraordinary',\r\n        text: '超凡',\r\n        color: '#ccbe52',\r\n        weight: 5,\r\n    },\r\n    {\r\n        id: 'dirty',\r\n        text: '污浊',\r\n        color: '#808080',\r\n        weight: 15,\r\n    },\r\n    {\r\n        id: 'blessed',\r\n        text: '神祝',\r\n        color: '#cc3547',\r\n        weight: 10,\r\n    },\r\n].reduce((prev, affix) => {\r\n    prev[affix.id] = affix;\r\n    return prev;\r\n}, {});","<template>\r\n    <div ref=\"root\" class=\"card\">\r\n        <div class=\"title\">{{ fullName }}</div>\r\n        <div class=\"divider\">\r\n            <div class=\"divider-line\"></div>\r\n            <div class=\"divider-content\"></div>\r\n            <div class=\"divider-line\"></div>\r\n        </div>\r\n        <div class=\"description\">\r\n            <p>住址：{{ address }}</p>\r\n            <p>神器：{{ artifact }}</p>\r\n            <p>{{ story }}</p>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import affixes from \"@/config/affixes\";\r\n\r\n    export default {\r\n        name: \"Card\",\r\n        props: ['card'],\r\n        data() {\r\n            return this.card;\r\n        },\r\n        computed: {\r\n            fullName() {\r\n                let affix = affixes[this.affixId];\r\n                return affix.text + this.name;\r\n            },\r\n        },\r\n        mounted() {\r\n            this.$refs.root.style.background = this.card.color;\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    .card {\r\n        width: 10em;\r\n        height: 22em;\r\n        padding: 1em;\r\n        border-radius: 1em;\r\n\r\n        background: darkgrey;\r\n        color: #FFFFFF;\r\n\r\n        display: flex;\r\n        flex-direction: column;\r\n        text-align: center;\r\n    }\r\n\r\n    .title {\r\n        font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n        font-size: 2em;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .description {\r\n        font-size: 1em;\r\n        text-align: left;\r\n    }\r\n\r\n    .description > * {\r\n        margin-top: 0;\r\n    }\r\n\r\n    .divider {\r\n        width: 100%;\r\n        margin: 1em 0;\r\n\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n    }\r\n\r\n    .divider-line {\r\n        flex: 1;\r\n        height: .25em;\r\n        padding: 0;\r\n        margin: 0;\r\n\r\n        background: #FFFFFF;\r\n    }\r\n\r\n    .divider-content {\r\n        width: .5em;\r\n        height: .5em;\r\n        border-radius: .25em;\r\n        padding: 0;\r\n        margin: 0 .5em;\r\n\r\n        background: #FFFFFF;\r\n    }\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Card.vue?vue&type=template&id=3ff8aa7f&scoped=true&\"\nimport script from \"./Card.vue?vue&type=script&lang=js&\"\nexport * from \"./Card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Card.vue?vue&type=style&index=0&id=3ff8aa7f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ff8aa7f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"topBar\",class:_vm.topBarClass},[_c('p',{staticClass:\"top-bar-title\"},[_vm._v(\"阿卡姆侦探事务所\")]),_c('p',{staticClass:\"top-bar-content\"},[_vm._v(\"账户余额：\"+_vm._s(_vm.profile.account))]),_c('div',{staticClass:\"draw-panel\"},[_c('button',{staticClass:\"hollow\",attrs:{\"disabled\":!_vm.canDraw},on:{\"click\":_vm.drawCard}},[_vm._v(\"抽卡\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.settings.cost),expression:\"settings.cost\"}],staticClass:\"price-input\",attrs:{\"type\":\"number\",\"min\":\"1\",\"max\":_vm.profile.account,\"placeholder\":\"抽卡消耗\"},domProps:{\"value\":(_vm.settings.cost)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.settings, \"cost\", $event.target.value)}}}),_c('p',[_vm._v(\"消耗：\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div :class=\"topBarClass\" ref=\"topBar\">\r\n        <p class=\"top-bar-title\">阿卡姆侦探事务所</p>\r\n        <p class=\"top-bar-content\">账户余额：{{ profile.account }}</p>\r\n        <div class=\"draw-panel\">\r\n            <button class=\"hollow\" :disabled=\"!canDraw\" @click=\"drawCard\">抽卡</button>\r\n            <input class=\"price-input\"\r\n                   type=\"number\"\r\n                   min=\"1\"\r\n                   :max=\"profile.account\"\r\n                   v-model=\"settings.cost\"\r\n                   placeholder=\"抽卡消耗\"/>\r\n            <p>消耗：</p>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    export default {\r\n        name: \"TopBar\",\r\n        props: {\r\n            title: {\r\n                type: String,\r\n                required: true,\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                settings: this.$settings,\r\n                profile: this.$profile,\r\n                mobile: false,\r\n            }\r\n        },\r\n        computed: {\r\n            canDraw() {\r\n                return this.settings.cost > 0 && this.$checkAccount(this.settings.cost) && !this.profile.todayDraw;\r\n            },\r\n\r\n            topBarClass() {\r\n                return (this.mobile ? 'mobile-' : '') + 'top-bar';\r\n            },\r\n        },\r\n        methods: {\r\n            drawCard() {\r\n                let err = this.$draw();\r\n                if (err) {\r\n                    alert(err);\r\n                } else {\r\n                    this.$saveData();\r\n                }\r\n            }\r\n        },\r\n        mounted() {\r\n            let width = this.$refs.topBar.clientWidth;\r\n            let fontSize = parseInt(getComputedStyle(this.$refs.topBar).fontSize);\r\n            this.mobile = (width < fontSize * 30);\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .top-bar {\r\n        width: 100%;\r\n        padding: 1em 2em;\r\n        box-sizing: border-box;\r\n\r\n        background: #42b983;\r\n        color: #FFFFFF;\r\n\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n    }\r\n\r\n    .mobile-top-bar {\r\n        width: 100%;\r\n        padding: 1em 2em;\r\n        box-sizing: border-box;\r\n\r\n        background: #42b983;\r\n        color: #FFFFFF;\r\n    }\r\n\r\n    .mobile-top-bar > * {\r\n        display: inline-block;\r\n    }\r\n\r\n    .top-bar-title {\r\n        font-size: 1.5em;\r\n        margin: 0 1em;\r\n    }\r\n\r\n    .top-bar-content {\r\n        flex: 1;\r\n        text-align: left;\r\n    }\r\n\r\n    .draw-panel {\r\n        margin: auto;\r\n        text-align: center;\r\n\r\n        display: flex;\r\n        flex-direction: row-reverse;\r\n        align-items: center;\r\n    }\r\n\r\n    .price-input {\r\n        margin-right: 2em;\r\n        width: 4em;\r\n        text-align: center;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TopBar.vue?vue&type=template&id=1463a5aa&scoped=true&\"\nimport script from \"./TopBar.vue?vue&type=script&lang=js&\"\nexport * from \"./TopBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TopBar.vue?vue&type=style&index=0&id=1463a5aa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1463a5aa\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"overlay\"},[_c('div',{staticClass:\"cancel\",on:{\"click\":function($event){return _vm.$emit('exit-overlay')}}}),_c('div',{staticClass:\"content\"},[_vm._t(\"default\",[_vm._v(\"overlay\")])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"overlay\">\r\n        <div class=\"cancel\" @click=\"$emit('exit-overlay')\"></div>\r\n        <div class=\"content\">\r\n            <slot>overlay</slot>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Overlay\",\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .overlay {\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        padding: 0;\r\n        margin: 0;\r\n        box-sizing: border-box;\r\n\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n\r\n        background: #00000055;\r\n\r\n        text-align: center;\r\n        padding: 1em;\r\n    }\r\n\r\n    .cancel {\r\n        width: 3em;\r\n        height: 3em;\r\n        padding: 0;\r\n        margin: 0;\r\n        box-sizing: border-box;\r\n\r\n        border-radius: 1.5em;\r\n        background: #FFFFFF;\r\n        border: #42b983 solid .2em;\r\n    }\r\n\r\n    .content {\r\n        width: 100%;\r\n        flex: 1;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Overlay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Overlay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Overlay.vue?vue&type=template&id=00f952ae&scoped=true&\"\nimport script from \"./Overlay.vue?vue&type=script&lang=js&\"\nexport * from \"./Overlay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Overlay.vue?vue&type=style&index=0&id=00f952ae&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00f952ae\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"settings\"},[_c('table',[_c('tbody',{staticClass:\"setting-item-list\"},[_c('tr',[_c('td',[_vm._v(\"夜间模式\")]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.darkMode),expression:\"darkMode\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.darkMode)?_vm._i(_vm.darkMode,null)>-1:(_vm.darkMode)},on:{\"change\":function($event){var $$a=_vm.darkMode,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.darkMode=$$a.concat([$$v]))}else{$$i>-1&&(_vm.darkMode=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.darkMode=$$c}}}})])]),_c('tr',[_c('td',[_vm._v(\"自动抽卡\")]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.autoDraw),expression:\"autoDraw\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.autoDraw)?_vm._i(_vm.autoDraw,null)>-1:(_vm.autoDraw)},on:{\"change\":function($event){var $$a=_vm.autoDraw,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.autoDraw=$$a.concat([$$v]))}else{$$i>-1&&(_vm.autoDraw=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.autoDraw=$$c}}}})])]),_c('tr',[_c('td',[_vm._v(\"消耗\")]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cost),expression:\"cost\"}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.cost)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.cost=$event.target.value}}})])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"settings\">\r\n        <table>\r\n            <tbody class=\"setting-item-list\">\r\n            <tr>\r\n                <td>夜间模式</td>\r\n                <td><input type=\"checkbox\" v-model=\"darkMode\"/></td>\r\n            </tr>\r\n            <tr>\r\n                <td>自动抽卡</td>\r\n                <td><input type=\"checkbox\" v-model=\"autoDraw\"/></td>\r\n            </tr>\r\n            <tr>\r\n                <td>消耗</td>\r\n                <td><input type=\"number\" v-model=\"cost\"/></td>\r\n            </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Settings\",\r\n        data() {\r\n            return this.$settings;\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .settings {\r\n        width: 100%;\r\n        background: #FFFFFF;\r\n    }\r\n\r\n    .setting-item-list > * {\r\n        border: #2c3e50 solid 0;\r\n        border-bottom: .1em;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=82c83b48&scoped=true&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&id=82c83b48&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"82c83b48\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <TopBar title=\"阿卡姆事务局\" />\n    <div class=\"content\">\n      <p v-if=\"!profile.storage.length\">当前还没有任何卡片！</p>\n      <Card v-for=\"card of profile.storage\" :key=\"card.uid\" :card=\"card\"/>\n    </div>\n    <Overlay v-if=\"configureSettings\" @exit-overlay=\"configureSettings = false\">\n      <Settings />\n    </Overlay>\n  </div>\n</template>\n\n<script>\nimport Card from '@/components/Card.vue'\nimport TopBar from \"@/components/TopBar\";\nimport Overlay from \"@/components/Overlay\";\nimport Settings from \"@/components/Settings\";\n\nexport default {\n  name: 'app',\n  components: {\n    Settings,\n    Overlay,\n    TopBar,\n    Card,\n  },\n  data() {\n    return {\n      profile: this.$profile,\n      settings: this.$settings,\n      configureSettings: false,\n    };\n  },\n\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n\n  display: flex;\n  flex-direction: column;\n}\n\n  html, body, #app {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n  }\n\n  .content {\n    width: 100%;\n    flex: 1;\n    padding: 1em;\n    box-sizing: border-box;\n\n\n    display: flex;\n    flex-direction: row;\n    overflow-x: scroll;\n  }\n\n  .content > * {\n    margin-left: .5em;\n    margin-right: .5em;\n    flex-shrink: 0;\n  }\n\n  .error {\n    color: #ff4040;\n  }\n</style>\n\n<style>\n  button {\n    height: 2em;\n    padding: .3em 1em;\n    border-radius: 1em;\n    border-width: 0;\n    border-style: solid;\n    outline: none;\n\n    background: #42b983;\n    color: #FFFFFF;\n\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\n    font-weight: bold;\n    font-size: 1em;\n\n    user-select: none;\n  }\n\n  input {\n    height: 1.2em;\n    padding: .3em 1em;\n    border-radius: 1em;\n    border-width: .1em;\n    border-style: solid;\n    outline: none;\n\n    background: #FFFFFF;\n    color: #42b983;\n    border-color: #42b983;\n\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\n    font-weight: bold;\n    font-size: 1em;\n  }\n\n  button:hover {\n    background: #64b989;\n  }\n\n  button:active {\n    background: #268050;\n  }\n\n  button:disabled {\n    background: #808080;\n  }\n\n  .hollow:hover {\n    border-color: #268050;\n\n    background: #cccccc;\n    color: #268050;\n  }\n\n  .hollow:active {\n    border-color: #64b989;\n\n    background: #cccccc;\n    color: #64b989;\n  }\n\n  .hollow:disabled {\n    border-color: #808080;\n\n    background: #cccccc;\n    color: #808080;\n  }\n\n\n\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=637e7654&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\r\n * 由指定权重驱动的骰子\r\n */\r\nclass Dice {\r\n    constructor() {\r\n        this.map = {};\r\n        this.totalWeight = 0;\r\n    }\r\n\r\n    /**\r\n     * 设置权重\r\n     * 注意：指定的键必须是字符串，权重必须是正数，尽量使用整型数\r\n     * @param key 指定键\r\n     * @param weight 权重\r\n     */\r\n    put(key, weight) {\r\n        this.map[key] = weight;\r\n        this.totalWeight += weight;\r\n    }\r\n\r\n    /**\r\n     * 移除键及其对应权重\r\n     * @param key 要移除的键\r\n     */\r\n    remove(key) {\r\n        let weight = this.map[key];\r\n        delete this.map[key];\r\n        this.totalWeight -= weight;\r\n        return weight;\r\n    }\r\n\r\n\r\n    /**\r\n     * 进行一次投掷，投掷结果为注册时使用的键\r\n     * 若使用的是是浮点数，那么有可能由于浮点运算误差，造成结果为空\r\n     * @returns {string|null} 投掷结果\r\n     */\r\n    roll() {\r\n        let result = Math.random() * this.totalWeight;\r\n        let acc = 0;\r\n        for (let key of Object.keys(this.map)) {\r\n            let weight = this.map[key];\r\n            acc += weight;\r\n            if (acc > result) {\r\n                return key;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 清空内部所有注册的键与权重\r\n     */\r\n    clear() {\r\n        this.map = {};\r\n        this.totalWeight = 0;\r\n    }\r\n}\r\n\r\n/**\r\n * 根据给定区间产生随机整型数\r\n * @param max 最大值（不包含）\r\n * @param min 最小值（包含）\r\n * @returns {number} 随机数结果\r\n */\r\nfunction randInt(max = 100, min = 0) {\r\n    return Math.floor(Math.random() * (max - min) + min);\r\n}\r\n\r\n/**\r\n * 从给定数组中选定一个元素并返回\r\n * @param array 给定数组\r\n * @returns {*} 随机的元素\r\n */\r\nfunction pickOne(array) {\r\n    return array[randInt(array.length)];\r\n}\r\n\r\n/**\r\n * 从给定数组中选择给定数量的随机元素\r\n * @param array 给定数组\r\n * @param amount 给定数量，必须不大于给定数组长度\r\n * @returns {any[]} 随机的元素集合\r\n */\r\nfunction pickSome(array, amount) {\r\n    amount = amount ? amount : randInt(array.length);\r\n    let copy = Array.from(array);\r\n    let result = Array(amount);\r\n    if (amount === array.length) {\r\n        return result;\r\n    }\r\n    for (let i = 0; i < amount; i++) {\r\n        let index = randInt(copy.length);\r\n        let elem = copy[index];\r\n        let tmp = copy.pop();\r\n        if (index !== copy.length -1) {\r\n            copy.splice(index, 1, tmp);\r\n        }\r\n        result[i] = elem;\r\n    }\r\n    return result;\r\n}\r\n\r\nexport {\r\n    Dice,\r\n    randInt,\r\n    pickOne,\r\n    pickSome,\r\n}","\r\nlet data = {\r\n    // 当前玩家的资料包括其仓库以及账户余额\r\n    profile: {\r\n        storage: [], // 存放所有已有卡牌的仓库\r\n        account: 0, // 账户剩余金额\r\n        luck: 0.5, // 幸运值，介于0到1之间，影响抽卡\r\n        lastDraw: 0, // 最后一次抽卡时间\r\n        todayDraw: false, // 今日是否抽过卡\r\n        drawResult: 0, // 最新抽的卡牌 // 先存放在这，若用户接受再转入storage\r\n    },\r\n    // 当前设备上的设置\r\n    settings: {\r\n        darkMode: false, // 黑夜模式\r\n        autoDraw: false, // 每次启动的时候，自动抽卡\r\n        cost: 100, // 每次抽卡的消耗\r\n    },\r\n    other: {\r\n        uidGenerator: 1,\r\n    },\r\n};\r\n\r\nexport default data;","import data from \"@/game/data\";\r\n\r\n\r\n/**\r\n * 生成下一个UID\r\n * @returns {number} 生成的UID\r\n */\r\nfunction nextUid() {\r\n    return data.other.uidGenerator++;\r\n}\r\n\r\nexport {\r\n    nextUid,\r\n}","import {pickOne} from \"@/util/random\";\r\n\r\n/**\r\n * 命名空间\r\n * 其下包含token(string)与其对应pattern集(Array)\r\n * 而pattern为一串连续的phrase生成器，phrase生成器定义为：\r\n * () => string\r\n */\r\nlet namespace = {};\r\n\r\n// region 正则表达式\r\n// 名字与参数的正则\r\nlet tokenReg = /(\\[\\s*([0-9a-zA-Z_]+)\\s*])|(\\$(\\s*[0-9a-zA-Z_]+\\s*)\\$)/g;\r\n// 定义token的正则\r\nlet tokenDeclareReg = /^#\\s*([0-9a-zA-Z_]+)\\s*/g;\r\n// 空字符串或注释的正则\r\nlet emptyStringReg = /^\\s*(;.*)?$/;\r\n// endregion\r\n\r\n/**\r\n * 编译模板\r\n * @param line 原始模板字符串\r\n * @returns {[]} 编译后的模板\r\n */\r\nfunction compilePattern(line) {\r\n    let last = 0;\r\n    let compiledPattern = [];\r\n    let result = null;\r\n    while ((result = tokenReg.exec(line)) !== null) {\r\n        if (last < result.index) {\r\n            let prevStr = line.substring(last, result.index);\r\n            compiledPattern.push(() => prevStr);\r\n        }\r\n        last = result.index + result[0].length;\r\n        let token = result[2];\r\n        let name = result[4];\r\n        if (token) {\r\n            compiledPattern.push(() => generatePhrase(token));\r\n        } else if (name) {\r\n            compiledPattern.push(args => args[name]);\r\n        }\r\n    }\r\n    if (last < line.length) {\r\n        let lastPhrase = line.substring(last);\r\n        compiledPattern.push(() => lastPhrase);\r\n    }\r\n    return compiledPattern;\r\n}\r\n\r\n/**\r\n * 在读取到数据后对其进行编译\r\n * @param data 读取到的数据\r\n */\r\n// eslint-disable-next-line no-unused-vars\r\nfunction compile(data) {\r\n    let currentToken = null;\r\n    let lines = data.split(/\\r?\\n/g);\r\n    for (let line of lines) {\r\n        let result = tokenDeclareReg.exec(line);\r\n        if (result) {\r\n            currentToken = result[1];\r\n            namespace[currentToken] = [];\r\n        } else if (emptyStringReg.test(line)) {\r\n            continue;\r\n        } else {\r\n            let pattern = compilePattern(line);\r\n            namespace[currentToken].push(pattern);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 初始化命名空间\r\n * 从配置文件导入pattern\r\n * 并将其解析、填充到namespace中\r\n */\r\nfunction initialize(src) {\r\n    namespace = {};\r\n    compile(src)\r\n}\r\n\r\n/**\r\n * 根据token生成phrase\r\n * 从namespace中选取token对应的pattern集\r\n * 再从pattern集中随机选取一个\r\n * 由此pattern与args生成phrase\r\n * @param token 指定token\r\n * @param args 给定的参数，包含各种的参数\r\n * @returns {string}\r\n */\r\nfunction generatePhrase(token, args) {\r\n    let patterns = namespace[token];\r\n    let pattern = pickOne(patterns);\r\n    let phrase = '';\r\n    for (let part of pattern) {\r\n        phrase = phrase.concat(part.call(namespace, args));\r\n    }\r\n    return phrase;\r\n}\r\n\r\nexport {\r\n    initialize,\r\n    generatePhrase,\r\n}","export default \"# vehicle\\r\\n车\\r\\n公交车\\r\\n飞机\\r\\n游轮\\r\\n船\\r\\n\\r\\n# estate\\r\\n汽车旅馆\\r\\n水族馆\\r\\n动物园\\r\\n中央公园\\r\\n体育馆\\r\\n大学\\r\\n博物馆\\r\\n图书馆\\r\\n植物园\\r\\n金字塔\\r\\n祭坛\\r\\n上古石堆\\r\\n考古现场\\r\\n田\\r\\n小溪\\r\\n大河\\r\\n沼泽\\r\\n疯人院\\r\\n\\r\\n# furniture\\r\\n椅子\\r\\n桌子\\r\\n床\\r\\n衣柜\\r\\n橱柜\\r\\n门\\r\\n镜子\\r\\n洗手台\\r\\n电视机\\r\\n茶几\\r\\n摇椅\\r\\n衣橱\\r\\n沙发\\r\\n空调\\r\\n鞋柜\\r\\n保险箱\\r\\n\\r\\n# direction\\r\\n旁边\\r\\n外面\\r\\n内部\\r\\n前面\\r\\n下方\\r\\n左边\\r\\n右边\\r\\n后头\\r\\n之上\\r\\n\\r\\n# name\\r\\n克苏鲁\\r\\n奈亚子\\r\\n古老者\\r\\n格拉道斯\\r\\n福尔摩斯\\r\\n黑法老\\r\\n修格斯\\r\\n奇美拉\\r\\n优格索托斯\\r\\n黑山羊\\r\\n达贡\\r\\n\\r\\n# np\\r\\n派大星\\r\\n苍老师\\r\\n雪龙\\r\\n喵单\\r\\n男妈妈\\r\\n星语\\r\\n浅鸽\\r\\n\\r\\n\\r\\n# vc\\r\\n江子未\\r\\n双儿\\r\\n元气\\r\\n斯布特\\r\\n暴龙\\r\\n修师傅\\r\\n玄妹妹\\r\\n\\r\\n\\r\\n# arkham\\r\\n格拉姆\\r\\n奇迹\\r\\n萧然\\r\\n凉皮\\r\\n里德护士\\r\\n\\r\\n\\r\\n# toho\\r\\n大新文\\r\\n博丽灵梦\\r\\n辉夜姬\\r\\n芙兰朵路\\r\\n咲夜\\r\\n\\r\\n# role\\r\\n[np]\\r\\n\\r\\n# anyone\\r\\n[name]\\r\\n[role]\\r\\n[role]的朋友\\r\\n\\r\\n# location\\r\\n拉莱耶\\r\\n北落师门星\\r\\n阿卡姆\\r\\n英斯茅斯\\r\\n未孕寨\\r\\n埃及\\r\\n玛雅遗址\\r\\n亚述古迹\\r\\n华盛顿\\r\\n波士顿\\r\\n\\r\\n# site\\r\\n[location]的[estate]\\r\\n[location]\\r\\n[role]的家\\r\\n[role]的密室\\r\\n[location]的[estate]的密室\\r\\n\\r\\n# place\\r\\n[furniture]\\r\\n[vehicle]\\r\\n[estate]\\r\\n[role]的[vehicle]\\r\\n[role]家的[furniture]\\r\\n[role]家[direction]\\r\\n\\r\\n# adj\\r\\n漂亮的\\r\\n邪恶的\\r\\n美丽的\\r\\n不可名状的\\r\\n外形特异的\\r\\n混沌的\\r\\n令人作呕的\\r\\n黏糊糊的\\r\\n有放射性的\\r\\n绿色\\r\\n红色\\r\\n白色\\r\\n闪耀着光点的\\r\\n深邃黑暗的\\r\\n古老\\r\\n肮脏\\r\\n污秽\\r\\n风之\\r\\n火之\\r\\n带电\\r\\n\\r\\n# item\\r\\n锤子\\r\\n雕塑\\r\\n泥像\\r\\n人偶\\r\\n神像\\r\\n画布\\r\\n油画\\r\\n相片\\r\\n笔记本\\r\\n锤子\\r\\n陶瓷盘子\\r\\n金属圆环\\r\\n丝线\\r\\n玻璃制品\\r\\n书\\r\\n剪刀\\r\\n橡树子\\r\\n布匹\\r\\n木雕\\r\\n玉器\\r\\n罗盘\\r\\n地图\\r\\n匕首\\r\\n羊皮纸\\r\\n\\r\\n# object\\r\\n[name]之[item]\\r\\n[name]的[item]\\r\\n[role]的[item]\\r\\n[role]朋友的[item]\\r\\n[adj][item]\\r\\n[adj][item]\\r\\n\\r\\n# reason\\r\\n大爆炸\\r\\n离奇死亡\\r\\n凭空而生的浓雾\\r\\n械斗\\r\\n意外\\r\\n过激言论\\r\\n不速之客的来访\\r\\n坠亡事件\\r\\n怪人的出现\\r\\n恐怖事件\\r\\n夏日里的飞雪\\r\\n海啸\\r\\n泥石流\\r\\n\\r\\n# full_reason\\r\\n考古学家们在[site]的[place]发现了[object]\\r\\n[role]染上了恶疾，终将不久于人世\\r\\n[location]的惊天奇案\\r\\n[location]的[object]被盗\\r\\n[role]曾收藏过的一个[object]离奇失踪\\r\\n[role]离奇死亡\\r\\n[role]死后留下了一笔不菲的遗产\\r\\n[role]在临终前留下了有关[object]的嘱托\\r\\n[role]葬礼上的[event]\\r\\n一次[event]\\r\\n在[site]发生的[event]\\r\\n缺钱\\r\\n受[role]所托\\r\\n不堪忍受[role]的压迫\\r\\n在[name]的神殿遇见了[anyone]\\r\\n\\r\\n# start\\r\\n[reason]\\r\\n[full_reason]\\r\\n\\r\\n# progress\\r\\n在[place]找到了[object]\\r\\n穿越了[site]，来到[site]\\r\\n离开了[site]\\r\\n与[role]展开了殊死搏斗\\r\\n加入了[role]一行人\\r\\n救下了[role]\\r\\n来到了[site]\\r\\n经历了各种困难险阻\\r\\n毁灭了[object]\\r\\n被[object]蛊惑\\r\\n走了些弯路\\r\\n掉落山崖\\r\\n掌控了[object]中的魔力\\r\\n释放了被囚禁于[object]中的[anyone]的灵魂\\r\\n实现了[anyone]的愿望\\r\\n完成了[location]领主的委托\\r\\n\\r\\n# end\\r\\n彻底疯了\\r\\n死于非命\\r\\n死于[anyone]之手\\r\\n被[object]救了一命\\r\\n被[anyone]救了一命\\r\\n被[role]用[object]救了一命\\r\\n放弃了思考\\r\\n发现了与[anyone]有关的真相\\r\\n发现了与[location]有关的事实\\r\\n选择了加入[role]\\r\\n了却了自己的一生\\r\\n打败了[anyone]\\r\\n在[place]战胜了[adj][anyone]而获得了自由\\r\\n与[role]喜结连理，并幸福地生活着\\r\\n用[object]结束了自己地一生\\r\\n\\r\\n# story\\r\\n由于[start]，$role$不得不开始探索。在[progress]之后，$role$[end]。\\r\\n[start]之后，$role$开始了旅程。先是[progress]，而后又[progress]，最后$role$[end]。\\r\\n因为[start]，$role$[progress]，然后，$role$[end]。\\r\\n[role]告诉$role$，他见证了[start]，$role$[progress]，然后，$role$[end]。\\r\\n[start]，迫使$role$[progress]，以至于$role$[end]。\\r\\n$role$曾经因[start]，而[progress]，现在却又不得不[progress]，又因为$role$[progress]，终于[end]。\\r\\n$role$曾向人讲述[name][progress]的故事，现在这事降临到自己身上，这次$role$[progress]，最后[end]。\\r\\n人们发现$role$[end]，经过调查发现原来$role$曾经[progress]，而一切的起因是[start]。\\r\\n$role$曾[progress]，最后[end]，经过调查，起因是[start]。\\r\\n迫于[start]，$role$最后[end]，而为此$role$甚至[progress]。\";","import {Dice} from '@/util/random.js';\r\nimport affixes from '@/config/affixes.js';\r\nimport {nextUid} from \"@/util/unify.js\";\r\nimport {generatePhrase, initialize} from \"@/game/pattern-processer.js\";\r\nimport patterns from '@/assets/data/patterns.txt';\r\nimport data from \"@/game/data.js\";\r\nimport {randInt} from \"@/util/random\";\r\n\r\n\r\n/**\r\n * 根据词缀的权重制作的骰子\r\n * @type {Dice}\r\n */\r\nlet diceAffix = new Dice();\r\n\r\n/**\r\n * 检查账户余额是否充足\r\n * @param amount 所需余额\r\n * @returns {boolean} 检查结果\r\n */\r\nfunction checkAccount(amount) {\r\n    return data.profile.account >= amount;\r\n}\r\n\r\n/**\r\n * 以给定金额为代价，进行抽卡。若成功则返回卡牌，否则返回null\r\n * @returns {string|null} 抽卡中发生的错误，若无则返回null\r\n */\r\nfunction draw() {\r\n    let payment = data.settings.cost;\r\n    if (checkAccount(payment) && !data.profile.todayDraw) {\r\n        data.profile.account -= payment;\r\n        let now = Date.now();\r\n        data.profile.lastDraw = now;\r\n\r\n        let affixId = diceAffix.roll();\r\n        let affix = affixes[affixId];\r\n        let name = generatePhrase('role');\r\n\r\n        let card = {\r\n            uid: nextUid(),\r\n            affixId: affix.id,\r\n            name: name,\r\n            story: generatePhrase('story', {role: name}),\r\n            address: generatePhrase('site', {role: name}),\r\n            artifact: generatePhrase('object', {role: name}),\r\n            color: affix.color,\r\n            timestamp: now,\r\n        };\r\n        data.profile.storage.push(card);\r\n        data.profile.drawResult = card;\r\n        data.profile.todayDraw = true;\r\n        return null;\r\n    }\r\n    return '余额不足或今日次数用尽';\r\n}\r\n\r\n/**\r\n * 本地存档键\r\n * @type {string}\r\n */\r\nconst LOCAL_STORAGE_KEY = 'draw-each-day';\r\n\r\n/**\r\n * 从localStorage中读取存档，键为LOCAL_STORAGE_KEY的值\r\n */\r\nfunction loadData() {\r\n    let json = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\r\n    if (json) {\r\n        Object.assign(data, json);\r\n    }\r\n}\r\n\r\n/**\r\n * 将存档存在localStorage，键为LOCAL_STORAGE_KEY的值\r\n */\r\nfunction saveData() {\r\n    let json = JSON.stringify(data);\r\n    localStorage.setItem(LOCAL_STORAGE_KEY, json);\r\n}\r\n\r\n/**\r\n * 判断当前时剑是否为新的一天（距离上次抽卡一个自然天）\r\n * @returns {boolean}\r\n */\r\nfunction isNewDay() {\r\n    let today = Math.floor(Date.now() / (1000 * 60 * 60 * 24));\r\n    let lastDrawDay = Math.floor(data.profile.lastDraw / (1000 * 60 * 60 * 24));\r\n    return today > lastDrawDay;\r\n}\r\n\r\n/**\r\n * 处理新一天的逻辑，包括：\r\n * 更新幸运值\r\n * 给予新的金额\r\n * 升级词缀骰子\r\n * 更新今日抽卡标记\r\n */\r\nfunction onNewDay() {\r\n    let luck = Math.random();\r\n    data.profile.luck = luck;\r\n    data.profile.account += 20 + randInt(Math.floor(80 * (luck + 0.5)));\r\n    if (isNewDay()) {\r\n        data.profile.todayDraw = false;\r\n    }\r\n    makeAffixDice();\r\n    saveData();\r\n}\r\n\r\n/**\r\n * 初始化游戏\r\n */\r\nfunction initializeGame() {\r\n    initialize(patterns);\r\n    loadData();\r\n    if (isNewDay()) {\r\n        onNewDay();\r\n    } else {\r\n        makeAffixDice();\r\n    }\r\n}\r\n\r\n/**\r\n * 制作词缀骰子，其中涉及玩家幸运值\r\n */\r\nfunction makeAffixDice() {\r\n    let computedLuck = data.profile.luck + 0.5;\r\n    diceAffix.clear();\r\n    Object.values(affixes).forEach(affix => diceAffix.put(affix.id, affix.weight / computedLuck));\r\n}\r\n\r\n// region 必要的初始化\r\ninitializeGame();\r\n// endregion\r\n\r\nexport {\r\n    draw,\r\n    checkAccount,\r\n    loadData,\r\n    saveData,\r\n};","\r\nimport {draw} from \"@/game/core.js\";\r\nimport data from \"@/game/data\";\r\nimport {checkAccount, saveData} from \"@/game/core\";\r\n\r\nexport default {\r\n    install(Vue) {\r\n        Vue.prototype.$draw = draw;\r\n        Vue.prototype.$checkAccount = checkAccount;\r\n        Vue.prototype.$saveData = saveData;\r\n\r\n        Vue.prototype.$profile = data.profile;\r\n        Vue.prototype.$settings = data.settings;\r\n    }\r\n}","import Vue from 'vue'\nimport App from './App.vue'\n\nimport drawEachDay from '@/plugins/draw-each-day'\n\nVue.use(drawEachDay);\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=3ff8aa7f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=3ff8aa7f&scoped=true&lang=css&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=style&index=0&id=1463a5aa&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=style&index=0&id=1463a5aa&scoped=true&lang=css&\""],"sourceRoot":""}